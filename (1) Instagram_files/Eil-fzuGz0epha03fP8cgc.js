;/*FB_PKG_DELIM*/

__d("oz-player/shims/ozReportUnexpectedError",["oz-player/shims/www/ozReportUnexpectedErrorWWW"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("oz-player/shims/www/ozReportUnexpectedErrorWWW")}),98);
__d("oz-player/loggings/OzLoggingUtils",["oz-player/shims/ozReportUnexpectedError"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){a=a.getOperationLogger(b).start();try{return c(a)}catch(b){a.setError(b);throw b}finally{a.log()}}function b(a,b,d,e,f){e===void 0&&(e=function(){});f===void 0&&(f=function(){});var g=b.getOperationLogger(d).start();e(g);a.then(function(a){f(g),g.log()},function(a){f(g),g.setError(a),g.log()})["catch"](function(a){c("oz-player/shims/ozReportUnexpectedError")(a,d+" logger")})}g.executeOperationAndLog=a;g.monitorPromiseAndLogOperation=b}),98);
__d("oz-player/loggings/OzOperationLoggerBase",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$52=new Map(),this.$1=a}var b=a.prototype;b.start=function(){var a=Date.now();this.setClientTimeBegin(a);this.setClientTimeEnd(null);this.setClientTimeDuration(null);return this};b.log=function(){var a=Date.now(),b=this.getClientTimeBegin(),c=this.getClientTimeEnd();(b==null||b===0)&&(b=a,this.setClientTimeBegin(b));(c==null||c===0)&&(c=a,this.setClientTimeEnd(c));this.setClientTimeDuration(c-b)};b.setError=function(a){this.$2=a;return this};b.setPerSessionSampleRate=function(a){this.$3=a;return this};b.setAppendTarget=function(a){this.$47=a;return this};b.setOneObserved=function(a){this.$44=a;return this};b.setOneReqWave=function(a){this.$45=a;return this};b.setOneResWave=function(a){this.$46=a;return this};b.setIsP2pPlayback=function(a){this.$43=a;return this};b.setResult=function(a){this.$4=a;return this};b.setType=function(a){this.$5=a;return this};b.setClientTimeBegin=function(a){this.$6=a;return this};b.setClientTimeDuration=function(a){this.$7=a;return this};b.setClientTimeEnd=function(a){this.$8=a;return this};b.setSegmentCount=function(a){this.$15=a;return this};b.setTimeToFirstByte=function(a){this.$9=a;return this};b.setTimeToLastByte=function(a){this.$10=a;return this};b.setTimeToRequestStart=function(a){this.$11=a;return this};b.setTimeToRequestSent=function(a){this.$12=a;return this};b.setReason=function(a){this.$13=a;return this};b.setResource=function(a){this.$14=a;return this};b.setSegmentStartTime=function(a){this.$16=a;return this};b.setSegmentEndTime=function(a){this.$17=a;return this};b.setLength=function(a){this.$18=a;return this};b.setLiveheadPosition=function(a){this.$19=a;return this};b.setLiveheadSeqNumHeader=function(a){this.$20=a;return this};b.setLiveheadSeqNumMpd=function(a){this.$21=a;return this};b.setManifestType=function(a){this.$22=a;return this};b.setMediaSourceNewDuration=function(a){this.$23=a;return this};b.setMediaSourcePreviousDuration=function(a){this.$24=a;return this};b.setPriorityFloat=function(a){this.$25=a;return this};b.setAppendedBufferMs=function(a){this.$26=a;return this};b.setInitiator=function(a){this.$27=a;return this};b.setPreloadTime=function(a){this.$28=a;return this};b.setConcluder=function(a){this.$29=a;return this};b.setPreviousRepresentationID=function(a){this.$30=a;return this};b.setRepresentationID=function(a){this.$31=a;return this};b.setStreamSwitchReason=function(a){this.$32=a;return this};b.setState=function(a){this.$33=a;return this};b.setContentLengthHeader=function(a){this.$34=a;return this};b.setOriginHitHeader=function(a){this.$36=a;return this};b.setEdgeHitHeader=function(a){this.$37=a;return this};b.setFNAHitHeader=function(a){this.$38=a;return this};b.setCode=function(a){this.$35=a;return this};b.setResponseTimeMsHeader=function(a){this.$39=a;return this};b.setIsTemplatedManifest=function(a){this.$40=a;return this};b.setIsLatencyCachupEnabled=function(a){this.$41=a;return this};b.setPlayerFormat=function(a){this.$42=a;return this};b.setIsRingBufferSample=function(a){this.$48=a;return this};b.setIsOnline=function(a){this.$49=a;return this};b.setProxyStatusHeader=function(a){this.$50=a;return this};b.setPlaybackFbmsParam=function(a){return this};b.setPreferredEdgeLatency=function(a){this.$51=a;return this};b.setUserInfo=function(a){return this};b.setDynamicStatusHeader=function(a){return this};b.setIsMixedCodecManifest=function(a){this.$53=a;return this};b.getPerSessionSampleRate=function(){return this.$3};b.setMediaSourceSourceBuffer=function(a,b){this.$52.set(a,b);return this};b.unsetMediaSourceSourceBuffers=function(){this.$52.clear();return this};b.getError=function(){return this.$2};b.getResult=function(){return this.$4};b.getType=function(){return this.$5};b.getClientTimeBegin=function(){return this.$6};b.getClientTimeEnd=function(){return this.$7!=null?this.$6!=null?this.$6+this.$7:null:this.$8};b.getTimeToRequestStart=function(){return this.$11};b.getTimeToRequestSent=function(){return this.$12};b.getReason=function(){return this.$13};b.getResource=function(){return this.$14};b.getOperationName=function(){return this.$1};b.getSegmentStartTime=function(){return this.$16};b.getSegmentEndTime=function(){return this.$17};b.getLength=function(){return this.$18};b.getLiveheadPosition=function(){return this.$19};b.getManifestType=function(){return this.$22};b.getIsMixedCodecManifest=function(){return this.$53};b.getPriorityFloat=function(){return this.$25};b.getAppendedBufferMs=function(){return this.$26};b.getInitiator=function(){return this.$27};b.getPreloadTime=function(){return this.$28};b.getConcluder=function(){return this.$29};b.getContentLengthHeader=function(){return this.$34};b.getOriginHitHeader=function(){return this.$36};b.getEdgeHitHeader=function(){return this.$37};b.getFNAHitHeader=function(){return this.$38};b.getCode=function(){return this.$35};b.getResponseTimeMsHeader=function(){return this.$39};b.getIsTemplatedManifest=function(){return this.$40};b.getOneObserved=function(){return this.$44};b.getOneReqWave=function(){return this.$45};b.getOneResWave=function(){return this.$46};b.getAppendTarget=function(){return this.$47};b.getIsRingBufferSample=function(){return this.$48};b.getIsOnline=function(){return this.$49};b.getProxyStatusHeader=function(){return this.$50};b.getMediaSourceSourceBuffers=function(){return this.$52};return a}();f["default"]=a}),66);
__d("oz-player/shims/www/OzMaybeNativePromiseWWW",["cr:3014"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:3014")}),98);
__d("oz-player/shims/OzMaybeNativePromise",["oz-player/shims/www/OzMaybeNativePromiseWWW"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("oz-player/shims/www/OzMaybeNativePromiseWWW")}),98);
__d("oz-player/utils/OzErrorEmitter",["oz-player/shims/OzEventEmitter","oz-player/shims/ozvariant"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){function b(b){var d;b===void 0&&(b=!1);d=a.call(this)||this;d.$OzErrorEmitter$p_1=!1;d.$OzErrorEmitter$p_2=!1;d.$OzErrorEmitter$p_3=[];d.emitError=function(a){!d.$OzErrorEmitter$p_1?d.$OzErrorEmitter$p_2?d.$OzErrorEmitter$p_3.push(a):d.$OzErrorEmitter$p_1||c("oz-player/shims/ozvariant")(0,14038):d.emit("error",a)};d.$OzErrorEmitter$p_2=b;return d}babelHelpers.inheritsLoose(b,a);var d=b.prototype;d.onError=function(a){this.$OzErrorEmitter$p_1=!0;a=this.addListener("error",a);this.$OzErrorEmitter$p_2&&this.$OzErrorEmitter$p_3.length>0&&this.$OzErrorEmitter$p_3.forEach(this.emitError);return a};return b}(c("oz-player/shims/OzEventEmitter"));g["default"]=a}),98);
__d("oz-player/drm/OzDrmManager",["oz-player/drm/OzDrmUtils","oz-player/loggings/OzLoggingUtils","oz-player/loggings/OzOperationLoggerBase","oz-player/shims/OzDOMEventListener","oz-player/shims/OzMaybeNativePromise","oz-player/shims/OzSubscriptionsHandler","oz-player/utils/OzErrorEmitter","oz-player/utils/OzErrorUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,e){var f=this;e===void 0&&(e=null);this.$1=null;this.$2=new Map();this.$4=!1;this.$6=new(c("oz-player/shims/OzSubscriptionsHandler"))();this.$7=new(c("oz-player/utils/OzErrorEmitter"))();this.$8=!1;this.$9=null;this.$10=0;this.$11=[];this.$12=[];this.$22=function(a,b){a instanceof c("oz-player/loggings/OzOperationLoggerBase")&&a.getError()&&a.setResult("failed"),b!=null&&a.setReason(b)};this.$19=function(a){if(f.$4)return c("oz-player/shims/OzMaybeNativePromise").reject(d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_DRM_MANAGER",description:"OzDrmManager destroyed before call to mediaKeySystemAccess.createMediaKeys()."}));var b=f.$5.mediaKeys!=null?c("oz-player/shims/OzMaybeNativePromise").resolve(f.$5.mediaKeys):a.createMediaKeys();b=b.then(function(b){return{mediaKeySystemAccess:a,mediaKeys:b}});d("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation(b,f.$3,"drm_create_media_keys",function(){},f.$22);return b};this.$20=function(a){if(f.$4)return c("oz-player/shims/OzMaybeNativePromise").reject(d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_DRM_MANAGER",description:"OzDrmManager destroyed before call to setMediaKeys()"}));var b=a.mediaKeySystemAccess,e=a.mediaKeys;if(!e)throw d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_DRM_MANAGER",description:"No mediaKeys for mediaKeySystemAccess"});a=f.$5.setMediaKeys(e).then(function(){if(f.$4)return c("oz-player/shims/OzMaybeNativePromise").reject(d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_DRM_MANAGER",description:"OzDrmManager destroyed after setMediaKeys() called."}));var a=Array.from(f.$2.values()).find(function(a){return a.getKeySystem()===b.keySystem});if(!a)throw d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_DRM_MANAGER",description:"Can't find OzDrmProvider for keySystem "+b.keySystem});var g=a.getServerCertificate();return g?e.setServerCertificate(g).then(function(){return{mediaKeys:e,provider:a}}):{mediaKeys:e,provider:a}});d("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation(a,f.$3,"drm_set_media_keys",function(){},f.$22);return a};this.$21=function(a){var b=a.mediaKeys,e=a.provider;a=e.getInitDatas();if(a.length===0){f.$6.addSubscriptions(c("oz-player/shims/OzDOMEventListener").listenDOMEvent(f.$5,"encrypted",function(a){f.$23(b,e,a)["catch"](function(a){f.$14(d("oz-player/utils/OzErrorUtils").convertPromiseRejectionReasonToOzError(a,{type:"OZ_DRM_MANAGER",description:"DRM encrypted rejection"}))})}));return c("oz-player/shims/OzMaybeNativePromise").resolve([])}a=a.map(function(a){return f.$23(b,e,{initData:a.data,initDataType:a.type})});a=c("oz-player/shims/OzMaybeNativePromise").all(a);d("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation(a,f.$3,"drm_request_license",function(){},f.$22);return a};this.$5=b;this.$1=e;this.$3=a.cloneContext().setType("drm_manager")}var b=a.prototype;b.hasContentProtections=function(){return this.$9};b.onError=function(a){return this.$7.onError(a)};b.$13=function(a){this.$7.emitError(a)};b.$14=function(a){var b;b=(b=(b=this.$1)==null?void 0:b.maxStartEMEAttempts)!=null?b:-1;this.$10<b?this.$15():this.$13(a)};b.addProvider=function(a){this.$2.set(a.getSchemeId(),a)};b.getProviderForSchemeId=function(a){return this.$2.get(a)};b.$16=function(a){if(!a)return null;var b=[];for(var c=0;c<a.length;c++){var e=a[c],f=e.$.schemeIdUri;f=this.getProviderForSchemeId(f);if(f){var g=f.getInitDatas();if(g.length==0&&e["cenc:pssh"]&&e["cenc:pssh"].length===1){e=(e=e["cenc:pssh"][0]._)!=null?e:"";e=d("oz-player/drm/OzDrmUtils").base64ToUint8Array(e.replace(/-/g,"+").replace(/_/g,"/"));g=[{data:e,type:"cenc"}];f.setInitDatas(g)}b.push({provider:f,initDatas:g})}}return b};b.$15=function(){try{this.$8=!1,this.startEME(this.$11,this.$12)}catch(b){var a=b;this.$13(d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_DRM_MANAGER",description:"Restart EME failed with: "+String(a),extra:{}}))}};b.startEME=function(a,b){var c=this;if(this.$8)return;this.$8=!0;this.$10+=1;this.$11=a;this.$12=b;var e=new Map();this.$17(b,e,"audio");this.$17(a,e,"video");var f;e.forEach(function(a,b){!f?f=c.$18(b,a):f=f["catch"](function(){return c.$18(b,a)})});if(!f){this.$9=!1;return}this.$9=!0;var g=this.$3.getOperationLogger("drm_setup").start();f.then(this.$19).then(this.$20).then(this.$21).then(function(){return g.log()},function(a){a=d("oz-player/utils/OzErrorUtils").convertPromiseRejectionReasonToOzError(a,{type:"OZ_DRM_MANAGER",description:"DRM keyPromiseChain rejection"});c.$13(a);g.setResult("failed").setError(a).log()})};b.$17=function(a,b,c){var d=this;a.forEach(function(a){var e=d.$16(a.getContentProtectionXml()),f=a.getMimeCodecs();e!=null&&e.forEach(function(a){a=a.provider;var d=a.getKeySystem(),e=b.get(d);e||(e={audioCapabilities:new Map(),videoCapabilities:new Map(),distinctiveIdentifier:a.getRequireDistinctiveIdentifier(),persistentState:a.getRequirePersistentState(),sessionTypes:a.getDrmSessionTypes(),initDataTypes:a.getInitDataTypes()},b.set(d,e));c==="audio"&&!e.audioCapabilities.has(f)&&e.audioCapabilities.set(f,{contentType:f,robustness:a.getAudioRobustness()});c==="video"&&!e.videoCapabilities.has(f)&&e.videoCapabilities.set(f,{contentType:f,robustness:a.getVideoRobustness()})})})};b.destroy=function(){this.$6.release(),this.$4=!0};b.$18=function(a,b){var e=this,f={audioCapabilities:Array.from(b.audioCapabilities.values()),videoCapabilities:Array.from(b.videoCapabilities.values()),distinctiveIdentifier:b.distinctiveIdentifier,persistentState:b.persistentState,sessionTypes:b.sessionTypes,initDataTypes:b.initDataTypes};b=window.navigator.requestMediaKeySystemAccess(a,[f]);d("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation(b,this.$3,"drm_request_media_key_system_access",function(){},function(b){var d=null;b instanceof c("oz-player/loggings/OzOperationLoggerBase")&&b.getError()&&(d="keySystem: "+a+";domConfig: "+JSON.stringify(f));return e.$22(b,d)});return b};b.$23=function(a,b,e){var f=this,g=a.createSession();this.$6.addSubscriptions(c("oz-player/shims/OzDOMEventListener").listenDOMEvent(g,"message",function(a){f.$24(g,b,a)["catch"](function(a){f.$14(d("oz-player/utils/OzErrorUtils").convertPromiseRejectionReasonToOzError(a,{type:"OZ_DRM_MANAGER",description:"DRM message rejection"}))})}),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(g,"keystatuseschange",function(a){f.$25(g)["catch"](function(a){f.$14(d("oz-player/utils/OzErrorUtils").convertPromiseRejectionReasonToOzError(a,{type:"OZ_DRM_MANAGER",description:"DRM keystatuseschange rejection"}))})}));return g.generateRequest(e.initDataType,e.initData)};b.$24=function(a,b,c){var e=this;c=b.getLicenseRequestInfo(c.message.slice(0));var f=this.$3.getOperationLogger("drm_fetch_license").setResource(c.url).start();return window.fetch(c.url,c).then(function(c){c.ok?f.setResult("success").setCode(c.status).log():f.setResult("failed").setCode(c.status).setError(d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_DRM_MANAGER",description:"DRM license fetch HTTP status not OK ("+c.status+")",extra:{code:c.status.toString()}})).log();return c.arrayBuffer().then(function(f){var g=new Uint8Array(f);g=b.parseLicenseResponse(g);if(g==null||g.byteLength===0){var h=g==null?"License is null or undefined.":"License is 0 bytes.";!c.ok?h+=" HTTP status not OK ("+c.status+")":f.byteLength===0&&(h+=" HTTP status OK ("+c.status+"), but response body is 0 bytes");f=d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_DRM_MANAGER",description:"No license for "+b.getKeySystem()+" - "+h,extra:{code:c.status.toString(),headers:c.headers,url:c.url}});h=(h=(h=e.$1)==null?void 0:h.throwNoLicenseError)!=null?h:!1;if(h)throw f;else e.$13(f)}else a.update(g)})})};b.$25=function(a){return a.expiration<Date.now()?a.close():c("oz-player/shims/OzMaybeNativePromise").resolve()};return a}();g.OzDrmManager=a}),98);
__d("oz-player/loggings/OzPerfLoggerProviderBase",["oz-player/utils/OzErrorUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){}var b=a.prototype;b.cloneContext=function(){var a=this.createLoggerProvider();this.$11(a);return a};b.setType=function(a){this.$1=a;return this};b.setInitiator=function(a){this.$2=a;return this};b.setResource=function(a){this.$4=a;return this};b.setRepresentationID=function(a){this.$3=a;return this};b.setSegmentStartTime=function(a){this.$5=a;return this};b.setSegmentEndTime=function(a){this.$6=a;return this};b.setStreamSwitchReason=function(a){this.$7=a;return this};b.setIsP2pPlayback=function(a){this.$8=a;return this};b.setIsRingBufferSample=function(a){this.$9=a;return this};b.setPerSessionSampleRate=function(a){this.$10=a;return this};b.getType=function(){return this.$1};b.getInitiator=function(){return this.$2};b.getRepresentationID=function(){return this.$3};b.getStreamSwitchReason=function(){return this.$7};b.getResource=function(){return this.$4};b.getSegmentStartTime=function(){return this.$5};b.getSegmentEndTime=function(){return this.$6};b.getIsP2pPlayback=function(){return this.$8};b.getIsRingBufferSample=function(){return this.$9};b.getOperationLogger=function(a){a=this.createOperationLogger(a);return this.setOperationContext(a)};b.setOperationContext=function(a){this.$11(a);return a};b.createOperationLogger=function(a){throw d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_NOT_IMPLEMENTED_ERROR",description:"Not implemented: createOperationLogger"})};b.createLoggerProvider=function(){throw d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_NOT_IMPLEMENTED_ERROR",description:"Not implemented: createLoggerProvider"})};b.$11=function(a){this.getType()&&a.setType(this.getType()),this.getInitiator()&&a.setInitiator(this.getInitiator()),this.getResource()&&a.setResource(this.getResource()),this.getRepresentationID()&&a.setRepresentationID(this.getRepresentationID()),this.getStreamSwitchReason()&&a.setStreamSwitchReason(this.getStreamSwitchReason()),typeof this.getSegmentStartTime()==="number"&&a.setSegmentStartTime(this.getSegmentStartTime()),typeof this.getSegmentEndTime()==="number"&&a.setSegmentEndTime(this.getSegmentEndTime()),typeof this.getIsP2pPlayback()==="boolean"&&a.setIsP2pPlayback(this.getIsP2pPlayback()),typeof this.getIsRingBufferSample()==="boolean"&&a.setIsRingBufferSample(this.getIsRingBufferSample())};return a}();g["default"]=a}),98);
__d("oz-player/loggings/OzDevConsolePerfLogger",["oz-player/loggings/OzOperationLoggerBase","oz-player/loggings/OzPerfLoggerProviderBase"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a;for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];(a=console).debug.apply(a,["[oz]"].concat(c))}function i(){var a;for(var b=arguments.length,c=new Array(b),d=0;d<b;d++)c[d]=arguments[d];(a=console).error.apply(a,["[oz]"].concat(c))}function j(a,b){return Math.floor(a).toString().padStart(b,"0")}function k(a,b){b===void 0&&(b=null);var c=function(a){return j(a.getHours(),2)+":"+j(a.getMinutes(),2)+":"+j(a.getSeconds(),2)+" "+j(a.getMilliseconds(),3)},d=b?b.getTime()-a.getTime():0;return"["+c(a)+(b?" - "+c(b):"")+" ("+d+" ms)]"}function l(a){return a==="failed"?i:h}function m(a){return a==null||a===0?null:a.toFixed(2)}a=function(a){function b(){return a.apply(this,arguments)||this}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.createOperationLogger=function(a){return new n(a)};c.createLoggerProvider=function(){return new b()};return b}(c("oz-player/loggings/OzPerfLoggerProviderBase"));var n=function(a){function b(){return a.apply(this,arguments)||this}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.log=function(){a.prototype.log.call(this);var b=this.getClientTimeBegin()||0,c=this.getClientTimeEnd();c=c!=null&&c!==0?new Date(c):null;var d=this.getResult()||"success",e=this.getType(),f=this.getInitiator(),g=this.getResource(),h=m(this.getSegmentStartTime()),i=m(this.getSegmentEndTime());l(d)("["+d+"]",this.getOperationName()+": "+k(new Date(b),c),e!=null&&e!==""?"["+e+"]":"",h!=null&&h!==""&&i!=null&&i!==""?"[segment time range: "+h+" - "+i+"]":"",f||"",g||"")};return b}(c("oz-player/loggings/OzOperationLoggerBase"));g.OzDevConsolePerfLoggerProvider=a;g.OzDevConsoleOperationLogger=n}),98);
__d("oz-player/loggings/OzMultiDestinationPerfLogger",["oz-player/loggings/OzOperationLoggerBase","oz-player/loggings/OzPerfLoggerProviderBase"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){function b(b){var c;c=a.call(this)||this;c.$OzMultiDestinationPerfLoggerProvider$p_1=b;return c}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.createOperationLogger=function(a){return new h(a,this.$OzMultiDestinationPerfLoggerProvider$p_1.map(function(b){return b.getOperationLogger(a)}))};c.createLoggerProvider=function(){return new b(this.$OzMultiDestinationPerfLoggerProvider$p_1)};return b}(c("oz-player/loggings/OzPerfLoggerProviderBase"));var h=function(a){function b(b,c){b=a.call(this,b)||this;b.$OzMultiDestinationOperationLogger$p_1=c;return b}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.start=function(){a.prototype.start.call(this);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(a){return a.start()});return this};c.setPerSessionSampleRate=function(b){a.prototype.setPerSessionSampleRate.call(this,b);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(a){return a.setPerSessionSampleRate(b)});return this};c.setResult=function(b){a.prototype.setResult.call(this,b);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(a){return a.setResult(b)});return this};c.setError=function(b){a.prototype.setError.call(this,b);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(a){return a.setError(b)});return this};c.setType=function(b){a.prototype.setType.call(this,b);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(a){return a.setType(b)});return this};c.setMediaSourcePreviousDuration=function(b){a.prototype.setMediaSourcePreviousDuration.call(this,b);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(a){return a.setMediaSourcePreviousDuration(b)});return this};c.setMediaSourceNewDuration=function(b){a.prototype.setMediaSourceNewDuration.call(this,b);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(a){return a.setMediaSourceNewDuration(b)});return this};c.setClientTimeBegin=function(b){a.prototype.setClientTimeBegin.call(this,b);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(a){return a.setClientTimeBegin(b)});return this};c.setClientTimeDuration=function(b){a.prototype.setClientTimeDuration.call(this,b);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(a){return a.setClientTimeDuration(b)});return this};c.setClientTimeEnd=function(b){a.prototype.setClientTimeEnd.call(this,b);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(a){return a.setClientTimeEnd(b)});return this};c.setSegmentCount=function(b){a.prototype.setSegmentCount.call(this,b);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(a){return a.setSegmentCount(b)});return this};c.setTimeToFirstByte=function(b){a.prototype.setTimeToFirstByte.call(this,b);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(a){return a.setTimeToFirstByte(b)});return this};c.setTimeToLastByte=function(b){a.prototype.setTimeToLastByte.call(this,b);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(a){return a.setTimeToLastByte(b)});return this};c.setTimeToRequestStart=function(b){a.prototype.setTimeToRequestStart.call(this,b);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(a){return a.setTimeToRequestStart(b)});return this};c.setTimeToRequestSent=function(b){a.prototype.setTimeToRequestSent.call(this,b);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(a){return a.setTimeToRequestSent(b)});return this};c.setReason=function(b){a.prototype.setReason.call(this,b);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(a){return a.setReason(b)});return this};c.setResource=function(b){a.prototype.setResource.call(this,b);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(a){return a.setResource(b)});return this};c.setSegmentStartTime=function(b){a.prototype.setSegmentStartTime.call(this,b);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(a){return a.setSegmentStartTime(b)});return this};c.setSegmentEndTime=function(b){a.prototype.setSegmentEndTime.call(this,b);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(a){return a.setSegmentEndTime(b)});return this};c.setAppendedBufferMs=function(b){a.prototype.setAppendedBufferMs.call(this,b);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(a){return a.setAppendedBufferMs(b)});return this};c.setLength=function(b){a.prototype.setLength.call(this,b);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(a){return a.setLength(b)});return this};c.setLiveheadPosition=function(b){a.prototype.setLiveheadPosition.call(this,b);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(a){return a.setLiveheadPosition(b)});return this};c.setLiveheadSeqNumHeader=function(b){a.prototype.setLiveheadSeqNumHeader.call(this,b);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(a){return a.setLiveheadSeqNumHeader(b)});return this};c.setLiveheadSeqNumMpd=function(b){a.prototype.setLiveheadSeqNumMpd.call(this,b);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(a){return a.setLiveheadSeqNumMpd(b)});return this};c.setManifestType=function(b){a.prototype.setManifestType.call(this,b);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(a){return a.setManifestType(b)});return this};c.setPriorityFloat=function(b){a.prototype.setPriorityFloat.call(this,b);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(a){return a.setPriorityFloat(b)});return this};c.setInitiator=function(b){a.prototype.setInitiator.call(this,b);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(a){return a.setInitiator(b)});return this};c.setPreloadTime=function(b){a.prototype.setPreloadTime.call(this,b);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(a){return a.setPreloadTime(b)});return this};c.setConcluder=function(b){a.prototype.setConcluder.call(this,b);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(a){return a.setConcluder(b)});return this};c.setPreviousRepresentationID=function(b){a.prototype.setPreviousRepresentationID.call(this,b);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(a){return a.setPreviousRepresentationID(b)});return this};c.setRepresentationID=function(b){a.prototype.setRepresentationID.call(this,b);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(a){return a.setRepresentationID(b)});return this};c.setState=function(b){a.prototype.setState.call(this,b);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(a){return a.setState(b)});return this};c.setContentLengthHeader=function(b){a.prototype.setContentLengthHeader.call(this,b);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(a){return a.setContentLengthHeader(b)});return this};c.setEdgeHitHeader=function(b){a.prototype.setEdgeHitHeader.call(this,b);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(a){return a.setEdgeHitHeader(b)});return this};c.setFNAHitHeader=function(b){a.prototype.setFNAHitHeader.call(this,b);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(a){return a.setFNAHitHeader(b)});return this};c.setOriginHitHeader=function(b){a.prototype.setOriginHitHeader.call(this,b);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(a){return a.setOriginHitHeader(b)});return this};c.setCode=function(b){a.prototype.setCode.call(this,b);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(a){return a.setCode(b)});return this};c.setResponseTimeMsHeader=function(b){a.prototype.setResponseTimeMsHeader.call(this,b);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(a){return a.setResponseTimeMsHeader(b)});return this};c.setIsTemplatedManifest=function(b){a.prototype.setIsTemplatedManifest.call(this,b);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(a){return a.setIsTemplatedManifest(b)});return this};c.setIsLatencyCachupEnabled=function(b){a.prototype.setIsLatencyCachupEnabled.call(this,b);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(a){return a.setIsLatencyCachupEnabled(b)});return this};c.setPlayerFormat=function(b){a.prototype.setPlayerFormat.call(this,b);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(a){return a.setPlayerFormat(b)});return this};c.setIsP2pPlayback=function(b){a.prototype.setIsP2pPlayback.call(this,b);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(a){return a.setIsP2pPlayback(b)});return this};c.setOneObserved=function(b){a.prototype.setOneObserved.call(this,b);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(a){return a.setOneObserved(b)});return this};c.setOneReqWave=function(b){a.prototype.setOneReqWave.call(this,b);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(a){return a.setOneReqWave(b)});return this};c.setOneResWave=function(b){a.prototype.setOneResWave.call(this,b);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(a){return a.setOneResWave(b)});return this};c.setAppendTarget=function(b){a.prototype.setAppendTarget.call(this,b);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(a){return a.setAppendTarget(b)});return this};c.setIsRingBufferSample=function(b){a.prototype.setIsRingBufferSample.call(this,b);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(a){return a.setIsRingBufferSample(b)});return this};c.setIsOnline=function(b){a.prototype.setIsOnline.call(this,b);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(a){return a.setIsOnline(b)});return this};c.setIsMixedCodecManifest=function(b){a.prototype.setIsMixedCodecManifest.call(this,b);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(a){return a.setIsMixedCodecManifest(b)});return this};c.setProxyStatusHeader=function(b){a.prototype.setProxyStatusHeader.call(this,b);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(a){return a.setProxyStatusHeader(b)});return this};c.setPlaybackFbmsParam=function(b){a.prototype.setPlaybackFbmsParam.call(this,b);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(a){return a.setPlaybackFbmsParam(b)});return this};c.setPreferredEdgeLatency=function(b){a.prototype.setPreferredEdgeLatency.call(this,b);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(a){return a.setPreferredEdgeLatency(b)});return this};c.setUserInfo=function(b){a.prototype.setUserInfo.call(this,b);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(a){return a.setUserInfo(b)});return this};c.setDynamicStatusHeader=function(b){a.prototype.setDynamicStatusHeader.call(this,b);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(a){return a.setDynamicStatusHeader(b)});return this};c.setMediaSourceSourceBuffer=function(b,c){a.prototype.setMediaSourceSourceBuffer.call(this,b,c);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(a){return a.setMediaSourceSourceBuffer(b,c)});return this};c.unsetMediaSourceSourceBuffers=function(){a.prototype.unsetMediaSourceSourceBuffers.call(this);this.$OzMultiDestinationOperationLogger$p_1.forEach(function(a){return a.unsetMediaSourceSourceBuffers()});return this};c.log=function(){a.prototype.log.call(this),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(a){return a.log()})};return b}(c("oz-player/loggings/OzOperationLoggerBase"));g.OzMultiDestinationPerfLoggerProvider=a}),98);
__d("oz-player/loggings/OzOperationLoggerObserver",["oz-player/shims/OzSubscriptionsHandler"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1=new(c("oz-player/shims/OzSubscriptionsHandler"))()}var b=a.prototype;b.observe=function(a,b){var c;a=a.map(function(a){var c=a.setOperationLoggedListener(function(a){var c=a.getClientTimeBegin()||0,d=a.getClientTimeEnd()||0;b.getOperationLogger(a.getOperationName()).setClientTimeBegin(c).setClientTimeDuration(d-c).setClientTimeEnd(d).setLength(a.getLength()).setResult(a.getResult()||"success").setInitiator(a.getInitiator()).setType(a.getType()).log()});a.activate();return c});(c=this.$1).addSubscriptions.apply(c,a)};b.destroy=function(){this.$1.release()};return a}();g["default"]=a}),98);
__d("oz-player/shims/www/OzNetworkDiagnosticsWWW",["VideoPlayerOzWWWGlobalConfig"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){if(!a)return null;a=parseInt(a.get(b),10);return!isNaN(a)&&isFinite(a)?a:null}function i(a,b,c){if(!a||b===""||c==="")return null;b=(a=a.get(b))!=null?a:"";a=b.split(";");for(b=0;b<a.length;b++){var d=a[b].split(":");if(d.length===2&&d[0]===c){d=parseInt(d[1],10);return isFinite(d)?d:null}}return null}a={getNextValidSegmentId:function(a){return h(a,"x-fb-next-valid-segment-id")},getResponseTimeMs:function(a){return h(a,"x-fb-response-time-ms")},getDvlSegmentPTS:function(a){return h(a,"x-fb-segment-pts-start")},getDvlStatus:function(a){return a==null?void 0:a.get("x-fb-dynamic-status")},getUsableResponseSizeForBandwidthEstimation:function(a){return h(a,"x-fb-dynamic-predictive-response-chunk-size")},getBandwidthMeanEstimate:function(a){var b=c("VideoPlayerOzWWWGlobalConfig").getString("bandwidth_estimate_header_key",""),d=c("VideoPlayerOzWWWGlobalConfig").getString("bandwidth_estimate_key","");return i(a,b,d)},getBandwidthStandardDeviationEstimate:function(a){return h(a,"x-bwe-std-dev")},getTimeToFirstByteMsEstimate:function(a){return h(a,"x-mrtt-ms")}};b=a;g["default"]=b}),98);
__d("oz-player/shims/OzNetworkDiagnostics",["oz-player/shims/www/OzNetworkDiagnosticsWWW"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("oz-player/shims/www/OzNetworkDiagnosticsWWW")}),98);
__d("oz-player/manifests/OzDynamicVideoLibrary",["oz-player/shims/OzNetworkDiagnostics"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$4=null;this.$5=null;this.$6=new RegExp(/(.*)\.(m4v|m4a)(\?|$)/);this.$7={m4a:{time:0},m4v:{time:0}};this.$8={audio:"m4a",video:"m4v"};this.$9={};a=a.config;this.$3=a}var b=a.prototype;b.getLastSegmentStartPTS=function(){return this.$1};b.getLast200RequestedTime=function(){return this.$5};b.getLast200RequestedUrlDecisionMinTime=function(){var a=[];for(var b in this.$7)a.push(this.$7[b].time);return Math.min.apply(Math,a)};b.getLast200RequestedUrlDecisionTimeByMimeType=function(a){return(a=this.$7[this.$8[a]])==null?void 0:a.time};b.updateWithResponse=function(a,b,d,e){var f;if(!e.headers||e.status!=200)return;this.$5=b;this.$1=(f=c("oz-player/shims/OzNetworkDiagnostics").getDvlSegmentPTS(e.headers))!=null?f:this.$1;this.$2=c("oz-player/shims/OzNetworkDiagnostics").getDvlStatus(e.headers);this.$10(a,d);(this.$2!=null||this.$2==="200")&&(this.$4=b)};b.$10=function(a,b){a=this.$6.exec(a);if(a!=null){a=a[2];b!=null&&(this.$7[a]={time:b})}};b.shouldRequestDynamicInfo=function(a){if(a!=="video")return!1;this.$11(a);a=this.$12(a);return a!=null&&a<=this.$3.getNumber("dvl_initial_segment_ignore_count")?!1:this.$3.getNumber("dvl_update_interval_ms")==0||this.$4==null||this.$4+this.$3.getNumber("dvl_update_interval_ms")<=Date.now()};b.$11=function(a){this.$9[a]==null&&(this.$9[a]={segmentCount:0});return this.$9[a].segmentCount=this.$9[a].segmentCount!=null?this.$9[a].segmentCount+1:0};b.$12=function(a){return this.$9[a].segmentCount};return a}();g["default"]=a}),98);
__d("oz-player/manifests/OzRepresentationBase",["oz-player/parsers/getMIMECodecs","oz-player/shims/ozvariant","oz-player/utils/OzErrorUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,c,d,e,f,g,h,i,j,k,l,m){this.$1=a,this.$2=b,this.$11=c,this.$6=g,this.$3=d,this.$4=e,this.$5=f,this.$7=h,this.$8=i,this.$9=j,this.$10=k,this.$12=l,this.$13=m}var b=a.prototype;b.getContentProtectionXml=function(){return this.$2};b.getID=function(){return this.$11};b.getBandwidth=function(){return this.$10};b.getMimeCodecs=function(){return c("oz-player/parsers/getMIMECodecs")(this.$3,this.$4)};b.getMimeType=function(){return this.$3};b.getCodecs=function(){return this.$4};b.getVariantKey=function(){return this.$5};b.getLang=function(){return this.$6};b.getRole=function(){return this.$7};b.getDisplayLabel=function(){return this.$11};b.getInitSegment=function(){return this.$8};b.getCustomFieldFirstSegment=function(){return this.$12};b.getCustomField=function(a){if(this.$13==null||!this.$13[a])throw d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_REPRESENTATION_PARSER",description:"Custom field "+a+" is not specified by caller",extra:{code:"OZ_RP-8"}});a=this.$13[a];try{return a(this.$1)}catch(a){return null}};b.updateWith=function(b){b instanceof a||c("oz-player/shims/ozvariant")(0,229),this.$9.updateWith(b.$9)};b.getSegmentByTime=function(a){return this.$9.getSegmentByTime(a)};b.getSegment=function(a){return this.$9.getSegment(a)};b.getPredictedSegmentAfter=function(a){return this.$9.getPredictedSegmentAfter(a)};b.canPredict=function(){return this.$9.canPredict()};b.canApproximateId=function(){return this.$9.canApproximateId()};b.getSegmentAfter=function(a){return this.$9.getSegmentAfter(a)};b.isEndingSegment=function(a){return this.$9.isEndingSegment(a)};b.addUpdateListener=function(a){return this.$9.addUpdateListener(a)};b.getTimeRanges=function(){return this.$9.getTimeRanges()};b.blockTimeRange=function(a){this.$9.blockTimeRange(a)};b.getEndingSegment=function(){return this.$9.getEndingSegment()};b.getMaxGopSec=function(){return this.$9.getMaxGopSec()};return a}();g["default"]=a}),98);
__d("oz-player/manifests/OzVideoRepresentation",["oz-player/manifests/OzRepresentationBase"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){function b(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){c=a.call(this,b,c,d,e,f,g,h,i,j,k,l,m,n)||this;c.$OzVideoRepresentation$p_5=null;c.$OzVideoRepresentation$p_6=null;c.$OzVideoRepresentation$p_7=null;c.$OzVideoRepresentation$p_1=o;c.$OzVideoRepresentation$p_2=p;c.$OzVideoRepresentation$p_4=n;c.$OzVideoRepresentation$p_3=b;if(n!=null){if(n.playbackResolutionMos!=null){d=c.getCustomField("playbackResolutionMos");c.$OzVideoRepresentation$p_7=d!=null?String(d):null}if(n.playbackResolutionCsvqm!=null){e=c.getCustomField("playbackResolutionCsvqm");c.$OzVideoRepresentation$p_6=e!=null?String(e):null}}return c}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.getQualityScoreCurveString=function(a){if(a==="csvqm")return this.$OzVideoRepresentation$p_6;else return this.$OzVideoRepresentation$p_7};c.getWidth=function(){return this.$OzVideoRepresentation$p_1};c.getHeight=function(){return this.$OzVideoRepresentation$p_2};c.getDisplayLabel=function(){if(this.$OzVideoRepresentation$p_5!=null)return this.$OzVideoRepresentation$p_5;var a=this.$OzVideoRepresentation$p_4?this.$OzVideoRepresentation$p_4.qualityLabel:null;a&&(this.$OzVideoRepresentation$p_5=a(this.$OzVideoRepresentation$p_3));(this.$OzVideoRepresentation$p_5==null||this.$OzVideoRepresentation$p_5=="")&&(this.$OzVideoRepresentation$p_5=this.getHeight().toString()+"p");return this.$OzVideoRepresentation$p_5||""};return b}(c("oz-player/manifests/OzRepresentationBase"));g["default"]=a}),98);
__d("oz-player/utils/OzMimeUtil",[],(function(a,b,c,d,e,f){"use strict";function a(a){return(a.split("/")[0]||"").trim()}function b(a){a=(a.split(";")[0]||"").trim();a=(a.split("/")[1]||"").trim();return a}function c(a){a=a.split('codecs="').pop();return a.split(".")[0].trim()}f.getMimeType=a;f.getContainerType=b;f.getParsedCodecFamily=c}),66);
__d("oz-player/media_source/OzMSESourceBufferImpl",["oz-player/shims/OzDOMEventListener","oz-player/utils/OzErrorUtils","oz-player/utils/OzMimeUtil"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,c,d){this.$1=a,this.$2=c,this.$3=b,this.$4=d}var b=a.prototype;b.registerOnUpdateStartListener=function(a){return c("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$1,"updatestart",a)};b.registerOnUpdateEndListener=function(a){return c("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$1,"updateend",a)};b.registerOnUpdateListener=function(a){return c("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$1,"update",a)};b.registerOnErrorListener=function(a){return c("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$1,"error",a)};b.getIsUpdating=function(){return this.$1.updating};b.getBuffered=function(){return this.$1.buffered};b.setAppendWindowEnd=function(a){this.$1.appendWindowEnd=a};b.appendBuffer=function(a,b){var c,e=(c=d("oz-player/utils/OzMimeUtil")).getMimeType(b)!==c.getMimeType(this.$3),f=c.getContainerType(b)!==c.getContainerType(this.$3);c=c.getParsedCodecFamily(b)!==c.getParsedCodecFamily(this.$3);if(e||f||c)if(this.$4){try{this.$1.changeType(b)}catch(a){throw d("oz-player/utils/OzErrorUtils").createOzError({description:'SourceBufferChangeTypeError: Failed to changeType("'+b+'"): '+String(a)+" current MIME Codecs: "+this.$3,type:"OZ_SOURCE_BUFFER_CHANGE_TYPE"})}this.$3=b}else throw d("oz-player/utils/OzErrorUtils").createOzError({description:"SourceBufferChangeTypeError: attempted to call changeType() on a SourceBuffer that does not support it.",type:"OZ_SOURCE_BUFFER_CHANGE_TYPE_UNAVAILABLE"});this.$1.appendBuffer(a)};b.abort=function(){this.$1.abort()};b.remove=function(a,b){this.$1.remove(a,b)};return a}();g["default"]=a}),98);
__d("oz-player/media_source/OzMediaErrorProvider",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a}var b=a.prototype;b.hasError=function(){return this.$1.error!==null};b.getMediaErrorName=function(){var a=this.$1.error;return a&&a.message?this.$2(a.message):null};b.getErrorCode=function(){var a=this.$1.error;return a&&a.code?a.code:null};b.getVideoNode=function(){return this.$1};b.$2=function(a){return a.replace(/([0-9]{2,})/g,function(a){var b="";while(b.length<a.length)b+="#";return b})};return a}();f["default"]=a}),66);
__d("oz-player/utils/OzSourceBufferUtil",["oz-player/utils/OzNumericalRangeUtil"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=0;for(var c=0;c<a.getBuffered().length;c++)b+=a.getBuffered().end(c)-a.getBuffered().start(c);return b}function b(a){return a.reduce(function(a,b){return a+(b.endTime-b.startTime)},0)}function c(a){return a.getBuffered().length==0?0:a.getBuffered().start(0)}function e(a){var b=null;try{b=a.getBuffered()}catch(a){return 0}return b.length==0?0:b.end(b.length-1)}function f(a){var b=[];for(var c=0;c<a.length;c++)b.push({startTime:a.start(c),endTime:a.end(c)});return b}function h(a,b,c){c=d("oz-player/utils/OzNumericalRangeUtil").findCurrentRangeIndex(c,b,a.map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}));b=c>=0?parseFloat((a[c].endTime-b).toFixed(3)):0;a=c>=0?a.length-1-c:-1;return{bufferAheadSec:b,bufferedOffset:a}}function i(a,b,c){var e=a.map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}});c=d("oz-player/utils/OzNumericalRangeUtil").findCurrentRangeIndex(c,b,e);e=parseFloat(e.reduce(function(a,c){var e=c.rangeEnd;return e==null?a:a+(d("oz-player/utils/OzNumericalRangeUtil").isWithin(b,c)?e-b:d("oz-player/utils/OzNumericalRangeUtil").isLargerThan(c.rangeStart,b)?e-c.rangeStart:0)},0).toFixed(3));a=c>=0?a.length-1-c:-1;return{bufferAheadSec:e,bufferedOffset:a}}g.getTotalBufferedTime=a;g.getTotalInBufferedRanges=b;g.getStartBufferedTime=c;g.getEndBufferedTime=e;g.convertToBufferedTimeRangeArray=f;g.getBufferAheadInBufferedRanges=h;g.getTotalBufferAheadOfPosition=i}),98);
__d("oz-player/media_source/SourceBufferManagerUtils",["oz-player/utils/OzSourceBufferUtil"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){var e=d("oz-player/utils/OzSourceBufferUtil").getEndBufferedTime(b);return function(){var a=d("oz-player/utils/OzSourceBufferUtil").getEndBufferedTime(b);return{startTime:e,endTime:a}}}g.startMeasuringAppendedBuffer=a}),98);
__d("oz-player/shims/www/OzDeferredWWW",["Deferred"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("Deferred")}),98);
__d("oz-player/shims/OzDeferred",["oz-player/shims/www/OzDeferredWWW"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("oz-player/shims/www/OzDeferredWWW")}),98);
__d("oz-player/utils/OzFakeEventTarget",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1={}}var b=a.prototype;b.dispatchEvent=function(a){if(this.$1[a]==null)return;this.$1[a].forEach(function(a){return a()})};b.addEventListener=function(a,b){var c=this;this.$1[a]===void 0&&(this.$1[a]=new Set());this.$1[a].add(b);return{remove:function(){c.removeEventListener(a,b)}}};b.removeEventListener=function(a,b){if(!this.$1[a])return;this.$1[a]["delete"](b)};b.destroy=function(){this.$1={}};return a}();f["default"]=a}),66);
__d("oz-player/states/OzObservedSourceBufferState",["oz-player/shims/OzSubscriptionsHandler","oz-player/utils/OzFakeEventTarget"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){function b(b,d){var e;e=a.call(this)||this;e.$OzObservedSourceBufferState$p_2=new(c("oz-player/shims/OzSubscriptionsHandler"))();e.$OzObservedSourceBufferState$p_3=[];e.$OzObservedSourceBufferState$p_6=function(){var a;try{a=e.$OzObservedSourceBufferState$p_1.getBuffered()}catch(a){if(a.name==="InvalidStateError"){e.$OzObservedSourceBufferState$p_3=[];return}else throw a}var b=[];for(var c=0;c<a.length;c++)b.push({startTime:a.start(c),endTime:a.end(c)});e.$OzObservedSourceBufferState$p_3=b};e.$OzObservedSourceBufferState$p_1=b;e.$OzObservedSourceBufferState$p_4=d;e.$OzObservedSourceBufferState$p_5();return e}babelHelpers.inheritsLoose(b,a);var d=b.prototype;d.$OzObservedSourceBufferState$p_5=function(){var a=this;this.$OzObservedSourceBufferState$p_2.release();this.$OzObservedSourceBufferState$p_2=new(c("oz-player/shims/OzSubscriptionsHandler"))();this.$OzObservedSourceBufferState$p_2.addSubscriptions(this.$OzObservedSourceBufferState$p_1.registerOnUpdateEndListener(function(){a.$OzObservedSourceBufferState$p_6(),a.dispatchEvent("buffer_updated")}),this.$OzObservedSourceBufferState$p_1.registerOnErrorListener(this.$OzObservedSourceBufferState$p_6))};d.setSourceBuffer=function(a){this.$OzObservedSourceBufferState$p_1=a,this.$OzObservedSourceBufferState$p_5(),this.$OzObservedSourceBufferState$p_6()};d.getBufferedRanges=function(){return this.$OzObservedSourceBufferState$p_3};d.destroy=function(){a.prototype.destroy.call(this),this.$OzObservedSourceBufferState$p_2.release(),this.$OzObservedSourceBufferState$p_2.engage()};return b}(c("oz-player/utils/OzFakeEventTarget"));g["default"]=a}),98);
__d("oz-player/utils/OzCustomErrorCode",[],(function(a,b,c,d,e,f){"use strict";a={APPEND_BUFFER_UNKNOWN_ERROR:"21539",APPEND_BUFFER_INVALID_STATE_ERROR_SOURCE_BUFFER_HAS_BEEN_REMOVED:"21540",APPEND_BUFFER_MEDIA_ERROR_ATTRIBUTE_NOT_NULL:"21541",APPEND_BUFFER_SOURCE_BUFFER_UPDATING_ATTRIBUTE_IS_TRUE:"21542",SOURCE_BUFFER_MANAGER_ADD_SOURCE_BUFFER_ERROR:"21543",SOURCE_BUFFER_MANAGER_CREATE_ERROR:"21544",SETUP_STREAMS_PROMISE_REJECTION:"21545",APPEND_BUFFER_QUOTA_EXCEEDED_ERROR:"21546",APPEND_BUFFER_INVALID_STATE_ERROR:"21547",SOURCE_BUFFER_MANAGER_UPDATEEND_UNKNOWN_ERROR:"21548",NETWORK_REQUEST_STREAM_RETRY_HANDLER_ERROR:"21549",STREAM_APPEND_QUOTA_EXCEEDED_HANDLER_ERROR:"21550",SOURCE_BUFFER_MANAGER_CLEAR_RANGE_FAILED:"21551",WEBVTT_CAPTION_PARSE_ERROR:"21552"};b=a;f["default"]=b}),66);
__d("oz-player/media_source/SourceBufferManager",["Promise","oz-player/loggings/OzLoggingUtils","oz-player/media_source/SourceBufferManagerUtils","oz-player/shims/OzDOMEventListener","oz-player/shims/OzDeferred","oz-player/shims/OzMaybeNativePromise","oz-player/shims/OzStreams","oz-player/shims/OzSubscriptionsHandler","oz-player/states/OzObservedSourceBufferState","oz-player/utils/OzCustomErrorCode","oz-player/utils/OzErrorUtils","oz-player/utils/ozConcatUint8Arrays"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a,b,e,f,g,h){var i=this;h===void 0&&(h=null);this.$4=null;this.$5=new(c("oz-player/shims/OzSubscriptionsHandler"))();this.$7=!1;this.$8=[];this.$12=!1;this.$13=!1;this.$14=0;this.$26=function(){if(i.$10.hasError()){i.$13=!1;i.$12=!1;var a=i.$10.getMediaErrorName();a=a!=null?a:"An unknown source buffer error occurred.";var b=i.$10.getErrorCode();b=b!=null?String(b):c("oz-player/utils/OzCustomErrorCode").SOURCE_BUFFER_MANAGER_UPDATEEND_UNKNOWN_ERROR;a=d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_SOURCE_BUFFER",description:a,extra:{code:b}});i.$4&&i.$4.reject(a);i.$4=null;i.cancelOperationAndCleanQueue()}else if(!i.$13){i.$13=!0;b=i.$10.getVideoNode();a=i.$26;b=c("oz-player/shims/OzDOMEventListener").listenDOMEvent(b,"error",a);i.$5.addSubscriptions(b)}};this.$17=function(){var a=i.$2;if(a!=null){a.getOperationLogger("source_buffer_updateend").setError((a=i.$10.getMediaErrorName())!=null?a:void 0).setCode(i.$10.getErrorCode()).setResult(i.$12?"failed":"success").log()}a=i.$4;a&&(i.$12?i.$26():(a.resolve(),i.$4&&(i.$4=null)))};this.$18=function(){var a=i.$2;if(a!=null){a.getOperationLogger("source_buffer_error").setError((a=i.$10.getMediaErrorName())!=null?a:void 0).setCode(i.$10.getErrorCode()).setResult("failed").log()}i.$12=!0};this.$1=a;this.$2=h;this.$3=b;this.$11=e;this.$16();this.$9=new(c("oz-player/states/OzObservedSourceBufferState"))(this.$3,this.$11);this.$10=f;this.$15=g}var e=a.prototype;e.$16=function(){this.$5.release(),this.$5=new(c("oz-player/shims/OzSubscriptionsHandler"))(),this.$5.addSubscriptions(this.$3.registerOnUpdateEndListener(this.$17),this.$3.registerOnErrorListener(this.$18))};e.setSourceBuffer=function(a){if(a==null)return;this.cancelOperationAndCleanQueue();this.$3=a;this.$16();this.$9.setSourceBuffer(a)};e.queueData=function(a,b,d,e,f){e===void 0&&(e=null);f===void 0&&(f=0);var g=new(c("oz-player/shims/OzDeferred"))(c("oz-player/shims/OzMaybeNativePromise"));this.$8.push({data:a,deferred:g,loggerProvider:e,appendTarget:f,mimeCodecs:b,clearSourceBufferRange:d});a=g.getPromise();this.$7||this.$19()["catch"](function(a){});return a};e.cancelOperationAndCleanQueue=function(a){a===void 0&&(a=null);a&&a.cloneContext().getOperationLogger("source_buffer_cancel_and_clean").log();var b=d("oz-player/utils/OzErrorUtils").createOzCancelledError("SBM cancel and clean");this.$8.forEach(function(a){a=a.deferred;a.reject(b)});this.$8=[];try{this.$11.getBool("enable_alternative_audio_tracks")?this.$15()==="open"&&(this.$10.hasError()||this.$3.abort()):this.$15()!=="closed"&&!0&&(this.$10.hasError()||this.$3.abort())}catch(b){var c=b;a&&a.cloneContext().getOperationLogger("cancel_operation_abort_failed").setError(c).setReason(this.$15?this.$15():null).log()}a=this.$4;a&&a.reject(b);this.$6&&(this.$6.reject(b),this.$6=null)};e.getSourceBufferState=function(){return this.$9};e.$20=function(a,b){a=Math.max(a,0);b>0&&b>a&&this.$3.remove(a,b)};e.$21=function(a,b){a=Math.max(a,0);if(b>0&&b>a){var d=this.$22();this.$20(a,b);return d}return c("oz-player/shims/OzMaybeNativePromise").resolve()};e.clearRangeWithWait=function(a){var c=this;this.cancelOperationAndCleanQueue();return a.reduce(function(a,b){var d=b.fromTime,e=b.toTime;return a.then(function(){return c.$21(d,e)})},(h||(h=b("Promise"))).resolve())};e.$22=function(a){var b=this.$4=new(c("oz-player/shims/OzDeferred"))(c("oz-player/shims/OzMaybeNativePromise"));b=b.getPromise();a&&d("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation(b,a,"wait_for_source_buffer");return b};e.$23=function(a,b,e,f){var g=this,h=function(){var h=g.$4=new(c("oz-player/shims/OzDeferred"))(c("oz-player/shims/OzMaybeNativePromise")),i=!1,j=!0;try{j=!!g.$3.getBuffered()}catch(a){j=!1}try{i=g.$3.getIsUpdating();if(j)g.$3.appendBuffer(a,b);else{h.resolve();return h.getPromise()}}catch(a){j=a;var k=c("oz-player/utils/OzCustomErrorCode").APPEND_BUFFER_UNKNOWN_ERROR,l=j.name,m=j.message;l==="QuotaExceededError"?k=c("oz-player/utils/OzCustomErrorCode").APPEND_BUFFER_QUOTA_EXCEEDED_ERROR:g.$10.hasError()?k=c("oz-player/utils/OzCustomErrorCode").APPEND_BUFFER_MEDIA_ERROR_ATTRIBUTE_NOT_NULL:i?k=c("oz-player/utils/OzCustomErrorCode").APPEND_BUFFER_SOURCE_BUFFER_UPDATING_ATTRIBUTE_IS_TRUE:l==="InvalidStateError"&&typeof m==="string"&&/SourceBuffer has been removed/.test(m)?k=c("oz-player/utils/OzCustomErrorCode").APPEND_BUFFER_INVALID_STATE_ERROR_SOURCE_BUFFER_HAS_BEEN_REMOVED:l==="InvalidStateError"&&(k=c("oz-player/utils/OzCustomErrorCode").APPEND_BUFFER_INVALID_STATE_ERROR);i=d("oz-player/utils/OzErrorUtils").createOzError({type:d("oz-player/utils/OzErrorUtils").isOzError(j)?j.getType():l==="QuotaExceededError"?"OZ_SOURCE_BUFFER_QUOTA_EXCEEDED":l==="OZ_SOURCE_BUFFER_CHANGE_TYPE"?"OZ_SOURCE_BUFFER_CHANGE_TYPE":"OZ_SOURCE_BUFFER",description:"SBM#"+g.$1+" appendBuffer("+b+") failed: "+String(m),extra:d("oz-player/utils/OzErrorUtils").isOzError(j)?j.getExtra():{originalError:j,code:k}});g.$4=null;h.reject(i)}l=h.getPromise();e&&d("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation(l,e,"append",function(b){var c;b.setLength(a.byteLength);c=(c=f==null?void 0:f.appendTarget)!=null?c:null;b.setAppendTarget(c)});return l};if(this.$3.getIsUpdating())return this.$22(e).then(h)["catch"](function(a){throw a});this.$14+=a.byteLength;return h()};e.$19=function(){var a=this;if(this.$7)return c("oz-player/shims/OzMaybeNativePromise").reject(this.$24("Another unit of queued data is being appended."));var b=this.$8.shift();if(!b){this.$7=!1;return c("oz-player/shims/OzMaybeNativePromise").resolve()}var e=b.data,f=b.mimeCodecs,g=b.deferred,h=b.loggerProvider,i=b.appendTarget,j=b.clearSourceBufferRange;this.$7=!0;var k;b=function(){return e instanceof d("oz-player/shims/OzStreams").OzReadableStream?a.$25(e,f,h,i):a.$23(e,f,h,{appendTarget:i})};j?(k=this.$3.getIsUpdating()?this.$22(h):c("oz-player/shims/OzMaybeNativePromise").resolve(),k=k.then(function(){return a.clearRangeWithWait([{fromTime:j[0],toTime:j[1]}])}).then(b)):k=b();var l=d("oz-player/media_source/SourceBufferManagerUtils").startMeasuringAppendedBuffer(this.$11,this.$3,this.$9);return k["catch"](function(a){g.reject(a)}).then(function(){var b=l(),c=b.startTime;b=b.endTime;g.resolve({startTime_UNSAFE:c,endTime_UNSAFE:b,appendedSec:b-c});a.$7=!1;a.$19()["catch"](function(a){})})};e.$25=function(a,b,e,f){var g=this,h=[],i=0,j=a.getReader(),k=function(){var a=new(c("oz-player/shims/OzDeferred"))(c("oz-player/shims/OzMaybeNativePromise"));g.$6=a;j.read().then(function(b){a.resolve(b),g.$6=null})["catch"](function(b){a.reject(b),g.$6=null});return a.getPromise().then(function(a){if(a.done){var d=c("oz-player/utils/ozConcatUint8Arrays")(h);d=d.buffer;h.length=0;i=0;return d.byteLength>0?g.$23(d,b,e,{appendTarget:f}):c("oz-player/shims/OzMaybeNativePromise").resolve()}d=a.value;a=d;if(f>0){d=d instanceof Uint8Array?d:new Uint8Array(d);h.push(d);i+=d.byteLength;if(i>=f){d=c("oz-player/utils/ozConcatUint8Arrays")(h);d=d.buffer;h.length=0;i=0;a=d}}return a&&a.byteLength>=f?g.$23(a,b,e,{appendTarget:f}).then(function(){return k()}):k()},function(a){if(g.$11.getBool("enable_alternative_audio_tracks"))try{g.$15()==="open"&&(g.$10.hasError()||g.$3.abort())}catch(a){a}else try{g.$3.abort()}catch(a){a}if(typeof a==="object"&&d("oz-player/utils/OzErrorUtils").isOzError(a))return c("oz-player/shims/OzMaybeNativePromise").reject(a);if(typeof a==="object"&&a!=null&&typeof a.name==="string"&&a.name==="TypeError"&&typeof a.message==="string"&&a.message.includes("network error")){var e=d("oz-player/utils/OzErrorUtils").convertPromiseRejectionReasonToOzError(a,{description:"SBM#"+g.$1+" appendReadableStream("+b+") failed: Stream read is interrupted (previously TypeError network error)}",extra:{originalError:a},type:"OZ_NETWORK"});return c("oz-player/shims/OzMaybeNativePromise").reject(e)}e=d("oz-player/utils/OzErrorUtils").convertPromiseRejectionReasonToOzError(a,{description:"SBM#"+g.$1+" appendReadableStream("+b+") failed: Unexpected error while reading from stream: "+String(a),extra:{originalError:a},type:"OZ_NETWORK"});return c("oz-player/shims/OzMaybeNativePromise").reject(e)})};return k()};e.$24=function(a){var b=this.$2;b!=null&&b.getOperationLogger("source_buffer_invariant").setError(a).setResult("failed").log();return d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_SOURCE_BUFFER",description:"SBM invariant: "+a})};e.destroy=function(){var a=this,b=this.$2;b&&b.cloneContext().getOperationLogger("source_buffer_destroy").log();b=this.$4;b&&(!this.$13?(b.reject(d("oz-player/utils/OzErrorUtils").createOzCancelledError("SBM destroyed")),this.$4=null,this.$5.release(),this.$5=new(c("oz-player/shims/OzSubscriptionsHandler"))()):b.getPromise()["catch"](function(){a.$4=null,a.$5.release(),a.$5=new(c("oz-player/shims/OzSubscriptionsHandler"))()}));this.$9.destroy()};e.getDebug=function(){return{SourceBuffer:this.$3}};return a}();g["default"]=a}),98);
__d("oz-player/shims/www/getOzVTTSourceBufferImplLazyWWW",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";var h=c("JSResourceForInteraction")("OzVTTSourceBufferImpl").__setRef("oz-player/shims/www/getOzVTTSourceBufferImplLazyWWW");function a(){return h.load()}g["default"]=a}),98);
__d("oz-player/shims/www/getOzVTTSourceBufferImplWWW",["oz-player/shims/www/getOzVTTSourceBufferImplLazyWWW"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("oz-player/shims/www/getOzVTTSourceBufferImplLazyWWW")}),98);
__d("oz-player/shims/getOzVTTSourceBufferImpl",["oz-player/shims/www/getOzVTTSourceBufferImplWWW"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("oz-player/shims/www/getOzVTTSourceBufferImplWWW")}),98);
__d("oz-player/shims/www/ozClearTimeoutWWW",["clearTimeout"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("clearTimeout")}),98);
__d("oz-player/shims/ozClearTimeout",["oz-player/shims/www/ozClearTimeoutWWW"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("oz-player/shims/www/ozClearTimeoutWWW")}),98);
__d("oz-player/shims/www/ozSetTimeoutAcrossTransitionsWWW",["setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("setTimeoutAcrossTransitions")}),98);
__d("oz-player/shims/ozSetTimeoutAcrossTransitions",["oz-player/shims/www/ozSetTimeoutAcrossTransitionsWWW"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("oz-player/shims/www/ozSetTimeoutAcrossTransitionsWWW")}),98);
__d("oz-player/utils/ozGetErrorNameFromMediaErrorCode",[],(function(a,b,c,d,e,f){"use strict";function a(a){switch(a){case 1:return"MEDIA_ERR_ABORTED";case 2:return"MEDIA_ERR_NETWORK";case 3:return"MEDIA_ERR_DECODE";case 4:return"MEDIA_ERR_SRC_NOT_SUPPORTED";default:}return"MEDIA_ERR_UNKNOWN"}f["default"]=a}),66);
__d("oz-player/media_source/MediaSourceManager",["oz-player/loggings/OzMultiDestinationPerfLogger","oz-player/media_source/OzMSESourceBufferImpl","oz-player/media_source/OzMediaErrorProvider","oz-player/media_source/SourceBufferManager","oz-player/shims/OzDOMEventListener","oz-player/shims/OzDeferred","oz-player/shims/OzMaybeNativePromise","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/getOzVTTSourceBufferImpl","oz-player/shims/ozClearTimeout","oz-player/shims/ozReportUnexpectedError","oz-player/shims/ozSetTimeoutAcrossTransitions","oz-player/shims/ozThrottle","oz-player/utils/OzCustomErrorCode","oz-player/utils/OzErrorEmitter","oz-player/utils/OzErrorUtils","oz-player/utils/OzMimeUtil","oz-player/utils/ozGetErrorNameFromMediaErrorCode"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=this,e=a.videoNode,f=a.config,g=a.perfLoggerProvider;g=g===void 0?new(d("oz-player/loggings/OzMultiDestinationPerfLogger").OzMultiDestinationPerfLoggerProvider)([]):g;var h=a.isChangeTypeSupported,i=a.useManagedMediaSource,j=a.handleVttCaptionsUpdated,k=a.onClearVideoNodeError;a=a.onRetryVideoElementError;this.$3=new(c("oz-player/shims/OzSubscriptionsHandler"))();this.$4=new(c("oz-player/shims/OzSubscriptionsHandler"))();this.$6=[];this.$7=new Map();this.$8=[];this.$10=!1;this.$12=!1;this.$13=!1;this.$14=!1;this.$15=!1;this.$18=null;this.$19=null;this.$20=new(c("oz-player/utils/OzErrorEmitter"))();this.$22="undetected";this.$23=!1;this.$24=!1;this.$31=function(){b.$34()||(b.$10=!1);if(!b.$35())return;var a=b.$8.shift();a&&(a(b.$2),b.$10=!0)};this.$5=g;this.$11=f;this.$1=e;this.$21=j;this.$16=k;this.$17=a;this.$23=h;this.$24=i;this.$9=new(c("oz-player/media_source/OzMediaErrorProvider"))(this.$1);this.$3.addSubscriptions(c("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$1,"error",function(){var a;b.$5.getOperationLogger("media_element_error").setError((a=b.$9.getMediaErrorName())!=null?a:void 0).setCode(b.$9.getErrorCode()).setResult("failed").setUserInfo({av1HardwareSupport:b.$22}).log();b.$8=[];b.$6=[];b.$4.release();b.$4=new(c("oz-player/shims/OzSubscriptionsHandler"))();b.$15=b.$15||b.$14||b.$13;a=b.$1.error;var e=(a==null?void 0:a.code)||0,f=!a&&b.$1.poster!=null&&b.$1.poster!=="",g=d("oz-player/utils/OzErrorUtils").createOzError({type:f?"OZ_POSSIBLE_POSTER_LOAD_FAILURE":c("oz-player/utils/ozGetErrorNameFromMediaErrorCode")(e),description:(a==null?void 0:a.message)!=null?a.message:"",extra:{originalError:a,code:String(e)}});if(b.$19!=null){b.$5.getOperationLogger("media_element_error").setError(a).setCode(e).setReason("mitigation_failed").setResult("failed").setUserInfo({av1HardwareSupport:b.$22}).log();b.$20.emitError(g);return}b.$19=b.$1.currentTime;b.$18==null&&(b.$18=c("oz-player/shims/ozSetTimeoutAcrossTransitions")(function(){b.$18=null,b.$11.getBool("retry_video_element_error")&&(b.$17!=null&&b.$17(g),b.$25())},0))}),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$1,"play",function(){b.$14=!0}),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$1,"playing",function(){b.$14=!1,b.$15=!1,b.$19=null,b.$13=!0}),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$1,"pause",function(){b.$14=!1,b.$13=!1,b.$15=!!b.$1.error}),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$1,"ended",function(){b.$14=!1,b.$13=!1}));this.$2=this.$26();this.$5.getOperationLogger("media_source_new").log();this.$3.addSubscriptions(c("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$2,"sourceopen",function(){b.$5.getOperationLogger("media_source_open").log()}),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$2,"sourceended",function(){b.$5.getOperationLogger("media_source_ended").log()}),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$2,"sourceclose",function(){b.$5.getOperationLogger("media_source_close").log()}));this.$27(this.$2)}var b=a.prototype;b.$26=function(){return this.$24?new ManagedMediaSource():new MediaSource()};b.$27=function(a){var b=this.$1,c=b.src;c!==""&&URL.revokeObjectURL(c);a?(this.$24&&(b.disableRemotePlayback=!0),b.src=URL.createObjectURL(a)):(b.removeAttribute("src"),b.removeAttribute("srcObject"))};b.$25=function(){var a=this;this.$7.forEach(function(a){a.cancelOperationAndCleanQueue()});this.$2=this.$26();this.$27(this.$2);this.$7.forEach(function(a,b){a.setSourceBuffer(null)});var b=this.$28().then(function(){var b=[];a.$7.forEach(function(c,d){var e=a.$29(d).then(function(b){c.setSourceBuffer(b),a.$30(b,d)});b.push(e)});return c("oz-player/shims/OzMaybeNativePromise").all(b)});b.then(function(){a.$16&&a.$16();a.$19!=null&&(a.$1.currentTime=a.$19);if(a.$15){var b=a.$1.play();return b==null?void 0:b["catch"](function(){})}})["catch"](function(b){a.$20.emitError(b)})};b.$28=function(){var a=this;if(this.$11.getBool("msm_refactor_wait_for_sourceopen")){if(this.$2.readyState==="open")return c("oz-player/shims/OzMaybeNativePromise").resolve();var b=new(c("oz-player/shims/OzDeferred"))(c("oz-player/shims/OzMaybeNativePromise")),d=c("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$2,"sourceopen",function(){d.remove(),b.resolve(),a.$31()});this.$3.addSubscriptions(d);return b.getPromise()}else{if(this.$2.readyState==="open")return c("oz-player/shims/OzMaybeNativePromise").resolve();var e=new(c("oz-player/shims/OzDeferred"))(c("oz-player/shims/OzMaybeNativePromise"));this.$3.addSubscriptions(c("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$2,"sourceopen",function(){e.resolve(),a.$31()}));return e.getPromise()}};b.$29=function(a){var b=this;if(this.$11.getBool("msm_refactor_wait_for_sourceopen"))return c("oz-player/shims/OzMaybeNativePromise").resolve().then(function(){return b.$32(a)})["catch"](function(b){b=d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_SOURCE_BUFFER",description:'Failed to addSourceBuffer("'+a+'"): '+String(b),extra:{originalError:b,code:c("oz-player/utils/OzCustomErrorCode").SOURCE_BUFFER_MANAGER_ADD_SOURCE_BUFFER_ERROR.toString()}});throw b});else try{return this.$32(a)}catch(b){var e=d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_SOURCE_BUFFER",description:'Failed to addSourceBuffer("'+a+'"): '+(b.message||String(b)),extra:{originalError:b,code:c("oz-player/utils/OzCustomErrorCode").SOURCE_BUFFER_MANAGER_ADD_SOURCE_BUFFER_ERROR.toString()}});throw e}};b.$32=function(a){var b=this,e;a.includes("vtt")?e=this.$33(a):e=this.$28().then(function(){return new(c("oz-player/media_source/OzMSESourceBufferImpl"))(b.$2.addSourceBuffer(a),a,b.$11,b.$23)});return e.then(function(c){b.$6.push(c);c.registerOnUpdateListener(function(){b.$5.cloneContext().getOperationLogger("source_buffer_update_start").setType(d("oz-player/utils/OzMimeUtil").getMimeType(a)).setMediaSourceSourceBuffer(d("oz-player/utils/OzMimeUtil").getMimeType(a),c).setType(d("oz-player/utils/OzMimeUtil").getMimeType(a)).log()});b.$5.getOperationLogger("add_source_buffer").setMediaSourceSourceBuffer(d("oz-player/utils/OzMimeUtil").getMimeType(a),c).log();return c})};b.$30=function(a,b){var c=this;this.$4.addSubscriptions(a.registerOnUpdateEndListener(function(){c.$31()}))};b.$33=function(a){var b=this;return c("oz-player/shims/getOzVTTSourceBufferImpl")().then(function(e){if(b.$21!=null){var f=new e({onCaptionsChanged:b.$21,config:b.$11}),g=c("oz-player/shims/ozThrottle")(function(){f.setCurrentVideoTime(b.$1.currentTime)},200);b.$3.addSubscriptions(c("oz-player/shims/OzDOMEventListener").listenDOMEvent(b.$1,"timeupdate",function(){g()}),{remove:function(){g=function(){}}});return f}else throw d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_SOURCE_BUFFER",description:'Failed to addSourceBuffer("'+a+'"): No handleVttCaptionsUpdated callback provided',extra:{code:c("oz-player/utils/OzCustomErrorCode").SOURCE_BUFFER_MANAGER_ADD_SOURCE_BUFFER_ERROR.toString()}})})};b.createSourceBufferManager=function(a,b,e,f){var g=this;return(this.$11.getBool("msm_refactor_wait_for_sourceopen")?this.$29(b).then(function(a){return[void 0,a]}):c("oz-player/shims/OzMaybeNativePromise").all([this.$28(),this.$29(b)])).then(function(e){e[0];e=e[1];var f=new(c("oz-player/media_source/SourceBufferManager"))(a,e,g.$11,g.$9,function(){return g.$2.readyState},g.$5.cloneContext().setType(d("oz-player/utils/OzMimeUtil").getMimeType(b)));g.$30(e,b);g.$7.set(b,f);return f})["catch"](function(b){var e=d("oz-player/utils/OzErrorUtils").isOzError(b)?b.getExtra():void 0,f=e==null?void 0:e.code;f=d("oz-player/utils/OzErrorUtils").isOzError(b)?""+b.getType()+(f!=null?"#"+f:"")+": "+b.getDescription():String(b);f=d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_SOURCE_BUFFER",description:"Failed to create SBM#"+a+": "+f+", support AAC-LC="+(g.$2.constructor.isTypeSupported("audio/mp4; codecs=mp4a.40.2")?"true":"false")+", readyState="+g.$2.readyState,extra:babelHelpers["extends"]({},e,{originalError:b,code:c("oz-player/utils/OzCustomErrorCode").SOURCE_BUFFER_MANAGER_CREATE_ERROR.toString()})});throw f})};b.getReadyState=function(){return this.$2.readyState};b.getMediaSource=function(){return this.$2};b.notifyEndOfStream=function(a,b){var d=this,e=new(c("oz-player/shims/OzDeferred"))(c("oz-player/shims/OzMaybeNativePromise"));this.$3.addSubscriptions(c("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$2,"sourceended",function(){e.resolve()}));this.$8.push(function(c){if(c.readyState==="open"){var e=d.$5.getOperationLogger("end_of_stream");e.setInitiator(a).setReason(b);e.log();c.endOfStream()}});this.$31();return e.getPromise()};b.updateDuration=function(a,b){var e=this,f=this.$2.duration;if(Number.isFinite(f)&&(!b||f>=a))return;this.$8.push(function(b){b.duration!==f&&!(isNaN(b.duration)&&isNaN(f))&&c("oz-player/shims/ozReportUnexpectedError")(d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_SOURCE_BUFFER",description:"mediaSource duration discrepancy: "+b.duration+" != "+f}),"MediaSourceManager updateDuration","warn");var g=e.$11.getBool("msm_refactor_wait_for_sourceopen")?b.duration!==Infinity&&a<b.duration:a<b.duration;if(g){e.$5.getOperationLogger("media_source_update_duration").setMediaSourcePreviousDuration(b.duration).setMediaSourceNewDuration(a).setResult("failed").log();return}e.$5.getOperationLogger("media_source_update_duration").setMediaSourcePreviousDuration(b.duration).setMediaSourceNewDuration(a).log();b.duration=a});this.$31();return};b.detach=function(){this.$18&&(c("oz-player/shims/ozClearTimeout")(this.$18),this.$18=null);this.$5.getOperationLogger("source_buffer_detach").unsetMediaSourceSourceBuffers();this.$27(null);for(var a=0;a<this.$2.sourceBuffers.length;a++){var b=this.$2.sourceBuffers[a];this.$2.removeSourceBuffer(b)}this.$3.release();this.$3.engage();this.$4.release();this.$4.engage();this.$8=[];this.$10=!1;this.$12=!0};b.$35=function(){return!this.$34()&&this.$2.readyState==="open"&&!this.$10&&!this.$12};b.$34=function(){return this.$6.some(function(a){return a.getIsUpdating()})};b.onError=function(a){return this.$20.onError(a)};return a}();g["default"]=a}),98);
__d("oz-player/media_source/OzMediaSeekableRangeManager",["oz-player/shims/OzSubscriptionsHandler"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b){var d=this;this.$5=function(a){a===void 0&&(a=!0);var b=d.$2;if(!b)return;b=b.getTimeRanges();if(!b.length)return;b=b[b.length-1];d.$1.updateDuration(b.endTime,a)};this.$1=a;this.$3=new(c("oz-player/shims/OzSubscriptionsHandler"))();this.$4=b}var b=a.prototype;b.setTimeRangeProvider=function(a){this.$3.release(),this.$3.engage(),this.$3.addSubscriptions(a.addUpdateListener(this.$5)),this.$2=a};b.listenToMediaStreamInitAppended=function(a){var b=this;return a.addListener("initAppended",function(){b.$5(!1)})};b.destroy=function(){this.$3.release()};return a}();g["default"]=a}),98);
__d("oz-player/networks/OzCreateErrorStream",["oz-player/shims/OzStreams"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return new(d("oz-player/shims/OzStreams").OzReadableStream)({pull:function(b){b.error(a)}})}g["default"]=a}),98);
__d("oz-player/shims/OzFetchAPI",[],(function(a,b,c,d,e,f){"use strict";b=function(b,c){return a.fetch(b,c)};c=function(b,c){return new a.Response(b,c)};f.fetch=b;f.Response=c}),66);
__d("oz-player/networks/FetchWithTimeout",["oz-player/shims/OzFetchAPI","oz-player/shims/ozClearTimeout","oz-player/shims/ozSetTimeoutAcrossTransitions","oz-player/utils/OzErrorUtils"],(function(a,b,c,d,e,f,g){"use strict";function b(b,e,f,g){if(!d("oz-player/shims/OzFetchAPI").fetch)throw d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_INITIALIZATION",description:"fetch api is missing"});var h=null;if("AbortController"in a&&f!=null&&f!=0){var i=new AbortController();h=c("oz-player/shims/ozSetTimeoutAcrossTransitions")(function(){return i.abort()},f);f=babelHelpers["extends"]({},e,{signal:i.signal})}else f=babelHelpers["extends"]({},e);g!=null&&(f=babelHelpers["extends"]({},f,{referrer:g}));return d("oz-player/shims/OzFetchAPI").fetch(b,f).then(function(a){c("oz-player/shims/ozClearTimeout")(h);return a})}g["default"]=b}),98);
__d("oz-player/networks/OzHTTPHeaders",["oz-player/shims/ozvariant"],(function(a,b,c,d,e,f,g){"use strict";d=function(){function a(){this.$1=new Map()}var b=a.prototype;b.append=function(a,b){a=a.toLowerCase();var c=this.$1.get(a);c!=null?this.$1.set(a,c+", "+b):this.$1.set(a,b)};b.get=function(a){a=a.toLowerCase();a=this.$1.get(a);return a!=null?a:null};b.entries=function(){return this.$1.entries()};b.has=function(a){return this.get(a)!==null};return a}();e=a.Headers;f=e&&e.prototype;var h=e&&f&&typeof f.append==="function"&&typeof f.entries==="function"&&typeof f.get==="function"&&typeof f.has==="function"?e:d;function b(a){if(a==null)return null;if(typeof a==="object"&&typeof a.append==="function"&&typeof a.get==="function"&&typeof a.has==="function")if(typeof a.entries==="function")return a;else if(typeof a.forEach==="function"){var b=new h();a.forEach(function(a,c){b.append(c,a)});return b}c("oz-player/shims/ozvariant")(!1,"Malformed Headers object: %s %s",typeof a,String(a));return null}g.OzHTTPHeaders=h;g.maybeConvertHeadersToOzHTTPHeaders=b}),98);
__d("oz-player/utils/arrayBuffer2OzReadableStream",["oz-player/shims/OzStreams"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return new(d("oz-player/shims/OzStreams").OzReadableStream)({start:function(b){var c=new Uint8Array(a);b.enqueue(c);b.close()}})}g["default"]=a}),98);
__d("oz-player/utils/maybeConvertReadableStreamToOzReadableStream",["asyncToGeneratorRuntime","oz-player/shims/OzStreams"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(!d("oz-player/shims/OzStreams").OzReadableStreamIsPolyfilled)return a;var c=a.getReader();return new(d("oz-player/shims/OzStreams").OzReadableStream)({start:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){while(!0){var b=(yield c.read());if(b.done)break;a.enqueue(b.value)}a.close()});function d(b){return a.apply(this,arguments)}return d}()})}g["default"]=a}),98);
__d("oz-player/utils/processFetchResponse",["oz-player/networks/OzHTTPHeaders","oz-player/shims/OzMaybeNativePromise","oz-player/utils/arrayBuffer2OzReadableStream","oz-player/utils/maybeConvertReadableStreamToOzReadableStream"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.body,e=a.ok,f=a.status,g=a.headers;return b!=null?c("oz-player/shims/OzMaybeNativePromise").resolve({ok:e,status:f,headers:d("oz-player/networks/OzHTTPHeaders").maybeConvertHeadersToOzHTTPHeaders(g),body:c("oz-player/utils/maybeConvertReadableStreamToOzReadableStream")(b),arrayBuffer:function(){return a.arrayBuffer()}}):a.arrayBuffer().then(function(a){return{ok:e,status:f,headers:d("oz-player/networks/OzHTTPHeaders").maybeConvertHeadersToOzHTTPHeaders(g),body:c("oz-player/utils/arrayBuffer2OzReadableStream")(a),arrayBuffer:function(){return c("oz-player/shims/OzMaybeNativePromise").resolve(a)}}})}g["default"]=a}),98);
__d("oz-player/networks/OzFetchRequestImplementation",["oz-player/networks/FetchWithTimeout","oz-player/utils/processFetchResponse"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d,e,f,g,h,i){f=d?d.networkTimeoutMs:null;g=c("oz-player/networks/FetchWithTimeout")(a,b,f);return g.then(function(a){var b=a.ok,d=a.status,f=a.headers;return e!=null&&!b&&typeof a.text==="function"?a.text().then(function(c){return{ok:b,status:d,headers:f,body:c,arrayBuffer:function(){return a.arrayBuffer()}}}):c("oz-player/utils/processFetchResponse")(a)})}b=a;d=b;g["default"]=d}),98);
__d("oz-player/networks/withRetries",["Promise","asyncToGeneratorRuntime","oz-player/shims/ozSetTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,d,e){return new(h||(h=b("Promise")))(function(f,g){function h(a){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){try{f(yield a())}catch(a){if(b>0){var i=typeof e==="function"?e(d-b):e;c("oz-player/shims/ozSetTimeoutAcrossTransitions")(function(){h(b-1)},i)}else g(a)}});return i.apply(this,arguments)}h(d)})}g["default"]=a}),98);
__d("oz-player/networks/OzFetchWithCache",["oz-player/networks/OzFetchRequestImplementation","oz-player/networks/withRetries","oz-player/shims/OzMaybeNativePromise","oz-player/utils/OzErrorUtils","oz-player/utils/arrayBuffer2OzReadableStream","oz-player/utils/processFetchResponse"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.config,e=a.url,f=a.http,g=a.overrideOzRequestImplementation,h=a.options,i=a.prefetchCache,j=a.mediaStreamType,k=a.onPerfEntryAvailable,l=a.dataAppendedCallback,m=a.dataAppendedErrorCallback,n=g!=null?function(){return g.apply(void 0,arguments)}:c("oz-player/networks/OzFetchRequestImplementation");a=i?i.getCacheValue(e):null;i=a;a=!1;if(i)a=!0,i=i.then(function(a){if(a.initiator==="FETCH"){var b=a.response,e=b.ok,f=b.status,g=b.headers;return!e&&typeof a.response.text==="function"?a.response.text().then(function(b){return{ok:!1,status:f,headers:g,body:b,arrayBuffer:function(){return a.response.arrayBuffer()}}}):c("oz-player/utils/processFetchResponse")(a.response)}else if(a.initiator==="XHR_REQUEST"){b=c("oz-player/utils/arrayBuffer2OzReadableStream")(a.response);return{body:b,status:200,headers:null,ok:!0,arrayBuffer:function(){return c("oz-player/shims/OzMaybeNativePromise").resolve(a.response)}}}else throw d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_UNEXPECTED_CACHE_INITIATOR",description:"Unable to handle request initiator: "+a.initiator})})["catch"](function(a){return n(e,f,null,null,j,k,l,m)});else{var o;o=(o=h==null?void 0:h.retryAttempts_SIDX_USE_ONLY)!=null?o:0;if(o>0){var p;p=(p=h==null?void 0:h.retryTimeoutMs_SIDX_USE_ONLY)!=null?p:100;i=c("oz-player/networks/withRetries")(function(){return n(e,f,h,b,j,k,l,m)},o,p)}else i=n(e,f,h,b,j,k,l,m)}return{promise:i,retrievedFromCache:a}}g["default"]=a}),98);
__d("oz-player/utils/OzVideoUrlUtils",[],(function(a,b,c,d,e,f){"use strict";c=1<<31;var g=~c,h=c+1;function i(a){a=a|0;return Math.max(h,Math.min(a,g))}function j(a){a=Number.parseInt(a,16);return Number.isFinite(a)?new Date(i(a)*1e3):null}function k(){return i(Date.now()/1e3)}var l={OE:"oe",OE2:"oe2",ODM:"odm",USS:"uss"};function m(a){a=a instanceof URL?a.searchParams:new URL(a).searchParams;a=a.get(l.OE);a=a==null?void 0:j(a);return{expirationDate:a}}function a(a){a=a instanceof URL?a.searchParams:new URL(a).searchParams;return a.get(l.OE2)!==null||a.get(l.ODM)!==null||a.get(l.USS)!==null}function b(a){a=m(a);a=a.expirationDate;return a!=null&&a<=new Date(k()*1e3)}f.DEFAULT_UNIXTIME=c;f.MAX_INT=g;f.parseCdnUrlParams=m;f.isShortenedExpiryTimestampCdnUrl=a;f.isCdnUrlExpired=b}),66);
__d("oz-player/networks/OzNetworkRequestStream",["Promise","oz-player/networks/OzCreateErrorStream","oz-player/networks/OzFetchWithCache","oz-player/shims/OzURI","oz-player/shims/ozvariant","oz-player/utils/OzCustomErrorCode","oz-player/utils/OzErrorUtils","oz-player/utils/OzResourceTimingUtils","oz-player/utils/OzVideoUrlUtils"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a){this.$8=!1;this.$10="auto";var b=a.debugName,c=a.config,d=a.baseUri,e=a.baseUriDecisionTime,f=a.options,g=a.requestParamCreator,h=a.networkRequestStreamHandlers,i=a.overrideOzRequestImplementation,j=a.prefetchCache,k=a.networkRequestFetchPriority,l=a.networkRequestStreamRetryHandler,m=a.networkRequestUrlRefreshHandler,n=a.dynamicVideoLibrary,o=a.mediaStreamType,p=a.dataAppendedCallback;a=a.dataAppendedErrorCallback;this.$1=b;this.$2=d;this.$3=f;this.$4=g;this.$11=h!=null?h:[];this.$10=k;this.$12=l;this.$13=m;this.$9=i;this.$14=j;this.$15=c;this.$16=n;this.$17=e;this.$18=o;this.$19=p;this.$20=a}var e=a.prototype;e.$21=function(a){var b=this;a=this.$4.createRequestParam(this.$2,a,this.$10);var d=a.uri;a=a.http;d=d.toString();this.$5=d;a=c("oz-player/networks/OzFetchWithCache")({config:this.$15,url:d,http:a,overrideOzRequestImplementation:this.$9,options:this.$3,prefetchCache:this.$14,mediaStreamType:this.$18,onPerfEntryAvailable:function(a){b.$22(a)},dataAppendedCallback:this.$19,dataAppendedErrorCallback:this.$20});var e=a.promise;a=a.retrievedFromCache;this.$8=a;return{requestPromise:e,requestUrl:d}};e.startStream=function(a){var b=this;return this.$23().then(function(){if(b.$15.getBool("video_cdn_url_refresh")&&!d("oz-player/utils/OzVideoUrlUtils").isShortenedExpiryTimestampCdnUrl(b.$2.toString())&&d("oz-player/utils/OzVideoUrlUtils").isCdnUrlExpired(b.$2.toString()))return c("oz-player/networks/OzCreateErrorStream")(d("oz-player/utils/OzErrorUtils").createOzNetworkError({description:"OzNetworkRequestStream("+b.$1+") CDN URL expired.",responseStatus:0,responseHeaders:null,requestUrl:b.$2.toString()}));var e=b.$21(a),f=e.requestPromise,g=e.requestUrl,h=g,i=Date.now();return f.then(function(e){var f;(f=b.$16)==null||f.updateWithResponse(g,i,b.$17,e);b.$7=e;if(b.$12!=null&&e.ok===!1)return b.$12(e,function(){var d=b.$21(a),c=d.requestPromise;d=d.requestUrl;h=d;return c},h)["catch"](function(a){throw d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_NETWORK_REQUEST_STREAM_RETRY_HANDLER_ERROR",description:String(a),extra:{originalError:a,code:c("oz-player/utils/OzCustomErrorCode").NETWORK_REQUEST_STREAM_RETRY_HANDLER_ERROR,url:h}})});else return e}).then(function(a){var e=[];for(var f=0;f<b.$11.length;f++)try{var g=b.$11[f].onResponse(a,h);g&&e.push(g)}catch(a){g=a;return c("oz-player/networks/OzCreateErrorStream")(g)}g=a.body;f=a.headers;var i=a.ok;a=a.status;if(!i)return c("oz-player/networks/OzCreateErrorStream")(d("oz-player/utils/OzErrorUtils").createOzNetworkError({description:"OzNetworkRequestStream("+b.$1+") HTTP status not OK",responseStatus:a,responseHeaders:f,requestUrl:h,responseBody:typeof g==="string"?g:void 0}));typeof g!=="string"&&typeof g.getReader==="function"||c("oz-player/shims/ozvariant")(0,3287);i=g;for(a=0;a<e.length;a++)i=i.pipeThrough(e[a]);return i},function(a){var e=[];for(var f=0;f<b.$11.length;f++)try{var g=b.$11[f].onError(a,h);g&&e.push(g)}catch(a){g=a;return c("oz-player/networks/OzCreateErrorStream")(g)}if(a instanceof TypeError){g=c("oz-player/networks/OzCreateErrorStream")(d("oz-player/utils/OzErrorUtils").createOzNetworkError({description:"OzNetworkRequestStream("+b.$1+") TypeError: "+a.message,responseStatus:0,responseHeaders:null,requestUrl:h}));for(f=0;f<e.length;f++)g=g.pipeThrough(e[f]);return g}throw a})["catch"](function(a){if(d("oz-player/utils/OzErrorUtils").isOzError(a)&&a.getType()==="OZ_NETWORK_REQUEST_STREAM_RETRY_HANDLER_ERROR")throw a;if(a.name==="AbortError"){var b=a.message;return c("oz-player/networks/OzCreateErrorStream")({type:a.name,status:a.code,url:h,message:b})}return c("oz-player/networks/OzCreateErrorStream")({type:"stream_processing",status:0,url:h,message:"Stream processing error. "+a})})})};e.$22=function(a){this.$6=a};e.getLastPerformanceEntry=function(){if(this.$6!=null)return this.$6;return this.$5==null?null:d("oz-player/utils/OzResourceTimingUtils").getLatestResourceTimingEntry(this.$5)};e.getLastRequestUrl=function(){return this.$5};e.getLastResponse=function(){return this.$7};e.retrievedFromCache=function(){return this.$8};e.$23=function(){var a=this;if(this.$15.getBool("video_cdn_url_refresh")&&!d("oz-player/utils/OzVideoUrlUtils").isShortenedExpiryTimestampCdnUrl(this.$2.toString())&&d("oz-player/utils/OzVideoUrlUtils").isCdnUrlExpired(this.$2.toString())&&this.$13)return this.$13(this.$2.toString()).then(function(b){b.refreshedUrl!=null&&b.reason==="OK"&&(a.$2=new(c("oz-player/shims/OzURI"))(b.refreshedUrl));return});else return(h||(h=b("Promise"))).resolve()};return a}();g["default"]=a}),98);
__d("oz-player/manifests/OzByteRange",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return a.startByte===b.startByte}function b(a,b){return b.endByte===null?!1:a.startByte===b.endByte+1}function c(a,b){return a.startByte<b.startByte?!1:b.endByte==null||b.endByte>=a.startByte}function d(a,b){a=a;b=b;if(b.startByte<a.startByte){var c=a;a=b;b=c}if(a.endByte==null)return{startByte:a.startByte,endByte:null};if(b.startByte>a.endByte+1)return null;c=b.endByte==null||b.endByte>a.endByte?b.endByte:a.endByte;return{startByte:a.startByte,endByte:c}}function e(a,b){if(b.endByte==null)return null;if(a.startByte>b.endByte)return{startByte:a.startByte,endByte:a.endByte};return a.endByte!=null&&a.endByte<=b.endByte?null:{startByte:b.endByte+1,endByte:a.endByte}}function g(a){return a.endByte==null?null:a.endByte-a.startByte+1}f.startsAtSame=a;f.startsImmediateAfter=b;f.startsDuring=c;f.union=d;f.disjoinAfter=e;f.getLength=g}),66);
__d("oz-player/networks/OzProducerInterruptedError",[],(function(a,b,c,d,e,f){"use strict";a=function(a){function b(){return a.apply(this,arguments)||this}babelHelpers.inheritsLoose(b,a);return b}(babelHelpers.wrapNativeSuper(Error));f["default"]=a}),66);
__d("oz-player/networks/OzDeferredBuffer",["oz-player/networks/OzProducerInterruptedError","oz-player/shims/OzDeferred","oz-player/shims/OzMaybeNativePromise","oz-player/utils/OzErrorUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){a===void 0&&(a={});this.$2=[];this.$3=!1;this.$5=0;a=a;a=a.disableArrayShift;this.$1=!!a}var b=a.prototype;b.produce=function(a){this.$6(a)};b.signalProducerInterruption=function(){this.$6(new(c("oz-player/networks/OzProducerInterruptedError"))("producer interrupted"))};b.consume=function(a){var b=this;if(this.$3)throw d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_DEFERRED_BUFFER",description:"A buffer can only be consumed by one client at a time"});this.$3=!0;var e=c("oz-player/shims/OzMaybeNativePromise").resolve();this.isEmpty()&&(this.$4=new(c("oz-player/shims/OzDeferred"))(c("oz-player/shims/OzMaybeNativePromise")),e=this.$4.getPromise());return e.then(function(){if(b.$1){if(b.$2[b.$5]===void 0)throw d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_DEFERRED_BUFFER",description:"buffer has no value at position "+b.$5})}else if(b.$2.length===0)throw d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_DEFERRED_BUFFER",description:"buffer length must not be 0"});b.$4=null;b.$3=!1;var c=b.$1?b.$7(a):b.$8(a);if(c instanceof Uint8Array)return c;throw c})};b.$6=function(a){this.$2.push(a),this.$4&&this.$4.resolve()};b.$7=function(a){var b=this.$2[this.$5];if(b===void 0)return new Uint8Array([]);b=b;if(!(b instanceof Uint8Array)){this.$2[this.$5]=void 0;this.$5++;return b}if(a!==void 0&&b.length>a){var c=b.slice(a);b=b.slice(0,a);this.$2[this.$5]=c}else this.$2[this.$5]=void 0,this.$5++;return b};b.$8=function(a){if(this.$2.length===0)return new Uint8Array([]);var b=this.$2[0];if(!(b instanceof Uint8Array)){this.$2.shift();return b}if(a!==void 0&&b.length>a){var c=b.slice(a);b=b.slice(0,a);this.$2[0]=c}else this.$2.shift();return b};b.isEmpty=function(){return this.$1?this.$2[this.$5]===void 0:this.$2.length===0};return a}();g["default"]=a}),98);
__d("oz-player/utils/ozPipeErrorTo",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){try{a==null||a.error(b)}catch(a){}}f["default"]=a}),66);
__d("oz-player/networks/OzPausableRangeStream",["oz-player/manifests/OzByteRange","oz-player/networks/OzDeferredBuffer","oz-player/shims/OzDeferred","oz-player/shims/OzMaybeNativePromise","oz-player/utils/OzErrorUtils","oz-player/utils/ozPipeErrorTo"],(function(a,b,c,d,e,f,g){"use strict";function h(){return d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_STREAM",description:"Upstream has an inconsistent range"})}var i=function(){function a(){this.$1=0}var b=a.prototype;b.setBytesToSkip=function(a){this.$1=a};b.setBytesSkipped=function(a){this.$1-=a};b.getBytesToSkip=function(){return this.$1};b.hasMoreBytesToSkip=function(){return this.$1>0};return a}();a=function(){function a(b,d,e,f,g){var j=this;this.$5=!1;this.$7=0;this.$8=0;this.$13=!1;this.$14=new i();this.$15=!1;this.$16=!1;this.$17=!1;this.startStream=function(){j.$13=!0;var b={startByte:j.$1.startByte,endByte:j.$1.endByte};!j.$15?b.startByte+=j.$8:j.$8&&(j.$3.produce("skip_buffered_bytes"),j.$8=0);var d=j.$4;return j.$2.startStream(b).then(function(b){b.pipeTo(j.$16?d:j.$4).then(function(){j.$12&&j.$12.resolve("stream_done")})["catch"](function(b){j.$12&&!j.$12.isSettled()&&(j.$16&&b===a.STREAM_PAUSED?j.$12.resolve("stream_paused"):j.$12.reject(b))});j.$12=new(c("oz-player/shims/OzDeferred"))(c("oz-player/shims/OzMaybeNativePromise"));return{statusPromise:j.$12.getPromise()}})};this.$18=b;this.$19=d;this.$1=e;this.$2=f;b=g||{};d=b.fixStreamingUndefinedEndByte;e=b.disableDeferredBufferArrayShift;f=b.enablePausableStreamResumeFromStartDangerously;g=b.fixPausePreReadableStream;b=b.throwErrorWhenAborted;this.$11=!!d;this.$15=!!f;this.$16=!!g;this.$17=!!b;this.$3=new(c("oz-player/networks/OzDeferredBuffer"))({disableArrayShift:!!e});this.$6=new this.$18({start:function(a){j.$10=a},pull:function(a){if((j.$11&&j.$1.endByte===null&&j.$5||j.$7===j.$20())&&j.$3.isEmpty()){a.close();return c("oz-player/shims/OzMaybeNativePromise").resolve()}var b=function(){var d=j.$14.hasMoreBytesToSkip()?j.$14.getBytesToSkip():void 0;return j.$3.consume(d).then(function(d){if(j.$14.hasMoreBytesToSkip()){j.$14.setBytesSkipped(d.length);return b()}j.$7+=d.length;var e=j.$20();e!==null&&j.$7>(e||0)&&c("oz-player/utils/ozPipeErrorTo")(j.$10,h());a.enqueue(d)})["catch"](function(a){if(a==="skip_buffered_bytes"){j.$14.setBytesToSkip(j.$7);return b()}throw a})};return b()},cancel:function(a){j.$12&&j.$12.resolve("stream_cancelled"),c("oz-player/utils/ozPipeErrorTo")(j.$9,a)}});this.$4=this.$21()}var b=a.prototype;b.$20=function(){var a=this.$1,b=a.startByte;a=a.endByte;return a!=null?a-b+1:null};b.$21=function(){var a=this;return new this.$19({start:function(b){a.$9=b},write:function(b){a.$3.produce(b),a.$8+=b.length},close:function(){a.$5=!0;var b=a.$1,d=b.endByte;b=b.startByte;a.$11&&d===null&&a.$3.produce(new Uint8Array([]));d!==null&&a.$8!==(d||0)-b+1&&c("oz-player/utils/ozPipeErrorTo")(a.$10,h())},abort:function(b){a.$12&&(a.$17?a.$12.reject(b):a.$12.resolve("stream_aborted")),c("oz-player/utils/ozPipeErrorTo")(a.$10,b)}})};b.getStream=function(){return this.$6};b.pauseStream=function(){c("oz-player/utils/ozPipeErrorTo")(this.$9,a.STREAM_PAUSED),this.$12&&this.$12.resolve("stream_paused"),this.$4=this.$21()};b.getByteRange=function(){return this.$1};b.getBytesStreamed=function(){return this.$7};b.tryConcatByteRange=function(a){if(this.$13||!d("oz-player/manifests/OzByteRange").startsImmediateAfter(a,this.$1))return!1;this.$1={startByte:this.$1.startByte,endByte:a.endByte};return!0};return a}();a.STREAM_PAUSED="streamPaused";g["default"]=a}),98);
__d("oz-player/networks/RequestParamCreator",["oz-player/shims/OzURI"],(function(a,b,c,d,e,f,g){"use strict";a=function(a,b){var d=this;this.createRequestParam=function(a,b,e){var f=new(c("oz-player/shims/OzURI"))(a.toString());if(b){a=b.startByte;var g=b.endByte;a===0&&g==null||(f.addQueryData({bytestart:b.startByte}),g!=null&&f.addQueryData({byteend:g}))}if(d.$2){var h=d.$2(f);h&&Object.keys(h).forEach(function(a){var b=h[a];f.addQueryData(a,b)})}a=d.$1&&d.$1(f)?"include":"same-origin";return{uri:f,http:{credentials:a,priority:e}}};this.$1=a;this.$2=b};g["default"]=a}),98);
__d("oz-player/networks/getOzSegmentStreamableRange",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(!a.length)return null;var b=a[0].getURI().toString(),c=a[0].getByteRange();if(!c)return null;var d=c;for(var e=1;e<a.length;e++){var f=a[e];if(f.getURI().toString()!==b)return null;f=f.getByteRange();if(!d||!f)return null;if(d.endByte===null||f.startByte!==d.endByte+1)return null;d=f}return{startByte:c.startByte,endByte:d.endByte}}f["default"]=a}),66);
__d("oz-player/utils/OzNetworkRequestLoggingUtils",["oz-player/shims/OzNetworkDiagnostics","oz-player/utils/OzResourceTimingUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){return a?parseInt(a.get("content-length"),10):null},i=function(a){return a?a.get("x-fb-fna-hit"):null},j=function(a){return a?a.get("x-fb-edge-hit"):null},k=function(a){return a?a.get("x-fb-origin-hit"):null},l=function(a){return a?parseInt(a.get("x-fb-dynamic-latest-segment-id"),10):null},m=function(a,b){b=d("oz-player/utils/OzResourceTimingUtils").getLatestResourceTimingEntry(b);b&&a.setTimeToFirstByte(Math.round(b.responseStart-b.startTime)).setTimeToLastByte(Math.round(b.responseEnd-b.startTime)).setTimeToRequestStart(Math.round(b.requestStart-b.startTime))};a=function(a,b,d,e,f,g){d.length&&a.setSegmentCount(d.length),b!=null&&b!==""&&m(a,String(b)),a.setResource(b!=null&&b!==""?b:null).setInitiator("fetch").setTimeToRequestSent(Math.round(Math.floor(e))).setLiveheadSeqNumHeader(l(g==null?void 0:g.headers)).setContentLengthHeader(h(g==null?void 0:g.headers)).setEdgeHitHeader(j(g==null?void 0:g.headers)).setOriginHitHeader(k(g==null?void 0:g.headers)).setFNAHitHeader(i(g==null?void 0:g.headers)).setResponseTimeMsHeader(c("oz-player/shims/OzNetworkDiagnostics").getResponseTimeMs(g==null?void 0:g.headers)).setUserInfo({segmentPTSHeader:String(c("oz-player/shims/OzNetworkDiagnostics").getDvlSegmentPTS(g==null?void 0:g.headers))}).setCode(g==null?void 0:g.status).setLength(f)};b=function(a,b,d,e,f,g,i){b!=null&&b!==""&&m(a,String(b)),a.setResource(b!=null&&b!==""?b:null).setLiveheadSeqNumHeader(l(e==null?void 0:e.headers)).setContentLengthHeader(h(e==null?void 0:e.headers)).setEdgeHitHeader(j(e==null?void 0:e.headers)).setOriginHitHeader(k(e==null?void 0:e.headers)).setResponseTimeMsHeader(c("oz-player/shims/OzNetworkDiagnostics").getResponseTimeMs(e==null?void 0:e.headers)).setCode(e==null?void 0:e.status).setLength(d).setClientTimeBegin(f).setClientTimeDuration(g-f).setClientTimeEnd(g).setUserInfo(i!=null&&i>0?{chunkSize:String(i)}:null)};g.setPerformanceLoggingAttributes=m;g.setFetchStreamLoggingAttributes=a;g.setBandwidthSampledLoggingAttributes=b}),98);
__d("oz-player/networks/OzNetworkManager",["oz-player/loggings/OzLoggingUtils","oz-player/networks/OzNetworkRequestStream","oz-player/networks/OzPausableRangeStream","oz-player/networks/RequestParamCreator","oz-player/networks/getOzSegmentStreamableRange","oz-player/shims/OzStreams","oz-player/shims/OzURI","oz-player/shims/ozvariant","oz-player/utils/OzNetworkRequestLoggingUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$10=null;this.$15="auto";var b=a.config,d=a.prefetchCache,e=a.networkRequestStreamHandlers,f=a.getOverrideOzRequestImplementation,g=a.getShouldIncludeCredentials,h=a.getCustomRequestParametersForURI,i=a.networkRequestFetchPriority;i=i===void 0?"auto":i;var j=a.networkRequestStreamRetryHandler,k=a.networkRequestUrlRefreshHandler,l=a.setCustomFetchStreamLoggingAttributes,m=a.dynamicVideoLibrary,n=a.configureCustomRequestParametersForSegment,o=a.onResourceTimingBufferFull;a=a.bandwidthEstimator;this.$2=b;this.$8=g;this.$9=h;this.$1=new(c("oz-player/networks/RequestParamCreator"))(this.$8,this.$9);this.$3=d;this.$4=e;this.$5=j;this.$6=k;this.$7=f;this.$10=l;this.$11=m;this.$12=n;this.$13=o;this.$14=a;this.$15=i}var b=a.prototype;b.destroy=function(){};b.request=function(a){var b=a.debugName,d=a.segments,e=a.pipeThroughRangeStreamProviders,f=a.loggerProvider,g=a.requestOptions,h=a.mediaStreamType,i=a.dataAppendedCallback;a=a.dataAppendedErrorCallback;d.length>0||c("oz-player/shims/ozvariant")(0,212);var j=c("oz-player/networks/getOzSegmentStreamableRange")(d)||{startByte:0,endByte:null},k=this.$7?this.$7():null,l=this.$16(d[0]);b=new(c("oz-player/networks/OzNetworkRequestStream"))({debugName:b,config:this.$2,baseUri:l,baseUriDecisionTime:null,options:g,requestParamCreator:this.$1,networkRequestFetchPriority:this.$15,networkRequestStreamHandlers:this.$4,networkRequestUrlRefreshHandler:this.$6,overrideOzRequestImplementation:k,prefetchCache:this.$3,networkRequestStreamRetryHandler:this.$5,mediaStreamType:h,dataAppendedCallback:i,dataAppendedErrorCallback:a});return this.$17(j,b,e,f,d)};b.createPausableStream=function(a){var b=a.debugName,d=a.segments,e=a.pipeThroughRangeStreamProviders,f=a.loggerProvider,g=a.mediaStreamType,h=a.dataAppendedCallback;a=a.dataAppendedErrorCallback;d.length>0||c("oz-player/shims/ozvariant")(0,212);var i=c("oz-player/networks/getOzSegmentStreamableRange")(d)||{startByte:0,endByte:null},j=null,k=this.$2.getNumber("network_seg_timeout_ms");k>0&&(j={networkTimeoutMs:k});k=this.$7?this.$7():null;var l=new(c("oz-player/networks/OzNetworkRequestStream"))({debugName:b,config:this.$2,baseUri:this.$16(d[0]),baseUriDecisionTime:d[0].getOptions().getSegmentNumDecisionTime(),options:j,requestParamCreator:this.$1,networkRequestFetchPriority:this.$15,networkRequestStreamHandlers:this.$4,networkRequestUrlRefreshHandler:this.$6,overrideOzRequestImplementation:k,prefetchCache:this.$3,networkRequestStreamRetryHandler:this.$5,dynamicVideoLibrary:this.$11,mediaStreamType:g,dataAppendedCallback:h,dataAppendedErrorCallback:a});return{pausableStream:this.$18(i,l,e||null,f),loggingPayloads:{getRequestUrl:function(){return l.getLastRequestUrl()||null},segments:d,getResponse:function(){return l.getLastResponse()}}}};b.requestRawUrl=function(a){var b=a.debugName,d=a.url,e=a.options;a=a.loggerProvider;var f=this.$7?this.$7():null;b=new(c("oz-player/networks/OzNetworkRequestStream"))({debugName:b,config:this.$2,baseUri:new(c("oz-player/shims/OzURI"))(d),baseUriDecisionTime:null,options:e,networkRequestFetchPriority:this.$15,requestParamCreator:this.$1,networkRequestStreamHandlers:this.$4,networkRequestUrlRefreshHandler:this.$6,overrideOzRequestImplementation:f,prefetchCache:this.$3,networkRequestStreamRetryHandler:this.$5,dynamicVideoLibrary:this.$11,mediaStreamType:null,dataAppendedCallback:null,dataAppendedErrorCallback:null});d={startByte:0,endByte:null};return this.$17(d,b,[],a)};b.$18=function(a,b,e,f){b=b;if(e!=null)for(var g=0;g<e.length;g++){var h=e[g];b=h(this.$2,b,f,this.$13)}return new(c("oz-player/networks/OzPausableRangeStream"))(d("oz-player/shims/OzStreams").OzReadableStream,d("oz-player/shims/OzStreams").OzWritableStream,a,b,{fixStreamingUndefinedEndByte:!0,enablePausableStreamResumeFromStartDangerously:!0,fixPausePreReadableStream:!0,throwErrorWhenAborted:!0})};b.$17=function(a,b,c,e,f){var g=this;f===void 0&&(f=[]);var h=this.$18(a,b,c,e);a=h.startStream();var i=this.$19(a);if(e){c=function(a){d("oz-player/utils/OzNetworkRequestLoggingUtils").setFetchStreamLoggingAttributes(a,b.getLastRequestUrl(),f,0,h.getBytesStreamed(),b.getLastResponse());var c=g.$10;c&&c(a,b.getLastRequestUrl(),b.getLastResponse())};d("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation(i,e,"fetch_stream",c,c)}return{getStream:function(){return h.getStream()},cancel:function(){return h.pauseStream()},getStatusChangePromise:function(){return i}}};b.$19=function(a){return a.then(function(a){a=a.statusPromise;return a.then(function(a){return"done"})})};b.$16=function(a){var b=this.$12,d=new(c("oz-player/shims/OzURI"))(a.getURI().toString());if(b){var e=b(a);e&&Object.keys(e).forEach(function(a){var b=e[a];d.addQueryData(a,b)})}return d};b.getBandwidthEstimator=function(){return this.$14};a.getStreamableSegmentsRange=function(a){if(!a.length)return[];return!c("oz-player/networks/getOzSegmentStreamableRange")(a)?[a[0]]:a.slice(0)};return a}();g["default"]=a}),98);
__d("oz-player/manifests/Mpd",["oz-player/shims/OzEventEmitter","oz-player/utils/OzErrorUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){function b(b,c,d,e,f,g,h,i){var j;j=a.call(this)||this;j.$Mpd$p_9=!1;j.$Mpd$p_1=b;j.$Mpd$p_5=g;j.$Mpd$p_2=c;j.$Mpd$p_3=d;j.$Mpd$p_4=e;j.$Mpd$p_6=f;j.$Mpd$p_7=h;j.$Mpd$p_8=i;return j}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.markRefreshed=function(){this.$Mpd$p_10=Date.now()};c.getRefreshDate=function(){return this.$Mpd$p_10};c.updateLocation=function(a){this.$Mpd$p_6=a,this.$Mpd$p_9=!0,this.emit("locationUpdated")};c.getLocation=function(){return this.$Mpd$p_6};c.getMinimumUpdatePeriod=function(){return this.$Mpd$p_5};c.getVideoRepresentations=function(){return this.$Mpd$p_2};c.getVideoRepresentationsByVariant=function(a){return a.lang===null?this.$Mpd$p_2.filter(function(b){return b.getLang()===a.lang&&b.getRole()===a.role}):this.$Mpd$p_2.filter(function(b){return b.getLang()===a.lang&&b.getRole()===a.role})};c.getAudioRepresentationsByVariant=function(a){return a.lang===null?this.$Mpd$p_3.filter(function(b){return b.getLang()===a.lang&&b.getRole()===a.role}):this.$Mpd$p_3.filter(function(b){return b.getLang()===a.lang&&b.getRole()===a.role})};c.getAudioRepresentations=function(){return this.$Mpd$p_3};c.getApplicationRepresentations=function(){return this.$Mpd$p_4};c.getCustomField=function(a){var b=this.$Mpd$p_7.get(a);if(!b)throw d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_MPD_PARSER",description:"Custom parser not specified for field "+a});try{return b(this.$Mpd$p_1)}catch(a){return null}};c.isStaticMpd=function(){return this.$Mpd$p_8};c.updateWith=function(a){this.$Mpd$p_9&&(this.$Mpd$p_9=!1,this.$Mpd$p_2.splice(0,this.$Mpd$p_2.length),this.$Mpd$p_3.splice(0,this.$Mpd$p_3.length),this.$Mpd$p_4.splice(0,this.$Mpd$p_4.length)),this.$Mpd$p_1=a.$Mpd$p_1,this.$Mpd$p_11(this.$Mpd$p_2,a.getVideoRepresentations()),this.$Mpd$p_11(this.$Mpd$p_3,a.getAudioRepresentations()),this.$Mpd$p_11(this.$Mpd$p_4,a.getApplicationRepresentations()),this.$Mpd$p_8=a.isStaticMpd(),this.$Mpd$p_5=a.getMinimumUpdatePeriod(),this.emit("updated")};c.blockTimeRange=function(a){this.$Mpd$p_2.forEach(function(b){return b.blockTimeRange(a)}),this.$Mpd$p_3.forEach(function(b){return b.blockTimeRange(a)}),this.$Mpd$p_4.forEach(function(b){return b.blockTimeRange(a)})};c.unblockTimeRange=function(){this.blockTimeRange({startTime:0,endTime:0})};c.$Mpd$p_11=function(a,b){for(var c=0;c<b.length;c++){var d=b[c],e=!1;for(var f=0;f<a.length;f++){var g=a[f];if(d.getID()===g.getID()){g.updateWith(d);e=!0;break}}e||a.push(d)}};return b}(c("oz-player/shims/OzEventEmitter"));g["default"]=a}),98);
__d("oz-player/manifests/OzApplicationRepresentation",["oz-player/manifests/OzRepresentationBase"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){function b(){return a.apply(this,arguments)||this}babelHelpers.inheritsLoose(b,a);return b}(c("oz-player/manifests/OzRepresentationBase"));g["default"]=a}),98);
__d("oz-player/parsers/OzSegmentTemplateParser",["oz-player/manifests/OzSegmentOptions","oz-player/parsers/OzDefaultSegmentTimelineParser","oz-player/shims/OzURI","oz-player/utils/OzUrlHelper"],(function(a,b,c,d,e,f,g){"use strict";var h=function(){function a(a,b){this.$3=new(c("oz-player/manifests/OzSegmentOptions"))(),this.$2=a,this.$1=b}var b=a.prototype;b.getData=function(){return this.$1};b.getTimeRange=function(){return{startTime:0,endTime:0}};b.getByteRange=function(){return null};b.getURI=function(){return this.$2};b.getSequenceNumber=function(){return null};b.getOptions=function(){return this.$3};return a}();a=function(){function a(a,b,d,e,f){this.$2=d,this.$1=b,this.$3=a,e?this.$4=e:this.$4=new(c("oz-player/parsers/OzDefaultSegmentTimelineParser"))(),this.$5=f}var b=a.prototype;b.parseInitializationSegment=function(){var a=d("oz-player/utils/OzUrlHelper").joinUrlPaths(this.$2.baseUrl,this.$1.$.initialization);return new h(new(c("oz-player/shims/OzURI"))(a),this.$5)};b.parseSegmentsContainer=function(){return this.$4.parseSegmentsContainer(this.$3,this.$2,this.$1)};return a}();g["default"]=a}),98);
__d("oz-player/manifests/OzZeroTimeRangeSegment",["oz-player/manifests/OzSegmentOptions"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,d){this.$4=new(c("oz-player/manifests/OzSegmentOptions"))(),this.$1=a,this.$2=b,this.$3=d}var b=a.prototype;b.getData=function(){return null};b.getURI=function(){return this.$1};b.getTimeRange=function(){return{startTime:0,endTime:0}};b.getByteRange=function(){return{startByte:this.$2,endByte:this.$3}};b.getSequenceNumber=function(){return null};b.getOptions=function(){return this.$4};return a}();g["default"]=a}),98);
__d("oz-player/networks/OzNetworkRequestStreamBandwidthReporter",["oz-player/networks/OzTransformStream","oz-player/shims/OzNetworkDiagnostics","oz-player/utils/OzNetworkRequestLoggingUtils"],(function(a,b,c,d,e,f,g){"use strict";b=function(){function b(b){var d=this;this.$8=Date.now();this.$9=Date.now();this.$10=0;this.$11=0;this.$12=function(){};this.$13=function(){};this.$14=function(){};this.$16=new(c("oz-player/networks/OzTransformStream"))();this.$19=!1;this.$20=!1;this.$21=null;this.$22=function(a){d.$25();a.length!=null&&(d.$11+=a.length);d.$26();if(d.$18)return;d.$27()};this.$23=function(){if(d.$21!=null&&d.$21>0)return;var b=Date.now()-d.$8,c=d.$1.getLastPerformanceEntry();c&&d.$13(c.responseStart-c.requestStart,c.responseEnd-c.requestStart,d.$11);!c&&a.__isresourcetimingbufferfull&&d.$15&&d.$15();d.$3>0&&b>0&&d.$10===0&&d.$11>=d.$3&&d.$28(d.$11,b)};var e=b.stream,f=b.loggerProvider,g=b.byteCountPerSample,h=b.minimumBytesToSampleOnClose,i=b.minimumSampleDuration,j=b.maximumSampleBandwidth,k=b.useResponseTimeMs,l=b.responseTimeHandicapMs,m=b.ignoreOnStreamWriteSamples;b=b.onResourceTimingBufferFull;this.$1=e;this.$17=f;this.$2=g;this.$3=h;this.$4=i;this.$5=j;this.$6=k;this.$7=l;this.$18=m;this.$16.addListener("writableWrite",this.$22);this.$16.addListener("writableClose",this.$23);this.$15=b}var e=b.prototype;e.getTransformStream=function(){return this.$16};e.onBandwidthSample=function(a){this.$12=a};e.onNavigationTimingSample=function(a){this.$13=a};e.onEstimateFromHeaders=function(a){this.$14=a};e.$24=function(a,b,c){b=b-c;c=this.$17?this.$17.getOperationLogger("bandwidth_sampled"):null;if(c){var e=Date.now(),f=e-b;d("oz-player/utils/OzNetworkRequestLoggingUtils").setBandwidthSampledLoggingAttributes(c,this.$1.getLastRequestUrl(),a,this.$1.getLastResponse(),f,e,this.$21);c.log()}this.$12(a,b)};e.$29=function(a,b,c){if(b-c<=0)return!0;c=a*8/(b/1e3);return b<this.$4&&c>this.$5};e.$28=function(a,b){var d=this.$1.getLastResponse();d=this.$6?c("oz-player/shims/OzNetworkDiagnostics").getResponseTimeMs(d==null?void 0:d.headers)||0:0;this.$29(a,b,d)||this.$24(a,b,Math.max(d-this.$7,0))};e.$25=function(){var a;a=(a=this.$1.getLastResponse())==null?void 0:a.headers;if(this.$20||a==null)return;this.$20=!0;a=c("oz-player/shims/OzNetworkDiagnostics").getBandwidthMeanEstimate(a);a!=null&&this.$14(a)};e.$26=function(){if(this.$19)return;if(this.$21==null){var a=this.$1.getLastResponse();this.$21=c("oz-player/shims/OzNetworkDiagnostics").getUsableResponseSizeForBandwidthEstimation(a==null?void 0:a.headers)||0}this.$21!=null&&this.$21>0&&this.$11>=this.$21&&(this.$19=!0,this.$28(this.$11,Date.now()-this.$9))};e.$27=function(){var a=Date.now(),b=a-this.$8;this.$2>0&&this.$11>=this.$10+this.$2&&!this.$29(this.$11,b,0)&&(this.$24(this.$11-this.$10,b,0),this.$8=a,this.$10=this.$11)};return b}();g["default"]=b}),98);
__d("oz-player/networks/bandwidth/pipeStreamThroughBandwidthEstimator",["oz-player/networks/OzNetworkRequestStreamBandwidthReporter"],(function(a,b,c,d,e,f,g){"use strict";var h=2e5;function a(a,b,d,e,f){return{startStream:function(g){var i=new(c("oz-player/networks/OzNetworkRequestStreamBandwidthReporter"))({stream:b,loggerProvider:d,byteCountPerSample:a.getNumber("byte_count_per_sample",h),minimumBytesToSampleOnClose:a.getNumber("minimum_bytes_to_sample_on_close",25e3),minimumSampleDuration:a.getNumber("minimum_bandwidth_sample_duration",10),maximumSampleBandwidth:a.getNumber("maximum_bandwidth_sample_bandwidth",1e8),useResponseTimeMs:a.getBool("bandwidth_use_response_time_adjustment",!1),responseTimeHandicapMs:a.getNumber("bandwidth_response_time_handicap",0),ignoreOnStreamWriteSamples:a.getBool("bandwidth_ignore_on_stream_write_samples",!1),onResourceTimingBufferFull:f});i.onBandwidthSample(function(a,b){e.addBandwidthSample(a,b)});i.onNavigationTimingSample(function(b,c,d){var f=a.getNumber("time_to_first_byte_ignore_above_threshold_ms",0);(f===0||b<=f)&&e.addNavigationTimingSample(b,c,d)});i.onEstimateFromHeaders(function(a){e.setBandwidthEstimateFromHeaders({meanEstimate:a})});return b.startStream(g).then(function(a){return b.retrievedFromCache()?a:a.pipeThrough(i.getTransformStream())})}}}g.pipeStreamThroughBandwidthEstimator=a}),98);
__d("oz-player/networks/getOzBandwidthEstimatorPipeThroughReporter",["oz-player/networks/OzNetworkRequestStream","oz-player/networks/bandwidth/pipeStreamThroughBandwidthEstimator"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return function(e,f,g,h){var i=a==="video";return f instanceof c("oz-player/networks/OzNetworkRequestStream")&&i?d("oz-player/networks/bandwidth/pipeStreamThroughBandwidthEstimator").pipeStreamThroughBandwidthEstimator(e.getLegacyConfig(),f,g,b,h):f}}g["default"]=a}),98);
__d("oz-player/manifests/OzDataSegment",["oz-player/manifests/OzSegmentOptions"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,d,e,f){this.$6=new(c("oz-player/manifests/OzSegmentOptions"))(),this.$1=a,this.$2=b,this.$3=d,this.$4=e,this.$5=f}var b=a.prototype;b.getData=function(){return null};b.getURI=function(){return this.$1};b.getTimeRange=function(){return{startTime:this.$2,endTime:this.$3}};b.getByteRange=function(){return{startByte:this.$4,endByte:this.$5}};b.getSequenceNumber=function(){return null};b.getOptions=function(){return this.$6};return a}();g["default"]=a}),98);
__d("oz-player/shims/www/OzDataViewReaderWWW",["DataViewReader"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("DataViewReader")}),98);
__d("oz-player/shims/OzDataViewReader",["oz-player/shims/www/OzDataViewReaderWWW"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("oz-player/shims/www/OzDataViewReaderWWW")}),98);
/**
 * License: https://www.facebook.com/legal/license/k5cmJzUOK4Y/
 */
__d("oz-player/parsers/OzMp4SidxParser",["oz-player/manifests/OzDataSegment","oz-player/manifests/OzSegmentOptions","oz-player/shims/OzDataViewReader","oz-player/utils/OzErrorUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=1936286840;function a(a,b,e,f){var g=new(c("oz-player/shims/OzDataViewReader"))(new DataView(f.buffer));f=g.readUint32();var i=g.readUint32();if(i!==h)throw d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_SIDX_PARSER",description:'Invalid box type, expected "sidx".'});f==1&&(f=g.readUint64());i=g.readUint8();g.skip(3);g.skip(4);var j=g.readUint32();if(!j)throw d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_SIDX_PARSER",description:"Invalid timescale."});var k;i==0?(i=g.readUint32(),k=g.readUint32()):(i=g.readUint64(),k=g.readUint64());g.skip(2);var l=g.readUint16(),m=i,n=e+f+k,o=0,p=a.getBool("sidx_parser_memory_optimization"),q=[];i=function(){var a=g.readUint32(),e=(a&2147483648)>>>31;a=a&2147483647;var f=g.readUint32();g.readUint32();if(e==1)throw d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_SIDX_PARSER",description:"Heirarchical SIDXs are not supported."});var h=m/j,i=(m+f)/j;r===0&&(o=h);var k=n,l=k+a-1,s=new(c("oz-player/manifests/OzSegmentOptions"))();q.push(p?new(c("oz-player/manifests/OzDataSegment"))(b,h-o,i-o,k,l):{getData:function(){return null},getURI:function(){return b},getTimeRange:function(){return{startTime:h-o,endTime:i-o}},getByteRange:function(){return{startByte:k,endByte:l}},getSequenceNumber:function(){return null},getOptions:function(){return s}});m+=f;n+=a};for(var r=0;r<l;r++)i();return q}g.parse=a}),98);
__d("oz-player/parsers/OzSidxSegmentsContainer",["oz-player/utils/OzErrorUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b){this.$1=a,this.$2=b}var b=a.prototype;b.getSegmentByTime=function(a){var b=this.$1();for(var c=0;c<b.length;c++){var d=b[c],e=d.getTimeRange();if(e.startTime<=a&&e.endTime>a)return d}return null};b.getSegmentAfter=function(a){var b=this.$1(),c=b.findIndex(function(b){return b.getTimeRange().startTime===a.getTimeRange().startTime&&b.getTimeRange().endTime===a.getTimeRange().endTime});return c>=0&&c+1<b.length?b[c+1]:null};b.getPredictedSegmentAfter=function(a){return null};b.canPredict=function(){return!1};b.canApproximateId=function(){return!1};b.isEndingSegment=function(a){var b=this.$1();if(!b||!b.length)return!1;b=b[b.length-1].getTimeRange();a=a.getTimeRange();return b.startTime===a.startTime&&b.endTime===a.endTime};b.getSegment=function(a){return this.$1()[a]||null};b.updateWith=function(a){throw d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_NOT_IMPLEMENTED_ERROR",description:"Not implemented: updatedWith"})};b.addUpdateListener=function(a){return this.$2.addListener("segment_updated",a)};b.getTimeRanges=function(){var a=this.$1();if(a.length===0)return[];else{var b=a[0];a=a[a.length-1];return[{startTime:b.getTimeRange().startTime,endTime:a.getTimeRange().endTime}]}};b.blockTimeRange=function(){};b.getEndingSegment=function(){var a=this.$1();return a.length>0?a[a.length-1]:null};b.getMaxGopSec=function(){return null};return a}();g["default"]=a}),98);
/**
 * License: https://www.facebook.com/legal/license/k5cmJzUOK4Y/
 */
__d("oz-player/parsers/OzWebmSidxParser",["oz-player/manifests/OzDataSegment","oz-player/shims/OzDataViewReader","oz-player/shims/ozvariant"],(function(a,b,c,d,e,f,g){"use strict";var h=440786851,i=408125543,j=357149030,k=2807729,l=17545,m=475249515,n=187,o=179,p=183,q=241,r=[new Uint8Array([255]),new Uint8Array([127,255]),new Uint8Array([63,255,255]),new Uint8Array([31,255,255,255]),new Uint8Array([15,255,255,255,255]),new Uint8Array([7,255,255,255,255,255]),new Uint8Array([3,255,255,255,255,255,255]),new Uint8Array([1,255,255,255,255,255,255,255])];function s(a,b){if(!a&&!b)return!0;if(!a||!b)return!1;if(a.length!=b.length)return!1;for(var c=0;c<a.length;++c)if(a[c]!=b[c])return!1;return!0}var t=function(){function a(a,b){this.id=a,this.$1=b}var b=a.prototype;b.getOffset=function(){return this.$1.byteOffset};b.createParser=function(){return new u(this.$1)};b.getUint=function(){if(this.$1.byteLength>8)throw new RangeError("EbmlElement: Unsigned integer has too many bytes.");if(this.$1.byteLength==8&&this.$1.getUint8(0)&224)throw new RangeError("EbmlParser: Unsigned integer must be at most 53 bits.");var a=0;for(var b=0;b<this.$1.byteLength;b++){var c=this.$1.getUint8(b);a=256*a+c}return a};b.getFloat=function(){if(this.$1.byteLength==4)return this.$1.getFloat32(0);else if(this.$1.byteLength==8)return this.$1.getFloat64(0);else throw new RangeError("EbmlElement: floating point numbers must be 4 or 8 bytes.")};return a}(),u=function(){function a(a){this.$1=a,this.$2=new(c("oz-player/shims/OzDataViewReader"))(this.$1)}var b=a.prototype;b.hasMoreData=function(){return this.$2.hasMoreData()};b.parseElement=function(){var b=this.$3(),c=this.$4(),d;a.$5(c)?d=this.$1.byteLength-this.$2.getCursor():d=a.$6(c);c=this.$2.getCursor()+d<=this.$1.byteLength?d:this.$1.byteLength-this.$2.getCursor();d=new DataView(this.$1.buffer,this.$1.byteOffset+this.$2.getCursor(),c);this.$2.skip(c);return new t(b,d)};b.$3=function(){var a=this.$4();if(a.length>7)throw new RangeError("EbmlParser: EBML ID must be at most 7 bytes.");var b=0;for(var c=0;c<a.length;c++)b=256*b+a[c];return b};b.$4=function(){var a=this.$2.readUint8(),b;for(b=1;b<=8;b++){var c=1<<8-b;if(a&c)break}if(b>8)throw new RangeError("EbmlParser: Variable sized integer must fit within 8 bytes.");c=new Uint8Array(b);c[0]=a;for(a=1;a<b;a++)c[a]=this.$2.readUint8();return c};a.$6=function(a){if(a.length==8&&a[1]&224)throw new RangeError("EbmlParser: Variable sized integer value must be at most 53 bits.");var b=1<<8-a.length;b=a[0]&b-1;for(var c=1;c<a.length;c++)b=256*b+a[c];return b};a.$5=function(a){for(var b=0;b<r.length;b++)if(s(a,r[b]))return!0;return!1};return a}();function v(a){a=a.createParser();var b=1e6,c=null;while(a.hasMoreData()){var d=a.parseElement();d.id==k?b=d.getUint():d.id==l&&(c=d.getFloat())}if(c==null)return null;d=b/1e9;a=c*d;return{timecodeScale:d,duration:a}}function w(a,b,d,e,f,g){a=[];b=b.createParser();var h=-1,i=-1;while(b.hasMoreData()){var j=b.parseElement();if(j.id!=n)continue;j=x(j);if(!j)continue;var k=e*j.unscaledTime;j=d+j.relativeOffset;h>=0&&(i>=0||c("oz-player/shims/ozvariant")(0,4010),a.push(new(c("oz-player/manifests/OzDataSegment"))(g,h,k,i,j-1)));h=k;i=j}if(h>=0){i>=0||c("oz-player/shims/ozvariant")(0,4010);k=f;a.push(new(c("oz-player/manifests/OzDataSegment"))(g,h,k,i,null))}return a}function x(a){a=a.createParser();var b=a.parseElement();if(b.id!=o)return null;b=b.getUint();a=a.parseElement();if(a.id!=p)return null;a=a.createParser();var c=0;while(a.hasMoreData()){var d=a.parseElement();if(d.id!=q)continue;c=d.getUint();break}return{unscaledTime:b,relativeOffset:c}}function y(a){a=a.createParser();var b=null;while(a.hasMoreData()){var c=a.parseElement();if(c.id!=j)continue;b=c;break}return!b?null:v(b)}function z(a){a=new u(a);var b=a.parseElement();if(b.id!=h)return null;b=a.parseElement();if(b.id!=i)return null;a=b.getOffset();b=y(b);return!b?null:{segmentOffset:a,timecodeScale:b.timecodeScale,duration:b.duration}}function a(a,b,c,d){d=new DataView(d.buffer);c=new DataView(c.buffer);d=z(d);if(!d)return[];c=new u(c);c=c.parseElement();return c.id!=m?[]:w(a,c,d.segmentOffset,d.timecodeScale,d.duration,b)}g.parse=a}),98);
__d("oz-player/parsers/OzSidxSegmentsParser",["oz-player/loggings/OzLoggingUtils","oz-player/manifests/OzSegmentOptions","oz-player/manifests/OzZeroTimeRangeSegment","oz-player/networks/getOzBandwidthEstimatorPipeThroughReporter","oz-player/parsers/OzMp4SidxParser","oz-player/parsers/OzSidxSegmentsContainer","oz-player/parsers/OzWebmSidxParser","oz-player/shims/OzEventEmitter","oz-player/shims/OzMaybeNativePromise","oz-player/shims/OzURI","oz-player/utils/OzErrorEmitter","oz-player/utils/OzReadableStreamUtils"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a=a.split("-");return{startByte:Number.parseInt(a[0],10),endByte:Number.parseInt(a[1],10)}}a=function(){function a(a,b,d,e,f,g,h){this.$6=new(c("oz-player/utils/OzErrorEmitter"))(),this.$7=[],this.$9=new(c("oz-player/shims/OzEventEmitter"))(),this.$1=b,this.$2=new(c("oz-player/shims/OzURI"))(d),this.$3=e,this.$5=f,this.$4=g,this.$8=h.cloneContext().setType(f==="video"||f==="audio"?f+";sidx":"sidx"),this.$10=a}var b=a.prototype;b.onError=function(a){return this.$6.onError(a)};b.parseInitializationSegment=function(){var a=this,b=this.$1.Initialization[0].$.range,d=h(b),e=new(c("oz-player/manifests/OzSegmentOptions"))();return this.$10.getBool("sidx_parser_memory_optimization")?new(c("oz-player/manifests/OzZeroTimeRangeSegment"))(this.$2,d.startByte,d.endByte):{getData:function(){return null},getURI:function(){return a.$2},getTimeRange:function(){return{startTime:0,endTime:0}},getByteRange:function(){return d},getSequenceNumber:function(){return null},getOptions:function(){return e}}};b.parseSegmentsContainer=function(){var a=this,b=this.$11();d("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation(b,this.$8,"process_sidx");b["catch"](function(b){a.$6.emitError(b)});return new(c("oz-player/parsers/OzSidxSegmentsContainer"))(function(){return a.$7},this.$9)};b.$12=function(a,b,e){a=new(c("oz-player/manifests/OzZeroTimeRangeSegment"))(a,b.startByte,b.endByte);b=this.$5+";sidx";a=this.$4.request({debugName:"OzSidxSegmentsParser/sidx/"+this.$5,segments:[a],pipeThroughRangeStreamProviders:[c("oz-player/networks/getOzBandwidthEstimatorPipeThroughReporter")(b,this.$4.getBandwidthEstimator())],loggerProvider:this.$8,requestOptions:{networkTimeoutMs:null,retryAttempts_SIDX_USE_ONLY:this.$10.getNumber("sidx_segment_retry_attempts"),retryTimeoutMs_SIDX_USE_ONLY:this.$10.getNumber("sidx_segment_retry_interval_ms")},mediaStreamType:e});b=a.getStream().getReader();return d("oz-player/utils/OzReadableStreamUtils").pumpAllData(b)};b.$11=function(){var a=this,b=this.$1.$.indexRange,e=h(b);b=[this.$12(this.$2,e,null)];if(this.$3==="webm"){var f=h(this.$1.Initialization[0].$.range);b.push(this.$12(this.$2,f,null));f=c("oz-player/shims/OzMaybeNativePromise").all(b).then(function(b){var c=b[0];b=b[1];a.$7=d("oz-player/parsers/OzWebmSidxParser").parse(a.$10,a.$2,c,b)})}else f=b[0].then(function(b){a.$7=d("oz-player/parsers/OzMp4SidxParser").parse(a.$10,a.$2,e.startByte,b)});return f.then(function(){a.$9.emit("segment_updated")})};return a}();g["default"]=a}),98);
__d("oz-player/parsers/OzVideoContainerType",[],(function(a,b,c,d,e,f){"use strict";function a(a){return(a.split("/")[1]||"").trim()}f.parse=a}),66);
__d("oz-player/parsers/OzRepresentationParserBase",["oz-player/manifests/OzRepresentationBase","oz-player/parsers/OzSegmentTemplateParser","oz-player/parsers/OzSidxSegmentsParser","oz-player/parsers/OzVideoContainerType","oz-player/utils/OzErrorEmitter","oz-player/utils/OzErrorUtils","oz-player/utils/OzMimeUtil"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,d,e,f,g,h,i,j,k,l,m,n,o,p){this.$9=new(c("oz-player/utils/OzErrorEmitter"))();this.$1=b;this.$2=d;this.$10=f;this.$11=g;this.$13=e;this.$14=a;this.$15=h;this.$3=i;this.$4=j;this.$5=k;this.$6=l!=null?l:null;this.$7=m!=null?m:null;this.$8=n!=null?n:null;this.$16=o;this.$17=p;try{this.$11=this.$11.cloneContext().setRepresentationID(this.parseID())}catch(a){}}var b=a.prototype;b.$18=function(){var a=this,b=this.$12;if(b)return b;if(this.$1.SegmentBase){var e=this.$1.SegmentBase[0],f=this.$1.BaseURL[0]._;if(typeof f!=="string")throw d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_REPRESENTATION_PARSER",description:"Missing representation BaseURL",extra:{code:"OZ_RP-9"}});b=new(c("oz-player/parsers/OzSidxSegmentsParser"))(this.$14,e,f,d("oz-player/parsers/OzVideoContainerType").parse(this.$1.$.mimeType),d("oz-player/utils/OzMimeUtil").getMimeType(this.$1.$.mimeType),this.$10,this.$11);b.onError(function(b){var c;if((c=a.$17)!=null&&c.handleError(a.parseID(),b))return;return a.$9.emitError(b)})}else if(this.$1.SegmentTemplate)b=this.$19(this.$1.SegmentTemplate[0],{isShared:!1});else if(this.$3)b=this.$19(this.$3[0],{isShared:!0});else throw d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_REPRESENTATION_PARSER",description:"Unrecognized representation type",extra:{code:"OZ_RP-7"}});this.$12=b;return b};b.$19=function(a,b){var e;a=a;b.isShared&&(a=babelHelpers["extends"]({},a,{$:babelHelpers["extends"]({},a.$,{initialization:a.$.initialization.replace("$RepresentationID$",this.$1.$.id),media:a.$.media.replace("$RepresentationID$",this.$1.$.id)})}));b=this.$13.mpdUrl;var f=this.$1.BaseURL&&this.$1.BaseURL[0]?this.$1.BaseURL[0]._:null;f=f!=null?f:b;if(f==null)throw d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_REPRESENTATION_PARSER",description:"Missing mpd url for template manifest",extra:{code:"OZ_RP-6"}});var g=this.$13.customSegmentTimelineParser;e=(e=this.$13.customRepresentationParsers)==null?void 0:e.initializationBinary;e=e?e(this.$1):null;return new(c("oz-player/parsers/OzSegmentTemplateParser"))(this.$14,a,{baseUrl:f,mpdUrl:b,isStaticMpd:this.$15.manifestType==="static",isTemplatedMpd:this.$15.manifestIsTemplated},g,e)};b.onError=function(a){return this.$9.onError(a)};b.parseInitSegment=function(){return this.$18().parseInitializationSegment()};b.parseBandwidth=function(){return Number(this.$1.$.bandwidth)};b.parseMimeType=function(){var a;return(a=(a=this.$1.$.mimeType)!=null?a:this.$4)!=null?a:""};b.parseCodecs=function(){var a;return(a=(a=this.$1.$.codecs)!=null?a:this.$5)!=null?a:""};b.parseVariantKey=function(){return this.$6};b.parseLang=function(){return this.$7};b.parseRole=function(){return this.$8};b.parseSegmentsContainer=function(){return this.$18().parseSegmentsContainer()};b.parseID=function(){return""+this.$1.$.id};b.parseCustomFieldFirstSegment=function(){var a=this.$13.customRepresentationParsers?this.$13.customRepresentationParsers.firstSegmentParser:null;return a?a(this.$1):null};b.parse=function(){return new(c("oz-player/manifests/OzRepresentationBase"))(this.$1,this.$2,this.parseID(),this.parseMimeType(),this.parseCodecs(),this.parseVariantKey(),this.parseLang(),this.parseRole(),this.parseInitSegment(),this.parseSegmentsContainer(),this.parseBandwidth(),this.parseCustomFieldFirstSegment(),this.$13.customRepresentationParsers)};return a}();g["default"]=a}),98);
__d("oz-player/parsers/OzApplicationRepresentationParser",["oz-player/manifests/OzApplicationRepresentation","oz-player/parsers/OzRepresentationParserBase"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){function b(b,c,d,e,f,g,h,i,j,k,l,m,n,o){b=a.call(this,b,c,d,e,f,g,h,i,j,k,l,m,n,o)||this;b.$OzApplicationRepresentationParser$p_1=c;b.$OzApplicationRepresentationParser$p_3=e;return b}babelHelpers.inheritsLoose(b,a);var d=b.prototype;d.parse=function(){var a=this.$OzApplicationRepresentationParser$p_3.customRepresentationParsers;return new(c("oz-player/manifests/OzApplicationRepresentation"))(this.$OzApplicationRepresentationParser$p_1,this.$OzApplicationRepresentationParser$p_2,this.parseID(),this.parseMimeType(),this.parseCodecs(),this.parseVariantKey(),this.parseLang(),this.parseRole(),this.parseInitSegment(),this.parseSegmentsContainer(),this.parseBandwidth(),this.parseCustomFieldFirstSegment(),a)};return b}(c("oz-player/parsers/OzRepresentationParserBase"));g["default"]=a}),98);
__d("oz-player/manifests/OzAudioRepresentation",["oz-player/manifests/OzRepresentationBase"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){function b(b,c,d,e,f,g,h,i,j,k,l,m,n){b=a.call(this,b,c,d,e,f,g,h,i,j,k,l,m,n)||this;b.$OzAudioRepresentation$p_1=d;b.$OzAudioRepresentation$p_2=l;b.$OzAudioRepresentation$p_3={id:d,displayLabel:b.getDisplayLabel(),mimeCodecs:b.getMimeCodecs(),variantKey:g,lang:h,role:i};return b}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.getBitrateKbps=function(){var a=1024;return(this.$OzAudioRepresentation$p_2/a).toFixed(1)+"Kbps"};c.getDisplayLabel=function(){var b=a.prototype.getLang.call(this),c=a.prototype.getRole.call(this);b=b==null?"Default":b;return c==null?b:b+" - "+c};c.getAudioTrack=function(){return this.$OzAudioRepresentation$p_3};return b}(c("oz-player/manifests/OzRepresentationBase"));g["default"]=a}),98);
__d("oz-player/parsers/OzAudioRepresentationParser",["oz-player/manifests/OzAudioRepresentation","oz-player/parsers/OzRepresentationParserBase"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){function b(b,c,d,e,f,g,h,i,j,k,l,m,n,o){b=a.call(this,b,c,d,e,f,g,h,i,j,k,l,m,n,o)||this;b.$OzAudioRepresentationParser$p_1=c;b.$OzAudioRepresentationParser$p_3=e;return b}babelHelpers.inheritsLoose(b,a);var d=b.prototype;d.parse=function(){var a=this.$OzAudioRepresentationParser$p_3.customRepresentationParsers;return new(c("oz-player/manifests/OzAudioRepresentation"))(this.$OzAudioRepresentationParser$p_1,this.$OzAudioRepresentationParser$p_2,this.parseID(),this.parseMimeType(),this.parseCodecs(),this.parseVariantKey(),this.parseLang(),this.parseRole(),this.parseInitSegment(),this.parseSegmentsContainer(),this.parseBandwidth(),this.parseCustomFieldFirstSegment(),a)};return b}(c("oz-player/parsers/OzRepresentationParserBase"));g["default"]=a}),98);
__d("oz-player/parsers/OzVideoRepresentationParser",["oz-player/manifests/OzVideoRepresentation","oz-player/parsers/OzRepresentationParserBase"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){function b(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){b=a.call(this,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p)||this;b.$OzVideoRepresentationParser$p_1=c;b.$OzVideoRepresentationParser$p_2=d;b.$OzVideoRepresentationParser$p_3=e;return b}babelHelpers.inheritsLoose(b,a);var d=b.prototype;d.parse=function(){var a=Number.parseInt(this.$OzVideoRepresentationParser$p_1.$.height,10),b=Number.parseInt(this.$OzVideoRepresentationParser$p_1.$.width,10),d=this.$OzVideoRepresentationParser$p_3.customRepresentationParsers;return new(c("oz-player/manifests/OzVideoRepresentation"))(this.$OzVideoRepresentationParser$p_1,this.$OzVideoRepresentationParser$p_2,this.parseID(),this.parseMimeType(),this.parseCodecs(),this.parseVariantKey(),this.parseLang(),this.parseRole(),this.parseInitSegment(),this.parseSegmentsContainer(),this.parseBandwidth(),this.parseCustomFieldFirstSegment(),d,b,a)};return b}(c("oz-player/parsers/OzRepresentationParserBase"));g["default"]=a}),98);
__d("oz-player/utils/OzIbrUtils",["oz-player/networks/OzBandwidthEstimator"],(function(a,b,c,d,e,f,g){"use strict";a=function(a,b,d){var e=c("oz-player/networks/OzBandwidthEstimator").getAdjustedBandwidth(b.getLegacyConfig());a=a.slice(0);a.sort(function(a,b){return a.getBandwidth()-b.getBandwidth()});b=b.getNumber("live_audio_ibr_bandwidth_percentage");b=e*b;for(var f=a.length-1;f>=0;f--)if(a[f].getBandwidth()<=b){d.getOperationLogger("audio_ibr_success").setRepresentationID(a[f].getID()).setReason(e.toString()).log();return a[f]}d.getOperationLogger("audio_ibr_no_op").setReason(e.toString()).log();return null};g.getInitialAudioRepresentation=a}),98);
__d("oz-player/parsers/OzMpdParser",["oz-player/manifests/Mpd","oz-player/parsers/OzApplicationRepresentationParser","oz-player/parsers/OzAudioRepresentationParser","oz-player/parsers/OzVideoRepresentationParser","oz-player/utils/OzErrorEmitter","oz-player/utils/OzErrorUtils","oz-player/utils/OzIbrUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=a.blockedRepresentationsManager,d=a.config,e=a.drmManager,f=a.enableAlternativeAudioTracks,g=a.initialRepresentationIDs,h=a.networkManager,i=a.ozParserContext,j=a.perfLoggerProvider;a=a.useManagedMediaSource;this.$2=new(c("oz-player/utils/OzErrorEmitter"))();this.$5=d;this.$1=h;this.$3=j;this.$4=i;this.$6=e;this.$7=g!=null?g:[];this.$8=b!=null?b:null;this.$9=f;this.$10=a!=null?a:!1;this.$11=!0}var b=a.prototype;b.onError=function(a){return this.$2.onError(a)};b.parse=function(a){var b=this,e=[];a=a;var f=this.$4.createXmlParser().parse(a);f=f.MPD&&f.MPD.length>0?f.MPD[0]:null;if(!f){var g=2e3;throw d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_MPD_PARSER",description:"parsed manifest XML missing MPD node; truncated xml ("+Math.min(g,a.length)+"/"+a.length+"): "+a.substring(0,g)})}g=f.Period&&f.Period.length>0?f.Period[0]:null;if(!g){var h=2e3;throw d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_MPD_PARSER",description:"parsed manifest XML missing Period node; truncated xml ("+Math.min(h,a.length)+"/"+a.length+"): "+a.substring(0,h)})}a=g.AdaptationSet||[];h=this.$12(f);this.$11=h==="static";g=this.$13(f);var i=this.$14(this.$15(a,"video"),{manifestType:h,manifestIsTemplated:g},e),j;this.$9?j=this.$16(this.$15(a,"audio"),{manifestType:h,manifestIsTemplated:g},e).sort(function(a,b){return a.getBandwidth()-b.getBandwidth()}):j=this.$17(this.$18(a,"audio"),c("oz-player/parsers/OzAudioRepresentationParser"),{manifestType:h,manifestIsTemplated:g},e).sort(function(a,b){return a.getBandwidth()-b.getBandwidth()});var k=[];if(this.$5.getBool("vtt_caption_representation")){a=this.$15(a,"application");k=this.$17(a[0],c("oz-player/parsers/OzApplicationRepresentationParser"),{manifestType:h,manifestIsTemplated:g},e)}a=this.$4.mpdUrl;h=new(c("oz-player/manifests/Mpd"))(f,i,j,k,a,this.$19(f),this.$4.customParsers||new Map(),this.$11);if(this.$6){g=this.$6;g.startEME(i,j)}e.forEach(function(a){a.onError(b.$2.emitError)});return h};b.$19=function(a){a=a.$.minimumUpdatePeriod||"";a=/\d+/g.exec(a);if(a&&a.length){a=a[0];return a?Number.parseInt(a,10):null}return null};b.$12=function(a){return a.$.type||"static"};b.$13=function(a){var b;b=(b=this.$4.customParsers)==null?void 0:b.get("isLiveTemplated");if(!b)return!1;b=b(a);return typeof b==="boolean"&&b};b.$18=function(a,b){return a.find(this.$20(b))};b.$15=function(a,b){return a.filter(this.$20(b))};b.$20=function(a){return function(b){if(b.$.mimeType!=null)return b.$.mimeType.indexOf(a)!==-1;b=b.Representation;return b&&b.length>0&&b[0].$.mimeType.indexOf(a)!==-1}};b.$17=function(a,b,c,d){var e=this;if(!a)return[];var f=a.Role;f=f!=null?f:[];f=f[0];var g=f?f.$.value:null;f=a.$.lang;var h=f==="und"?null:f;f=a.$.FBVariantKey;var i=f==="und"?null:f!=null?f:null;return a.Representation.map(function(f){f=new b(e.$5,f,(f=f.ContentProtection)!=null?f:a.ContentProtection,e.$4,e.$1,e.$3,c,a.SegmentTemplate,a.$.mimeType,a.$.codecs,i,h,g,e.$7,e.$8);var j=f.parse();d.push(f);return j})};b.$21=function(a){return this.$10?ManagedMediaSource.isTypeSupported(a):MediaSource.isTypeSupported(a)};b.$14=function(a,b,d){var e=this,f=[],g=new Set();a.filter(Boolean).forEach(function(a,h,i){h=h===i.length-1;for(i of a.Representation){var j,k;if((j=i.$.FBAbrPolicyTags)!=null&&j.includes("avoid_on_abr")&&!h)continue;j=a.Role;j=j!=null?j:[];j=j[0];j=j?j.$.value:null;var l=a.$.lang;l=l==="und"?null:l;var m=a.$.FBVariantKey;m=m==="und"?null:m!=null?m:null;k=new(c("oz-player/parsers/OzVideoRepresentationParser"))(e.$5,i,(k=i.ContentProtection)!=null?k:a.ContentProtection,e.$4,e.$1,e.$3,b,a.SegmentTemplate,a.$.mimeType,a.$.codecs,m,l,j,e.$7,e.$8);m=k.parse();d.push(k);if(!e.$21(m.getMimeCodecs())){g.add(m.getMimeCodecs());continue}f.push(m)}});return f.filter(Boolean)};b.$16=function(a,b,e){var f=this,g=[],h=new Set();a=a.filter(Boolean).map(function(a){var d=a.Role;d=d!=null?d:[];d=d[0];d=d?d.$.value:null;var g=a.$.lang;g=g==="und"?null:g;var i=a.$.FBVariantKey;i=i==="und"?null:i!=null?i:null;var j=[];for(var k of a.Representation){var l;l=new(c("oz-player/parsers/OzAudioRepresentationParser"))(f.$5,k,(l=k.ContentProtection)!=null?l:a.ContentProtection,f.$4,f.$1,f.$3,b,a.SegmentTemplate,a.$.mimeType,a.$.codecs,i,g,d,f.$7);var m=l.parse();e.push(l);if(!f.$21(m.getMimeCodecs())){h.add(m.getMimeCodecs());continue}j.push(m)}return j});a.forEach(function(a){if(a.length>1){var b=d("oz-player/utils/OzIbrUtils").getInitialAudioRepresentation(a,f.$5,f.$3);g.push(b!=null?b:a[0])}else g.push.apply(g,a)});return g.filter(Boolean)};return a}();g["default"]=a}),98);
__d("oz-player/utils/OzMpdUtils",[],(function(a,b,c,d,e,f){"use strict";function g(a){var b=null;a.forEach(function(a){if(a){var c=a.endTime;c<((c=(c=b)==null?void 0:c.endTime)!=null?c:Infinity)&&(b=a)}});return b}function a(a,b){b=[];b.push.apply(b,a.getVideoRepresentations().concat(a.getAudioRepresentations()));if(b.length){a=b.map(function(a){a=a.getEndingSegment();return a?a.getTimeRange():null});return g(a)}return null}function b(a){var b=[];b.push.apply(b,a.getVideoRepresentations().concat(a.getAudioRepresentations()));if(b.length){a=b[0].getEndingSegment();if(a)return a.getSequenceNumber()}return null}f.getLeastEndTimeTimeRange=g;f.getMpdLastTimeRange=a;f.getMpdLastSequenceNumber=b}),66);
__d("oz-player/utils/OzStreamInterruptChecker",["oz-player/shims/OzEventEmitter","oz-player/utils/OzMpdUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){function b(b,c){var d;d=a.call(this)||this;d.$OzStreamInterruptChecker$p_4=0;d.$OzStreamInterruptChecker$p_5=null;d.$OzStreamInterruptChecker$p_6=!1;d.$OzStreamInterruptChecker$p_2=b;d.$OzStreamInterruptChecker$p_3=c;d.$OzStreamInterruptChecker$p_1=d.$OzStreamInterruptChecker$p_3.getNumber("live_numerical_error_epsilon");return d}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.notifyMpdUpdated=function(){var a=d("oz-player/utils/OzMpdUtils").getMpdLastTimeRange(this.$OzStreamInterruptChecker$p_2,this.$OzStreamInterruptChecker$p_3),b=a?a.endTime:null,c=!1;b!==null&&(c=b===this.$OzStreamInterruptChecker$p_5);c?this.$OzStreamInterruptChecker$p_4++:(this.$OzStreamInterruptChecker$p_4=0,this.$OzStreamInterruptChecker$p_6&&this.$OzStreamInterruptChecker$p_5!==null&&this.$OzStreamInterruptChecker$p_5!==void 0&&a!==null&&a!==void 0&&this.emit("streamResumedAt",a.startTime),this.$OzStreamInterruptChecker$p_6=!1);c=this.$OzStreamInterruptChecker$p_3.getNumber("stream_interrupt_check_mpd_stale_count_threshold");!this.$OzStreamInterruptChecker$p_6&&c>0&&this.$OzStreamInterruptChecker$p_4>=c&&b!==null&&b!==void 0&&(this.emit("streamInterruptAt",b),this.$OzStreamInterruptChecker$p_6=!0);this.$OzStreamInterruptChecker$p_5=b};return b}(c("oz-player/shims/OzEventEmitter"));g["default"]=a}),98);
__d("oz-player/parsers/OzMpdUpdater",["oz-player/parsers/OzMpdParser","oz-player/shims/OzEventEmitter","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/OzURI","oz-player/shims/ozClearTimeout","oz-player/shims/ozSetTimeoutAcrossTransitions","oz-player/utils/OzErrorEmitter","oz-player/utils/OzErrorUtils","oz-player/utils/OzMpdUtils","oz-player/utils/OzReadableStreamUtils","oz-player/utils/OzStreamInterruptChecker"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){function b(b,e,f,g,h,i,j,k,l){var m;m=a.call(this)||this;m.$OzMpdUpdater$p_8=new(c("oz-player/utils/OzErrorEmitter"))();m.$OzMpdUpdater$p_10=new(c("oz-player/shims/OzSubscriptionsHandler"))();m.$OzMpdUpdater$p_11=!1;m.$OzMpdUpdater$p_16=0;m.$OzMpdUpdater$p_18=0;m.$OzMpdUpdater$p_19=null;m.$OzMpdUpdater$p_21=!0;m.$OzMpdUpdater$p_22=0;m.$OzMpdUpdater$p_26=function(){var a,b=m.$OzMpdUpdater$p_2.getLocation();m.$OzMpdUpdater$p_21=!1;if(b==null||b==="")return;var e=new(c("oz-player/shims/OzURI"))(b),f=String((a=(a=e.getQueryData().ms)!=null?a:e.getQueryData().msdev)!=null?a:e.getQueryData().mstest);if(!m.$OzMpdUpdater$p_12.isPlaying()){m.setupUpdateLoop();return}var g=m.$OzMpdUpdater$p_5.getOperationLogger("update_manifest").start();m.$OzMpdUpdater$p_28(b).then(function(a){var e,h;m.$OzMpdUpdater$p_18=0;m.$OzMpdUpdater$p_29();m.$OzMpdUpdater$p_7=0;if(m.$OzMpdUpdater$p_21)return;var i=babelHelpers["extends"]({},m.$OzMpdUpdater$p_13,{mpdUrl:b});i=new(c("oz-player/parsers/OzMpdParser"))({config:m.$OzMpdUpdater$p_6,ozParserContext:i,networkManager:m.$OzMpdUpdater$p_1,perfLoggerProvider:m.$OzMpdUpdater$p_5,drmManager:m.$OzMpdUpdater$p_14,initialRepresentationIDs:[],blockedRepresentationsManager:null,enableAlternativeAudioTracks:!1,useManagedMediaSource:m.$OzMpdUpdater$p_23});i.onError(function(a){m.$OzMpdUpdater$p_8.emitError(a),g.setError(a).log()});i=i.parse(a);a=m.$OzMpdUpdater$p_2.isStaticMpd();m.$OzMpdUpdater$p_2.updateWith(i);m.$OzMpdUpdater$p_2.markRefreshed();i.isStaticMpd()&&!a&&m.emit("streamTransitionToStatic");i=d("oz-player/utils/OzMpdUtils").getMpdLastTimeRange(m.$OzMpdUpdater$p_2,m.$OzMpdUpdater$p_6);a=i&&i.endTime!=0?i.endTime:null;i=String((i=(i=m.$OzMpdUpdater$p_2)==null?void 0:i.getCustomField("currentServerTimeMs"))!=null?i:"");e=String((e=(e=m.$OzMpdUpdater$p_2)==null?void 0:e.getCustomField("lastVideoFrameTs"))!=null?e:"");i={currentServerTimeMs:i,ingestLastVideoFrameTs:e,nowMs:String(Date.now())};e=new Set(((e=(e=m.$OzMpdUpdater$p_2)==null?void 0:e.getVideoRepresentations())!=null?e:[]).map(function(a){return a.getCodecs()})).size>1;h=new Set(((h=(h=m.$OzMpdUpdater$p_2)==null?void 0:h.getAudioRepresentations())!=null?h:[]).map(function(a){return a.getCodecs()})).size>1;g.setLiveheadPosition(a).setLiveheadSeqNumMpd(d("oz-player/utils/OzMpdUtils").getMpdLastSequenceNumber(m.$OzMpdUpdater$p_2)).setManifestType(m.$OzMpdUpdater$p_2.isStaticMpd()?"static":"dynamic").setIsMixedCodecManifest(e||h).setIsTemplatedManifest(Boolean(m.$OzMpdUpdater$p_2.getCustomField("isLiveTemplated"))).setPlaybackFbmsParam(f).setUserInfo(i).log();m.$OzMpdUpdater$p_9.notifyMpdUpdated();m.setupUpdateLoop()})["catch"](function(a){m.$OzMpdUpdater$p_29();g.setError(a).log();var c=null;if(d("oz-player/utils/OzErrorUtils").isOzError(a))c=a;else{var e,f=null,h="Caught an unknown error when fetching the manifest.";if(a!=null)if(m.$OzMpdUpdater$p_6.getBool("normalize_mpd_fetch_errors")){var i=d("oz-player/utils/OzErrorUtils").getNormalizedErrorAndCode(a),j=i[0];i[1];c=j}else e=a,f=e.code!=null?String(e.code):null,h=e.name+"; "+e.message+"; "+e.description+";";if(c==null){i={originalError:e,url:b};f!==null&&(i.code=f);c=d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_NETWORK",description:h,extra:i})}}m.$OzMpdUpdater$p_27(c,b)})};var n=e.getMinimumUpdatePeriod();m.$OzMpdUpdater$p_7=0;m.$OzMpdUpdater$p_1=f;m.$OzMpdUpdater$p_2=e;m.$OzMpdUpdater$p_12=g;m.$OzMpdUpdater$p_3=n;m.$OzMpdUpdater$p_5=h.cloneContext().setType("manifest");m.$OzMpdUpdater$p_6=b;m.$OzMpdUpdater$p_13=i;m.$OzMpdUpdater$p_14=j;m.$OzMpdUpdater$p_15=k;m.$OzMpdUpdater$p_23=l;m.$OzMpdUpdater$p_2.addListener("locationUpdated",function(){m.$OzMpdUpdater$p_24(),m.setupUpdateLoop()});m.$OzMpdUpdater$p_9=new(c("oz-player/utils/OzStreamInterruptChecker"))(m.$OzMpdUpdater$p_2,m.$OzMpdUpdater$p_6);m.$OzMpdUpdater$p_10.addSubscriptions(m.$OzMpdUpdater$p_9.addListener("streamResumedAt",function(a){m.emit("streamResumedAt",a)}),m.$OzMpdUpdater$p_9.addListener("streamInterruptAt",function(a){m.emit("streamInterruptAt",a)}));return m}babelHelpers.inheritsLoose(b,a);var e=b.prototype;e.$OzMpdUpdater$p_24=function(){c("oz-player/shims/ozClearTimeout")(this.$OzMpdUpdater$p_4),this.$OzMpdUpdater$p_4=null,this.$OzMpdUpdater$p_25(),this.$OzMpdUpdater$p_21=!0};e.setupUpdateLoop=function(){var a,b=!this.$OzMpdUpdater$p_11;b&&(b=!this.$OzMpdUpdater$p_2.isStaticMpd(),this.$OzMpdUpdater$p_3=this.$OzMpdUpdater$p_2.getMinimumUpdatePeriod());a=this.$OzMpdUpdater$p_17==null&&this.$OzMpdUpdater$p_6.getNumber("manifest_initial_update_delay_ms")>0?this.$OzMpdUpdater$p_6.getNumber("manifest_initial_update_delay_ms"):this.$OzMpdUpdater$p_6.getNumber("manifest_update_frequency_ms")||((a=this.$OzMpdUpdater$p_3)!=null?a:0)*1e3;b&&a&&this.$OzMpdUpdater$p_2.getLocation()&&(this.$OzMpdUpdater$p_4=c("oz-player/shims/ozSetTimeoutAcrossTransitions")(this.$OzMpdUpdater$p_26,a))};e.onError=function(a){return this.$OzMpdUpdater$p_8.onError(a)};e.$OzMpdUpdater$p_27=function(a,b){var c=this;b=!0;var d=this.$OzMpdUpdater$p_18-1,e=a.getExtra().code;this.$OzMpdUpdater$p_19!==e?(this.$OzMpdUpdater$p_19=e,this.$OzMpdUpdater$p_16=1):this.$OzMpdUpdater$p_16++;var f=function(){b=!1};e={endStream:function(){f(),c.$OzMpdUpdater$p_11=!0,c.emit("streamGone")},consecutiveFailuresForErrorCode:this.$OzMpdUpdater$p_16,error:a,isInitialRequest:!1,retry:function(b){c.emit("manifestFetchErrorRetry",a),f(),c.setupUpdateLoop()},retryAttemptCount:d};this.emit("manifestFetchError",e);b&&this.$OzMpdUpdater$p_8.emitError(a)};e.$OzMpdUpdater$p_30=function(a,b){a=new(c("oz-player/shims/OzURI"))(a);a.addQueryData("_nc_expid",b);return a.toString()};e.$OzMpdUpdater$p_31=function(a){if(!this.$OzMpdUpdater$p_15)return a;a=new(c("oz-player/shims/OzURI"))(a);a.addQueryData("_nc_tsid","mpd-"+this.$OzMpdUpdater$p_22++);return a.toString()};e.$OzMpdUpdater$p_28=function(a){this.$OzMpdUpdater$p_25();this.$OzMpdUpdater$p_18++;var b=this.$OzMpdUpdater$p_6.getString("cdn_experiment_id");a=b.length===0?a:this.$OzMpdUpdater$p_30(a,b);a=this.$OzMpdUpdater$p_31(a);b=this.$OzMpdUpdater$p_1.requestRawUrl({debugName:"OzMpdUpdater/requestMpd/mpd",url:a,options:{networkTimeoutMs:this.$OzMpdUpdater$p_6.getNumber("mpd_updater_network_request_timeout_ms")},loggerProvider:this.$OzMpdUpdater$p_5});this.$OzMpdUpdater$p_17=Date.now();this.$OzMpdUpdater$p_20=b;a=b.getStream().getReader();return d("oz-player/utils/OzReadableStreamUtils").pumpString(a)};e.$OzMpdUpdater$p_25=function(){this.$OzMpdUpdater$p_20&&(this.$OzMpdUpdater$p_20.cancel(),this.$OzMpdUpdater$p_18=0),this.$OzMpdUpdater$p_29()};e.$OzMpdUpdater$p_29=function(){this.$OzMpdUpdater$p_20=null};e.destroy=function(){this.$OzMpdUpdater$p_4&&c("oz-player/shims/ozClearTimeout")(this.$OzMpdUpdater$p_4),this.$OzMpdUpdater$p_10.release()};return b}(c("oz-player/shims/OzEventEmitter"));g["default"]=a}),98);
__d("oz-player/shims/OzXmlParserTrustedTypesHTMLPolicy",["oz-player/shims/www/OzXmlParserTrustedTypesHTMLPolicyWWW"],(function(a,b,c,d,e,f,g){"use strict";g.createTrustedHTMLForDOMParser=d("oz-player/shims/www/OzXmlParserTrustedTypesHTMLPolicyWWW").createTrustedHTMLForDOMParser}),98);
__d("oz-player/parsers/OzXmlParserImplDOMParser",["oz-player/shims/OzXmlParserTrustedTypesHTMLPolicy","oz-player/utils/OzErrorUtils"],(function(a,b,c,d,e,f,g){function h(){return{$:{}}}function i(a){var b=h();for(var c=a.attributes,d=0;d<c.length;++d){var e=c[d];b.$[e.name]=e.value}for(e=a.childNodes,c=0;c<e.length;++c){d=e[c];if(d instanceof Element){a=d.nodeName;Object.prototype.hasOwnProperty.call(b,a)||(b[a]=[]);b[a].push(i(d))}else{a=d.nodeValue.trim();a&&(b._=a)}}return b}a=function(){function a(){this.$1=new DOMParser()}var b=a.prototype;b.parse=function(a){try{var b=h(),c=d("oz-player/shims/OzXmlParserTrustedTypesHTMLPolicy").createTrustedHTMLForDOMParser(a);c=this.$1.parseFromString(c,"application/xml");var e=c.querySelector("parsererror");if(e){var f=e.querySelector("h3");f=f?f.nextElementSibling:null;f=f?f.innerHTML:e.innerHTML;e=2e3;throw d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_XML_PARSER",description:"DOMParser parsererror: "+String(f).trim()+"; truncated xml ("+Math.min(e,a.length)+"/"+a.length+"): "+a.substring(0,e),extra:{}})}f=c.documentElement;f!=null&&(b[f.nodeName]=[i(f)]);return b}catch(b){if(d("oz-player/utils/OzErrorUtils").isOzError(b))throw b;else{e=2e3;throw d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_XML_PARSER",description:"XML parse exception: "+String(b)+"; truncated xml ("+Math.min(e,a.length)+"/"+a.length+"): "+a.substring(0,e),extra:{originalError:b}})}}};return a}();g["default"]=a}),98);
__d("oz-player/playback_controls/OzClearSourceBufferOnSeekManager",["oz-player/shims/OzDeferred","oz-player/shims/OzMaybeNativePromise","oz-player/utils/OzCustomErrorCode","oz-player/utils/OzErrorEmitter","oz-player/utils/OzErrorUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,d,e){e===void 0&&(e=null),this.$3=new(c("oz-player/utils/OzErrorEmitter"))(),this.$4=new Map(),this.$5=!1,this.$6=!1,this.$7=!1,this.$8=null,this.$9=[],this.$10=null,this.$11=null,this.$1=a,this.$2=b,this.$4=d,this.$11=e}var b=a.prototype;b.$12=function(a){var b;this.$5=!0;return(b=this.$8)!=null?b:a.call(this.$1)};b.$13=function(a,b){this.$6=!0,this.$9.push({t:b}),this.$8=b,this.$9.length===1&&this.$14(a)};b.$15=function(a){this.$7=!0;return this.$8!=null?!0:a.call(this.$1)};b.$16=function(a,b){var d=new(c("oz-player/shims/OzDeferred"))(c("oz-player/shims/OzMaybeNativePromise")),e=[];this.$4.forEach(function(c,d){d=c.clearSourceBufferRange(a,b);e.push(d)});var f=c("oz-player/shims/OzMaybeNativePromise").all(e);f.then(function(){d.resolve()})["catch"](function(a){d.reject(a)});return d.getPromise()};b.$14=function(a){var b=this,e=this.$9.length>0?this.$9[0]:null,f=this.$2.getNumber("clear_buffer_on_seek_epsilon_s");if(e){var g=e.t;e=this.$1.buffered;var h=e.length,i=e.length<=0,j=-1,k=!1;for(var l=0;j<0&&l<h;++l)j=g-f>=e.start(l)&&g+f<e.end(l)?l:j,k=g<e.start(l)-f;l=j>-1;var m=this.$2.getNumber("clear_buffer_on_seek_nudge_s");l&&j>=0&&j<h&&m>0&&(g=Math.min(g,e.end(j)-m),g=Math.max(g,e.start(j)+m));if(i||l||!k)this.$11&&this.$11.getOperationLogger("seek_to_next_time").setLength(Math.round(g*1e3)).setInitiator("no_clear").log(),a.call(this.$1,g),this.$9.shift(),this.$14(a);else{var n=null;this.$11&&(n=this.$11.getOperationLogger("clear_buffer_before_seek").setLength(Math.round(g*1e3)).setUserInfo({bufferRangesLength:String(h),nudgeSec:String(m)}).start());j=this.$16(Math.max(g-f,0),e.end(h-1)+f);j.then(function(){n&&n.log(),b.$11&&b.$11.getOperationLogger("seek_to_next_time").setLength(Math.round(g*1e3)).setInitiator("after_clear").log(),a.call(b.$1,g),b.$9.shift(),b.$14(a)})["catch"](function(a){n&&n.setError(a).log(),b.$3.emitError(d("oz-player/utils/OzErrorUtils").isOzError(a)?a:d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_SOURCE_BUFFER",description:a?a.name+": "+a.message:"Unknown error while clearing the buffer.",extra:{code:c("oz-player/utils/OzCustomErrorCode").SOURCE_BUFFER_MANAGER_CLEAR_RANGE_FAILED,originalError:a}}))})}}else this.$8=null};b.maybeOverwriteVideoCurrentTimeProperty=function(){var a=this,b=Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(this.$1,"currentTime");b=b!=null?b:Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(HTMLMediaElement.prototype,"currentTime");var c=Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(this.$1,"seeking");c=c!=null?c:Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(HTMLMediaElement.prototype,"seeking");var d=b&&typeof b.get==="function"?b.get:null,e=b&&typeof b.set==="function"?b.set:null,f=c&&typeof c.get==="function"?c.get:null;if(d&&e&&f&&Object.defineProperty){try{Object.defineProperty(this.$1,"currentTime",{get:function(){return a.$12(d)},set:function(b){a.$13(e,b)},configurable:!0,enumerable:!0});Object.defineProperty(this.$1,"seeking",{get:function(){return a.$15(f)},configurable:!0,enumerable:!0});b=this.$1.currentTime;this.$1.currentTime=b;this.$1.seeking}catch(a){}this.$17(function(){a.getCurrentTimePropertyOverwriteSuccess()&&Object.defineProperty(a.$1,"currentTime",{get:d,set:e,configurable:!0,enumerable:!0}),a.getSeekingPropertyOverwriteSuccess()&&Object.defineProperty(a.$1,"seeking",{get:f,configurable:!0,enumerable:!0})})}};b.getCurrentTimePropertyOverwriteSuccess=function(){return this.$5&&this.$6};b.getSeekingPropertyOverwriteSuccess=function(){return this.$7};b.$17=function(a){this.$10=a};b.onError=function(a){return this.$3.onError(a)};b.destroy=function(){try{this.$10&&this.$10()}catch(a){}};return a}();g["default"]=a}),98);
__d("oz-player/playback_controls/OzSteadyStateManager",["oz-player/shims/ozvariant"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b){this.$1=[],this.$2=a,this.$3=b}var b=a.prototype;b.addSample=function(a){var b,c=Math.floor(Date.now()/(1e3*this.$3)),d=c%this.$2;((b=this.$1[d])==null?void 0:b.bucketNumber)!=c&&(this.$1[d]={bucketNumber:0,val:null});this.$1[d]={bucketNumber:c,val:Math.min(a,(b=this.$1[d].val)!=null?b:a)}};b.min=function(){var a=this,b=Date.now(),d=this.$1.filter(function(c){return c!=null&&c.val!=null&&b-a.$2*1e3*a.$3<c.bucketNumber*1e3*a.$3});if(d.length<this.$2)return null;d=d.reduce(function(a,b){if(a==null)return b;var d=b.val;d!=null||c("oz-player/shims/ozvariant")(0,56011);var e=a.val;e!=null||c("oz-player/shims/ozvariant")(0,56011);return d<e?b:a},null);return(d=d)==null?void 0:d.val};b.reset=function(){this.$1=[]};return a}();g["default"]=a}),98);
__d("oz-player/playback_controls/OzLiveLatencyManager",["oz-player/playback_controls/OzSteadyStateManager","oz-player/shims/OzDOMEventListener","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/ozThrottle","oz-player/utils/OzSourceBufferUtil"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=this;this.$8=new(c("oz-player/shims/OzSubscriptionsHandler"))();this.$9=null;this.$10=!1;this.$11=null;this.$12=null;this.$13=null;this.$14=!0;var d=a.config,e=a.mpd,f=a.playbackState,g=a.bufferingDetector,h=a.video,i=a.loggerProvider;a=a.getUserSelectedPlaybackRate;this.$1=d;this.$2=e;this.$3=f;this.$15=a;d.getNumber("steadystate_minbuffer_buckets")>0&&(this.$7=new(c("oz-player/playback_controls/OzSteadyStateManager"))(this.$1.getNumber("steadystate_minbuffer_buckets"),this.$1.getNumber("steadystate_minbuffer_buckets_sec")));g!=null&&(this.$8.addSubscriptions(g.addListener("enterBuffering",function(a){if(a==="in_play"){b.$9=0;(a=b.$7)==null||a.reset()}b.$10=!1;(a=b.$6)==null||a.log();b.$6=null})),this.$8.addSubscriptions(g.addListener("leaveBuffering",function(){b.$9===0&&(b.$9=Date.now()),b.$10=!1})));this.$4=h;this.$5=i;if(this.$16()){this.$8.addSubscriptions((e=c("oz-player/shims/OzDOMEventListener")).listenDOMEvent(this.$4,"timeupdate",c("oz-player/shims/ozThrottle")(function(){b.$17(),b.$18()},this.$1.getNumber("playhead_manager_timeupdate_throttle_ms"))),e.listenDOMEvent(this.$4,"waiting",function(){b.$17()}),e.listenDOMEvent(this.$4,"durationchange",function(){b.$17()}),e.listenDOMEvent(this.$4,"seeking",function(){var a;b.$13=Date.now();b.$11=null;(a=b.$7)==null||a.reset()}),e.listenDOMEvent(this.$4,"playing",function(){b.$13=Date.now(),b.$11=null}),e.listenDOMEvent(h,"pause",function(){var a;return(a=b.$7)==null?void 0:a.reset()}))}}var b=a.prototype;b.enabled=function(){var a=this.$1.getNumber("catchup_timeout_after_buffering_sec");return a===0||this.$9==null||this.$9!==0&&this.$9+a*1e3<=Date.now()};b.isBehindPreferredLiveHeadLatencyWithTolerance=function(){return this.$3.getCurrentTime()<this.getInitialPlayHeadPosition()-this.getPreferredLiveHeadLatencyToleranceSec()};b.$19=function(){return this.$3.getCurrentTime()<this.getInitialPlayHeadPosition()};b.$20=function(){var a;a=(a=this.$7)==null?void 0:a.min();return!this.$21()&&a!=null&&a>this.$1.getNumber("steadystate_minbuffer_sec")};b.getInitialPlayHeadPosition=function(){return this.getLiveHeadTimeSec()-this.getPreferredLiveHeadLatencySec()};b.getLiveHeadTimeSec=function(){var a,b=this.$22();return(b==null||(a=b.getEndingSegment())==null?void 0:a.getTimeRange().endTime)||0};b.$21=function(){return this.$9!=null&&this.$1.getBool("latencymanager_stalled_edgelatency_sec_on")};b.getPreferredLiveHeadLatencySec=function(){var a=this.$21()?this.$1.getNumber("latencymanager_stalled_edgelatency_sec"):this.$1.getNumber("pdash_download_cursor_catchup_threshold_sec");a=this.$23(a);this.$5.getOperationLogger("latency_manager").setPreferredEdgeLatency(a*1e3);return a};b.getPreferredLiveHeadLatencyToleranceSec=function(){return this.$1.getNumber("pdash_download_cursor_catchup_tolerance_sec")};b.shouldEnableManifestTimeRangeCatchup=function(){return!this.$1.getNumber("pdash_download_cursor_catchup_threshold_sec")};b.shouldEnableCursorBasedCatchup=function(){var a=this.$2.getVideoRepresentations()[0];a=a&&a.canPredict();return a&&this.$1.getNumber("pdash_download_cursor_catchup_threshold_sec")>0};b.setEnableCatchup=function(a){var b=this.$14;!this.$14&&a===!0&&(this.$9=null);this.$14=a;this.$1.getBool("fix_live_rewind_user_selected_playback_speed")&&a!==b&&this.$18()};b.$24=function(a,b,c){var d=this.$1.getNumber("playback_speed_min_sharpness_factor");c=a*2/(1+Math.pow(Math.E,-(c-b)*d));return 1-a+c};b.$16=function(){return!this.$1.getBool("playback_speed_latency_adjustment_disabled")&&(this.$1.getNumber("playback_speed_latency_adjustment_rate")>0||this.$1.getNumber("playback_speed_latency_slowdown_adjustment_rate")>0||this.$1.getNumber("playback_speed_latency_speedup_adjustment_rate")>0)};b.$17=function(){var a,b=d("oz-player/utils/OzSourceBufferUtil").getBufferAheadInBufferedRanges(d("oz-player/utils/OzSourceBufferUtil").convertToBufferedTimeRangeArray(this.$4.buffered),this.$3.getCurrentTime(),this.$1).bufferAheadSec;(a=this.$7)==null||a.addSample(b)};b.$18=function(){var a=d("oz-player/utils/OzSourceBufferUtil").getBufferAheadInBufferedRanges(d("oz-player/utils/OzSourceBufferUtil").convertToBufferedTimeRangeArray(this.$4.buffered),this.$3.getCurrentTime(),this.$1),b=a.bufferAheadSec;a=a.bufferedOffset;this.$25(b,a)};b.$25=function(a,b){var c=this.$1.getNumber("playback_speed_enabled_delay_sec"),d=this.$1.getNumber("playback_speed_min_buffer_sec");a>d&&(this.$10=!0);var e=this.$1.getNumber("playback_speed_min_duration_sec"),f=this.$1.getNumber("playback_speed_restore_min_duration_sec"),g=this.$1.getNumber("playback_speed_latency_adjustment_rate"),h=this.$1.getNumber("playback_speed_latency_slowdown_adjustment_rate"),i=this.$1.getNumber("playback_speed_latency_speedup_adjustment_rate");if(this.$4.playbackRate===0){var j;(j=this.$6)==null||j.log();this.$6=null}else if(this.$14&&this.$10&&a<d&&(g>0||h>0)&&b===0&&(c===0||this.$13!=null&&this.$13+c*1e3<Date.now())){j=h>0?1-h:this.$24(g,d,a);this.$6==null&&(this.$6=this.$5.getOperationLogger("latency_manager").start().setInitiator("speed_adjustment").setReason("slow").setUserInfo({newPlaybackRate:String(j),oldPlaybackRate:String(this.$4.playbackRate)}));this.$26(j)}else if(this.$14&&this.$10&&(this.$19()||this.$20())&&i>0&&b===0&&(this.$12==null||this.$12+f*1e3<Date.now())&&(c===0||this.$13!=null&&this.$13+c*1e3<Date.now())){h=1+i;this.$6==null&&(this.$6=this.$5.getOperationLogger("latency_manager").start().setInitiator("speed_adjustment").setReason("fast").setUserInfo({newPlaybackRate:String(h),oldPlaybackRate:String(this.$4.playbackRate)}));this.$26(h)}else if(this.$14===!1||this.$11==null||this.$11+e*1e3<Date.now()){g=this.$4.playbackRate;this.$1.getBool("fix_live_rewind_user_selected_playback_speed")?this.$4.playbackRate=this.$14===!1?this.$15():1:this.$4.playbackRate=1;(d=this.$6)==null||d.log();this.$6=null;g!==this.$4.playbackRate&&(this.$12=Date.now())}};b.$26=function(a){try{this.$4.playbackRate=a,this.$11=Date.now()}catch(b){(a=this.$6)==null||a.setError(b).setResult("failed").log();this.$6=null}};b.$22=function(){var a=this.$2.getVideoRepresentations().concat(this.$2.getAudioRepresentations());return a.length===0?null:a.reduce(function(a,b){var c;return(((c=a.getEndingSegment())==null?void 0:c.getTimeRange().endTime)||0)>(((c=b.getEndingSegment())==null?void 0:c.getTimeRange().endTime)||0)?a:b})};b.$23=function(a){var b,c;if(a<=0)return a;var d=this.$22(),e=d==null||(b=d.getEndingSegment())==null?void 0:b.getTimeRange();if(!e)return a;d=d==null||(c=d.getSegmentByTime((e==null?void 0:e.endTime)-a))==null?void 0:c.getTimeRange();return!d?a:(e==null?void 0:e.endTime)-(d==null?void 0:d.startTime)};b.destroy=function(){this.$8.release()};return a}();g["default"]=a}),98);
__d("oz-player/playback_controls/OzPlaybackTimeRangeManager",["oz-player/shims/OzSubscriptionsHandler","oz-player/utils/OzBufferingUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=this;this.$4=null;this.$5=0;this.$6=0;this.$7=!0;this.$8=0;this.$9=0;this.$10=!1;this.$12=0;this.$13=0;this.$15=new(c("oz-player/shims/OzSubscriptionsHandler"))();this.$17=function(){b.$10!=b.$14.isPlaying()&&(b.$14.isPlaying()&&(b.$11=Date.now()),b.$10=b.$14.isPlaying())};var d=a.video,e=a.config,f=a.mpd,g=a.liveheadFallBehindBlockThreshold,h=a.liveheadFallBehindBlockMargin,i=a.playbackState;a=a.perfLoggerProvider;this.$1=e;this.$2=d;this.$3=f;this.$8=g;this.$9=h;this.$14=i;this.$16=a;this.$1.getNumber("catchup_timeout_after_play_sec")!==0&&this.$15.addSubscriptions(this.$14.addEventListener("play",this.$17),this.$14.addEventListener("pause",this.$17))}var b=a.prototype;b.setTimelineBlockingEnabled=function(a){this.$7=a,this.$7||this.$3.unblockTimeRange()};b.setTimeRangeProvider=function(a){var b=this;this.$4!=null&&this.$4.remove();this.$4=a.addUpdateListener(function(){var c=a.getTimeRanges(),d=0;if(c.length!==0){c=c[c.length-1];d=c.endTime}b.$18(d)})};b.$18=function(a){var b;if(!this.$7)return;if(this.$5===a)return;this.$5=a;if(this.$2.currentTime<=this.$6)return;a=this.$1.getBool("catchup_use_timeline_range_end_time_as_end")?a:this.$2.duration;var c=this.$1.getNumber("overwrite_livehead_fall_behind_block_threshold")!==0?this.$1.getNumber("overwrite_livehead_fall_behind_block_threshold"):this.$8,e=this.$1.getNumber("overwrite_live_time_range_block_margin")!==0?this.$1.getNumber("overwrite_live_time_range_block_margin"):this.$9;this.$17();this.$1.getBool("reset_catchup_timeout_after_play_sec_on_overwrite")&&(this.$13!=e||this.$12!=c)&&(this.$13=e,this.$12=c,this.$11=Date.now());b=this.$1.getNumber("catchup_timeout_after_play_sec")===0||Date.now()-((b=this.$11)!=null?b:0)<this.$1.getNumber("catchup_timeout_after_play_sec")*1e3;if(b&&this.$1.getNumber("pdash_download_cursor_catchup_threshold_sec")===0&&e!==0&&c!==0&&a-this.$2.currentTime>c){b=[];for(c=0;c<this.$2.buffered.length;c++)b.push({startTime:this.$2.buffered.start(c),endTime:this.$2.buffered.end(c)});c=d("oz-player/utils/OzBufferingUtils").getBufferAheadFromCurrentTime(this.$2.currentTime,b);this.$6=this.$2.currentTime+Math.min(c,e);b={startTime:this.$6,endTime:a-e};this.$16.getOperationLogger("latency_manager").setInitiator("time_range_manager").setReason("blocked_range").setLength(b.endTime-b.startTime).setUserInfo({blockedRangeStart:String(b.startTime),blockedRangeEnd:String(b.endTime)}).log();this.$3.blockTimeRange(b)}};b.destroy=function(){this.$4!=null&&(this.$4.remove(),this.$4=null),this.$15.release()};return a}();g["default"]=a}),98);
__d("oz-player/strategies/LiveheadSeekaheadStrategy",[],(function(a,b,c,d,e,f){"use strict";var g=.05;function a(a,b){b=Math.max.apply(Math,b.map(function(a){return a.startTime}));return b-a>0?b-a+g:0}f.computeSeekAhead=a}),66);
__d("oz-player/utils/OzTimelineGapUtil",["oz-player/utils/OzNumericalHelper","oz-player/utils/OzNumericalRangeUtil"],(function(a,b,c,d,e,f,g){"use strict";var h=1.5;function a(a,b,c,e){b=b.map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}});return d("oz-player/utils/OzNumericalRangeUtil").findCurrentRangeIndex(c,a,b,e)===-1}function b(a,b,c,e,f){f===void 0&&(f=h);var g=b.map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}});c=d("oz-player/utils/OzNumericalRangeUtil").findCurrentRangeIndex(c,a,g,e);if(c!==-1){g=b[c];return d("oz-player/utils/OzNumericalHelper").lessThanOrEqual(a,g.endTime)&&g.endTime-a<f}return!1}g.isInGap=a;g.isNearGap=b}),98);
__d("oz-player/playback_controls/OzPlayheadManager",["oz-player/shims/OzDOMEventListener","oz-player/shims/OzEventEmitter","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/ozThrottle","oz-player/shims/ozvariant","oz-player/strategies/LiveheadSeekaheadStrategy","oz-player/utils/OzNumericalRangeUtil","oz-player/utils/OzSourceBufferUtil","oz-player/utils/OzTimelineGapUtil"],(function(a,b,c,d,e,f,g){"use strict";var h=function(){function a(a){this.$1=a.perfLoggerProvider,this.$2=a.video,this.$4=a.config}var b=a.prototype;b.markState=function(a,b){var c=d("oz-player/utils/OzSourceBufferUtil").convertToBufferedTimeRangeArray(this.$2.buffered),e=this.$3;if(e==null){this.$3=c;return}var f=d("oz-player/utils/OzSourceBufferUtil").getBufferAheadInBufferedRanges(c,b.getCurrentTime(),this.$4);e=d("oz-player/utils/OzSourceBufferUtil").getBufferAheadInBufferedRanges(e,b.getCurrentTime(),this.$4);e.bufferedOffset!==-1&&f.bufferedOffset===-1&&this.$1.getOperationLogger("playhead_adjustment").setError("buffer_deleted").setResult("failed").setUserInfo({vidSeeking:String(this.$2.seeking),vidErrCode:this.$2.error?String(this.$2.error.code):null}).setInitiator(a).log();this.$3=c};return a}(),i=function(){function a(a){this.$5=!1,this.$6={},this.$1=a.perfLoggerProvider,this.$2=a.video}var b=a.prototype;b.markState=function(a,b){var c=this;if(this.$2.paused){this.$3=null;this.$4=null;this.$5=!1;this.$6={};return}(this.$3==null||this.$2.currentTime>this.$3)&&(this.$4=Date.now(),this.$3=this.$2.currentTime,this.$5=!1,this.$6={});this.$6[a]=this.$6[a]==null?1:this.$6[a]+1;var d=this.$4;if(!this.$5&&!this.$2.paused&&d!=null&&d+1e4<Date.now()){this.$5=!0;var e={};Object.keys(this.$6).forEach(function(a){e[a]=String(c.$6[a])});this.$1.getOperationLogger("playhead_adjustment").setError("not_advancing").setResult("failed").setLength(Date.now()-d).setUserInfo(babelHelpers["extends"]({},e,b,{lastCurrentTime:String(this.$3),lastCurrentTimeChanged:String(d-Date.now()),vidSeeking:String(this.$2.seeking),vidErrCode:this.$2.error?String(this.$2.error.code):null})).setInitiator(a).log()}};return a}();a=function(a){function b(b){var e;e=a.call(this)||this;e.$OzPlayheadManager$p_2=new(c("oz-player/shims/OzSubscriptionsHandler"))();e.$OzPlayheadManager$p_3=new(c("oz-player/shims/OzSubscriptionsHandler"))();e.$OzPlayheadManager$p_4=new Set();e.$OzPlayheadManager$p_10=new Set();e.$OzPlayheadManager$p_12=function(a){e.$OzPlayheadManager$p_1.currentTime=a};e.$OzPlayheadManager$p_14=!1;e.$OzPlayheadManager$p_15=!1;e.$OzPlayheadManager$p_16=!0;e.$OzPlayheadManager$p_17=!1;e.$OzPlayheadManager$p_23=function(a,b){b===void 0&&(b=null);if(e.$OzPlayheadManager$p_20!=null?!e.$OzPlayheadManager$p_20.shouldEnableManifestTimeRangeCatchup():!1)return;var c=e.$OzPlayheadManager$p_9;if(c&&c.isEnabled(e.$OzPlayheadManager$p_1,e.$OzPlayheadManager$p_8)){c=c.computeNewPlayheadPosition(e.$OzPlayheadManager$p_1,e.$OzPlayheadManager$p_8);if(typeof c==="number"){e.$OzPlayheadManager$p_27(c,"live_catch_up_strategy",a,b);return}}c=e.$OzPlayheadManager$p_6.getNumber("auto_seek_playhead_slack");if(c===0)return;var f=e.$OzPlayheadManager$p_5;if(!f)return;var g=e.$OzPlayheadManager$p_7.getCurrentTime(),h=f.getTimeRanges().map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}),i=d("oz-player/utils/OzNumericalRangeUtil").findNextRangeIndex(g,h);if((d("oz-player/utils/OzTimelineGapUtil").isNearGap(g,f.getTimeRanges(),e.$OzPlayheadManager$p_6)||d("oz-player/utils/OzTimelineGapUtil").isInGap(g,f.getTimeRanges(),e.$OzPlayheadManager$p_6))&&i!==-1){g=h[i];e.$OzPlayheadManager$p_27(g.rangeStart+c,"jump_over_timeline_gap",a,b)}};var f=b.video,g=b.mpd,j=b.playheadCatchup,k=b.playbackState,l=b.config,m=b.perfLoggerProvider,n=b.seekHandler,o=b.initialPlaybackPosition,p=b.canSupportSkipVideobufferGaps,q=b.liveLatencyManager;b=b.dynamicVideoLibrary;e.$OzPlayheadManager$p_1=f;e.$OzPlayheadManager$p_6=l;e.$OzPlayheadManager$p_7=k;e.$OzPlayheadManager$p_8=g;e.$OzPlayheadManager$p_9=j;e.$OzPlayheadManager$p_11=m;n&&(e.$OzPlayheadManager$p_12=n);e.$OzPlayheadManager$p_17=p;e.$OzPlayheadManager$p_20=q;e.$OzPlayheadManager$p_13=o;e.$OzPlayheadManager$p_21=b;e.$OzPlayheadManager$p_18=new i({video:f,perfLoggerProvider:m});e.$OzPlayheadManager$p_19=new h({video:f,perfLoggerProvider:m,config:l});e.$OzPlayheadManager$p_2.addSubscriptions(c("oz-player/shims/OzDOMEventListener").listenDOMEvent(e.$OzPlayheadManager$p_1,"durationchange",function(){e.setPlaybackPositionOnFirstDurationChange("durationchange",e.$OzPlayheadManager$p_1.duration),e.$OzPlayheadManager$p_23("durationchange"),e.$OzPlayheadManager$p_24("durationchange")}),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(e.$OzPlayheadManager$p_1,"pause",function(){e.$OzPlayheadManager$p_23("pause")}),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(e.$OzPlayheadManager$p_1,"play",function(){e.$OzPlayheadManager$p_23("play")}),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(e.$OzPlayheadManager$p_1,"playing",function(){e.$OzPlayheadManager$p_23("playing")}),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(e.$OzPlayheadManager$p_1,"waiting",function(){e.$OzPlayheadManager$p_23.bind(e,"waiting"),e.$OzPlayheadManager$p_24("waiting")}),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(e.$OzPlayheadManager$p_1,"timeupdate",c("oz-player/shims/ozThrottle")(function(){e.$OzPlayheadManager$p_23("timeupdate"),e.$OzPlayheadManager$p_6.getBool("playhead_manager_buffered_timerange_update_on_timeupdate")&&e.$OzPlayheadManager$p_24("timeupdate")},e.$OzPlayheadManager$p_6.getNumber("playhead_manager_timeupdate_throttle_ms"))),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(e.$OzPlayheadManager$p_1,"seeking",function(){e.$OzPlayheadManager$p_22=Date.now()}));return e}babelHelpers.inheritsLoose(b,a);var e=b.prototype;e.$OzPlayheadManager$p_25=function(){return this.$OzPlayheadManager$p_1.playbackRate===0};e.observeSourceBufferState=function(a,b){var d=this;this.$OzPlayheadManager$p_4.has(a)&&c("oz-player/shims/ozvariant")(0,4179);this.$OzPlayheadManager$p_4.add(a);this.$OzPlayheadManager$p_2.addSubscriptions(a.addEventListener("buffer_updated",function(){d.$OzPlayheadManager$p_26(a,b),d.$OzPlayheadManager$p_6.getBool("skip_videobuffer_gaps_on_buffer_updated")&&d.$OzPlayheadManager$p_17&&d.$OzPlayheadManager$p_24("buffer_updated")}))};e.$OzPlayheadManager$p_26=function(a,b){var c=[];this.$OzPlayheadManager$p_4.forEach(function(a){a=a.getBufferedRanges();a.length&&c.push(a[0])});c.length>0&&this.$OzPlayheadManager$p_10.add(a);a=this.$OzPlayheadManager$p_1.currentTime;a=d("oz-player/strategies/LiveheadSeekaheadStrategy").computeSeekAhead(a,c);var e=this.$OzPlayheadManager$p_6.getNumber("timeline_offset_threshold");a>0&&(e===0||a<e)&&this.$OzPlayheadManager$p_27(this.$OzPlayheadManager$p_1.currentTime+a,"first_available_buffer","source_buffer",b)};e.setTimeRangeProvider=function(a){var b=this;this.$OzPlayheadManager$p_3.release();this.$OzPlayheadManager$p_3.engage();this.$OzPlayheadManager$p_3.addSubscriptions(a.addUpdateListener(function(){b.$OzPlayheadManager$p_23("time_range_updated")}));this.$OzPlayheadManager$p_5=a;this.$OzPlayheadManager$p_23("time_range_set")};e.resetCurrentTime=function(){this.$OzPlayheadManager$p_15=!1,this.setPlaybackPositionOnFirstDurationChange("reset",this.$OzPlayheadManager$p_1.duration)};e.setPlaybackPositionOnFirstDurationChange=function(a,b){if(this.$OzPlayheadManager$p_13!==0&&!this.$OzPlayheadManager$p_15&&!isNaN(b)&&b!==Infinity){b=this.$OzPlayheadManager$p_13>0?this.$OzPlayheadManager$p_13:b+this.$OzPlayheadManager$p_13;if(this.$OzPlayheadManager$p_20!=null){var c;b=(c=this.$OzPlayheadManager$p_20)==null?void 0:c.getInitialPlayHeadPosition()}this.$OzPlayheadManager$p_15=!0;if(this.$OzPlayheadManager$p_6.getBool("playhead_manager_clamp_initial_playback_position")){c=(c=this.$OzPlayheadManager$p_5)==null?void 0:c.getTimeRanges();c!=null&&c.length>0&&c[0].startTime>b&&(b=c[0].startTime)}this.$OzPlayheadManager$p_27(b,"initial_playback_position",a);this.emit("initialPlaybackPositionSet",b)}};e.$OzPlayheadManager$p_24=function(a){var b,c,e=this;if(!this.$OzPlayheadManager$p_6.getBool("skip_videobuffer_gaps"))return;if(!this.$OzPlayheadManager$p_17)return;var f=this.$OzPlayheadManager$p_6.getNumber("playhead_manager_buffered_auto_seek_playhead_slack");if(f===0)return;var g=this.$OzPlayheadManager$p_7.getCurrentTime(),h=[];for(var i=0;i<this.$OzPlayheadManager$p_1.buffered.length;i++)h.push({startTime:this.$OzPlayheadManager$p_1.buffered.start(i),endTime:this.$OzPlayheadManager$p_1.buffered.end(i)});i=h.map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}});this.$OzPlayheadManager$p_19&&this.$OzPlayheadManager$p_19.markState(a,this.$OzPlayheadManager$p_7);var j=d("oz-player/utils/OzNumericalRangeUtil").findNextRangeIndex(g,i),k=d("oz-player/utils/OzNumericalRangeUtil").findCurrentRangeIndex(this.$OzPlayheadManager$p_6,g,i),l=this.$OzPlayheadManager$p_16?0:this.$OzPlayheadManager$p_6.getNumber("skip_videobuffer_gaps_max_gap_size_sec"),m=this.$OzPlayheadManager$p_6.getNumber("playhead_manager_buffered_is_near_gap_threshold"),n=this.$OzPlayheadManager$p_6.getNumber("playhead_manager_buffered_numerical_error");b=(b=this.$OzPlayheadManager$p_21)==null?void 0:b.getLastSegmentStartPTS();var o=b!=null?b/1e3:null,p=(c=this.$OzPlayheadManager$p_21)==null?void 0:c.getLast200RequestedUrlDecisionMinTime();c=o!=null?d("oz-player/utils/OzNumericalRangeUtil").findCurrentRangeIndex(this.$OzPlayheadManager$p_6,o,i):-1;var q=c>=0?i[c]:null,r=function(b){var c=e.$OzPlayheadManager$p_22==null||p==null||e.$OzPlayheadManager$p_22<p;!c&&b!=null&&e.$OzPlayheadManager$p_11.getOperationLogger("playhead_adjustment").setError("ignore_before_seek_main_"+b).setResult("failed").setInitiator(a).setUserInfo({last200RequestedUrlDecisionMinTime:String(p),lastSeekTime:String(e.$OzPlayheadManager$p_22)}).log();return c};if(o!=null&&this.$OzPlayheadManager$p_25()&&this.$OzPlayheadManager$p_16==!1&&r("buf")){if(o<g&&q!=null&&q.rangeStart<=o&&q.rangeEnd!=null&&q.rangeEnd>o){this.$OzPlayheadManager$p_27(o,"reverse_jump_over_buffer_gap",a,null,{lastSegmentStartPTS:String(b),last200RequestedUrlDecisionMinTime:String(p),lastSeekTime:String(this.$OzPlayheadManager$p_22)});return}if(q!=null&&c!=k){this.$OzPlayheadManager$p_27(q.rangeStart,"jump_over_buffer_gap_last_dl_range",a,null,{lastSegmentStartPTS:String(b),last200RequestedUrlDecisionMinTime:String(p),lastSeekTime:String(this.$OzPlayheadManager$p_22)});return}}if((d("oz-player/utils/OzTimelineGapUtil").isNearGap(g,h,this.$OzPlayheadManager$p_6,n,m)||d("oz-player/utils/OzTimelineGapUtil").isInGap(g,h,this.$OzPlayheadManager$p_6,n))&&j!==-1&&(l===0||i[j].rangeStart-g<l)&&(this.$OzPlayheadManager$p_16==!0||r("main"))){o=i[j];this.$OzPlayheadManager$p_6.getBool("enable_alternative_audio_tracks")&&this.$OzPlayheadManager$p_8.isStaticMpd()&&o.rangeStart!==0&&o.rangeEnd===this.$OzPlayheadManager$p_7.getDuration()?this.$OzPlayheadManager$p_27(0,"do_not_jump_over_buffer_gap",a,null,{lastSegmentStartPTS:String(b),last200RequestedUrlDecisionMinTime:String(p),lastSeekTime:String(this.$OzPlayheadManager$p_22)}):this.$OzPlayheadManager$p_27(o.rangeStart+f,"jump_over_buffer_gap",a,null,{lastSegmentStartPTS:String(b),last200RequestedUrlDecisionMinTime:String(p),lastSeekTime:String(this.$OzPlayheadManager$p_22)});return}this.$OzPlayheadManager$p_18&&this.$OzPlayheadManager$p_18.markState(a,{nextBufferedRangeIndex:String(j),limitMaxGapSize:String(l),rangeStart:j!==-1?String(i[j].rangeStart):null,isNearGapThreshold:String(m),numericalError:String(n)})};e.setEnableLiveheadCatchup=function(a){this.$OzPlayheadManager$p_16=a};e.destroy=function(){this.$OzPlayheadManager$p_2.release(),this.$OzPlayheadManager$p_3.release(),this.$OzPlayheadManager$p_4.clear()};e.$OzPlayheadManager$p_27=function(a,b,c,d,e){var f=a-this.$OzPlayheadManager$p_1.currentTime,g=this.$OzPlayheadManager$p_6.getNumber("seek_ahead_epsilon");if(g>0&&Math.abs(f)<=g)return;this.$OzPlayheadManager$p_11.getOperationLogger("playhead_adjustment").setLength(Math.round(a*1e3)).setReason(b).setInitiator(c).setType(d).setUserInfo(babelHelpers["extends"]({},e,{seekAdjustment:String(Math.round(f*1e3))})).log();this.$OzPlayheadManager$p_12(a);b==="initial_playback_position"&&(this.$OzPlayheadManager$p_14=!0)};return b}(c("oz-player/shims/OzEventEmitter"));g["default"]=a}),98);
__d("oz-player/shims/www/OzUuidWWW",["uuidv4"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("uuidv4")}),98);
__d("oz-player/shims/OzUuid",["oz-player/shims/www/OzUuidWWW"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("oz-player/shims/www/OzUuidWWW")}),98);
__d("oz-player/states/OzObservedPlaybackState",["oz-player/loggings/OzMultiDestinationPerfLogger","oz-player/shims/OzDOMEventListener","oz-player/shims/OzSubscriptionsHandler"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,e){var f=this;e===void 0&&(e=new(d("oz-player/loggings/OzMultiDestinationPerfLogger").OzMultiDestinationPerfLoggerProvider)([]));this.$2=new(c("oz-player/shims/OzSubscriptionsHandler"))();this.$4=function(){f.$3.getOperationLogger("pause").setState("paused").log()};this.$5=function(){f.$3.getOperationLogger("playing").setState("playing").log()};this.$1=b;this.$3=e;this.$2.addSubscriptions(c("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$1,"pause",this.$4),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$1,"playing",this.$5))}var b=a.prototype;b.isPlaying=function(){return!this.$1.paused};b.getCurrentTime=function(){return this.$1.currentTime};b.getCurrentTimeUpdateTime=function(){return Date.now()};b.getDuration=function(){return this.$1.duration};b.addEventListener=function(a,b){return c("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$1,a,b)};b.destroy=function(){this.$2.release()};return a}();g["default"]=a}),98);
__d("oz-player/utils/OzPositionToViewportUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){b=b.filter(function(a){a=a.position;if(a==null)return!1;var b=a.y-window.scrollY;return b>=0||(a.height+b)/a.height>c}).sort(function(a,b){return a.position==null||b.position==null?0:a.position.y-b.position.y});return b.findIndex(function(b){return b.video===a})}function b(a){return a.isIntersecting!=null?a.isIntersecting:a.intersectionRatio>0||a.intersectionRect&&(a.intersectionRect.height>0||a.intersectionRect.width>0)}f.determinePositionIndexOfVideoFromViewportVertically=a;f.intersectionObserverEntryIsIntersecting=b}),66);
__d("oz-player/states/OzPositionToViewportTracker",["oz-player/shims/OzEventEmitter","oz-player/utils/OzPositionToViewportUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=null,i=.5;a=function(a){function b(b){var c;c=a.call(this)||this;c.$OzPositionToViewportTracker$p_1=[];c.$OzPositionToViewportTracker$p_5=function(a){a.forEach(function(a){var b=c.$OzPositionToViewportTracker$p_1.find(function(b){return a.target===b.video});b!=null&&(d("oz-player/utils/OzPositionToViewportUtils").intersectionObserverEntryIsIntersecting(a)?b.position=c.$OzPositionToViewportTracker$p_7(a):c.$OzPositionToViewportTracker$p_1.map(function(b){a.target===b.video&&(b.position=null)}));c.$OzPositionToViewportTracker$p_1.forEach(function(a){a.positionIndexToViewportVertically=c.$OzPositionToViewportTracker$p_6(a.video)})}),c.emit("state_changed")};c.$OzPositionToViewportTracker$p_2=b;return c}babelHelpers.inheritsLoose(b,a);var c=b.prototype;c.$OzPositionToViewportTracker$p_4=function(){if(this.$OzPositionToViewportTracker$p_3!=null)return;this.$OzPositionToViewportTracker$p_3=new IntersectionObserver(this.$OzPositionToViewportTracker$p_5,{rootMargin:this.$OzPositionToViewportTracker$p_2.getNumber("pixels_above_viewport_to_observe")+"px 0px "+this.$OzPositionToViewportTracker$p_2.getNumber("pixels_below_viewport_to_observe")+"px 0px",threshold:0})};c.registerVideo=function(a){this.$OzPositionToViewportTracker$p_1.push({video:a,position:null,positionIndexToViewportVertically:-1}),this.$OzPositionToViewportTracker$p_4(),this.$OzPositionToViewportTracker$p_3!=null&&this.$OzPositionToViewportTracker$p_3.observe(a)};c.getPositionIndexOfVideoFromViewportVertically=function(a){var b=this.$OzPositionToViewportTracker$p_1.find(function(b){return b.video===a});return b!=null?b.positionIndexToViewportVertically:-1};c.$OzPositionToViewportTracker$p_6=function(a){return d("oz-player/utils/OzPositionToViewportUtils").determinePositionIndexOfVideoFromViewportVertically(a,this.$OzPositionToViewportTracker$p_1,i)};c.$OzPositionToViewportTracker$p_7=function(a){a=a.boundingClientRect;return{x:a.x+window.scrollX,y:a.y+window.scrollY,width:a.width,height:a.height}};b.getInstance=function(a){h==null&&(h=new b(a));return h};c.unregisterVideo=function(a){var b=this,c=[];this.$OzPositionToViewportTracker$p_1.forEach(function(d){d.video===a&&b.$OzPositionToViewportTracker$p_3!=null?b.$OzPositionToViewportTracker$p_3.unobserve(a):c.push(d)});this.$OzPositionToViewportTracker$p_1=c;this.$OzPositionToViewportTracker$p_1.length===0&&this.$OzPositionToViewportTracker$p_3!=null&&(this.$OzPositionToViewportTracker$p_3.disconnect(),this.$OzPositionToViewportTracker$p_3=null)};return b}(c("oz-player/shims/OzEventEmitter"));g["default"]=a}),98);
__d("oz-player/states/OzPositionToViewport",["oz-player/shims/OzEventEmitter","oz-player/shims/OzSubscriptionsHandler","oz-player/states/OzPositionToViewportTracker"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){function b(b,d){var e;e=a.call(this)||this;e.$OzPositionToViewport$p_1=new(c("oz-player/shims/OzSubscriptionsHandler"))();e.$OzPositionToViewport$p_3=b;e.$OzPositionToViewport$p_2=c("oz-player/states/OzPositionToViewportTracker").getInstance(d);e.$OzPositionToViewport$p_2.registerVideo(b);e.$OzPositionToViewport$p_1.addSubscriptions(e.$OzPositionToViewport$p_2.addListener("state_changed",function(){e.emit("state_changed")}));return e}babelHelpers.inheritsLoose(b,a);var d=b.prototype;d.getPositionIndexOfVideoFromViewportVertically=function(){return this.$OzPositionToViewport$p_3!=null?this.$OzPositionToViewport$p_2.getPositionIndexOfVideoFromViewportVertically(this.$OzPositionToViewport$p_3):-1};d.destroy=function(){this.$OzPositionToViewport$p_3!=null&&this.$OzPositionToViewport$p_2.unregisterVideo(this.$OzPositionToViewport$p_3),this.$OzPositionToViewport$p_3=null};return b}(c("oz-player/shims/OzEventEmitter"));g["default"]=a}),98);
__d("oz-player/strategies/OzPlaybackConfidenceUtils",[],(function(a,b,c,d,e,f){"use strict";var g=.8;function a(a,b,c,d,e,f){f=Math.min(1,c/d);c=1+(1-f)*e;d=a.getBandwidth()*c;return d>b?g*(b/d):1-(1-g)*d/b}f.getPlaybackConfidence=a}),66);
__d("oz-player/strategies/OzAbrManager",["oz-player/networks/OzBandwidthEstimator","oz-player/strategies/OzPlaybackConfidenceUtils","oz-player/utils/OzAbrUtils","oz-player/utils/OzBufferingUtils","oz-player/utils/OzPlaybackRestrictionsUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,c,d,e,f,g,h,i){this.$2=0,this.$3=Date.now(),this.$4=!1,this.$10=null,this.$1=a,this.$5=b,this.$6=this.$15(b,c),this.$7=d,this.$8=e,this.$11=f,this.$12=g,this.$13=h,this.$14=i,this.$1.getBool("enable_abr_logging")&&this.$14.getOperationLogger("abr_initialized").setResult("success").setUserInfo({newRepresentationIds:c.map(function(a){return a.getID()}).join(","),newCodecs:c.map(function(a){return a.getCodecs()}).join("|"),newDisplayLabels:c.map(function(a){return a.getDisplayLabel()}).join(",")}).setRepresentationID(b.getID()).setType("video").setInitiator("OzAbrManager").log()}var b=a.prototype;b.setSourceBuffer=function(a){this.$9=a};b.$15=function(a,b){var c=this.$1.getNumber("abr_restrict_from_index"),d=this.$1.getNumber("abr_restrict_to_index");if(d===0&&c===0)return b;var e=b.findIndex(function(b){return a.getID()===b.getID()});return e===-1?b:b.filter(function(a,b){return b-e>=c&&b-e<=d})};b.$16=function(a){a=d("oz-player/utils/OzAbrUtils").excludeLargeRepresentations(a,this.$12(),this.$11,{resolutionConstraintFactor:this.$1.getNumber("resolution_constraint_factor")});a=d("oz-player/utils/OzPlaybackRestrictionsUtils").applyVideoPlaybackRestrictions(this.$7,this.$12(),a);return a};b.getBestRepresentation=function(a){var b;a=(a=a==null?void 0:a.length)!=null?a:null;b=(b=(b=this.$9)==null?void 0:b.getSourceBufferState().getBufferedRanges())!=null?b:null;var e=this.$8.getCurrentTime();e=d("oz-player/utils/OzBufferingUtils").getBufferAheadFromCurrentTime(e,b);b=d("oz-player/utils/OzAbrUtils").getReasonToPreventEvaluation(this.$1,this.$4,e,c("oz-player/networks/OzBandwidthEstimator").getSampleCount(),this.$2,this.$3);if(b!=null){this.$10=b;this.$1.getBool("enable_abr_logging")&&this.$14.getOperationLogger("abr_best_representation_selected").setResult("failed").setReason(this.$10).setType("video").setInitiator("OzAbrManager").log();return this.$5}b=Date.now();this.$2=b;var f=c("oz-player/networks/OzBandwidthEstimator").getAdjustedBandwidth(this.$1.getLegacyConfig()),g=this.$16(this.$6);f=this.$17(g,f,e,a);a=g[0];f=f||a;if(this.$18(e,f)){this.$10="high_buffer";this.$1.getBool("enable_abr_logging")&&this.$14.getOperationLogger("abr_best_representation_selected").setResult("failed").setUserInfo({filteredRepresentationIds:g.map(function(a){return a.getID()}).join(",")}).setPreviousRepresentationID(this.$5.getID()).setReason(this.$10).setType("video").setInitiator("OzAbrManager").log();return this.$5}a=this.$5;a!==f&&(this.$4=!0,this.$3=b,this.$5=f);this.$10="bandwidth";this.$1.getBool("enable_abr_logging")&&this.$14.getOperationLogger("abr_best_representation_selected").setResult("success").setUserInfo({filteredRepresentationIds:g.map(function(a){return a.getID()}).join(",")}).setRepresentationID(f.getID()).setPreviousRepresentationID(a==null?void 0:a.getID()).setReason(this.$10).setType("video").setInitiator("OzAbrManager").log();return f};b.$17=function(a,b,c,e){e===void 0&&(e=null);var f=null;for(var g=0;g<a.length;g++){var h=d("oz-player/strategies/OzPlaybackConfidenceUtils").getPlaybackConfidence(a[g],b,c,this.$1.getNumber("low_buffer_bandwidth_target_threshold"),this.$1.getNumber("low_buffer_bandwidth_target_increase_factor"),e);h>this.$1.getNumber("abr_confidence_threshold")&&(!f||f.getBandwidth()<a[g].getBandwidth())&&(f=a[g])}return f};b.$18=function(a,b){var c=this.$1.getNumber("abr_prevent_down_switch_buffer_threshold");return c>0&&a>=c&&this.$5.getBandwidth()>b.getBandwidth()?!0:!1};b.getLastEvaluationReason=function(){return this.$10};b.updateRepresentations=function(a){var b=this,c=this.$6;this.$6=a;var d=this.$6.find(function(a){return a.getDisplayLabel()===b.$5.getDisplayLabel()}),e=this.$5;this.$5=d!=null?d:this.$6[0];this.$1.getBool("enable_abr_logging")&&this.$14.getOperationLogger("abr_representations_updated").setResult("success").setUserInfo({previousRepresentationIds:c.map(function(a){return a.getID()}).join(","),newRepresentationIds:a.map(function(a){return a.getID()}).join(","),newCodecs:a.map(function(a){return a.getCodecs()}).join("|"),newDisplayLabels:a.map(function(a){return a.getDisplayLabel()}).join(",")}).setRepresentationID(this.$5.getID()).setPreviousRepresentationID(e==null?void 0:e.getID()).setReason(this.$10).setType("video").setInitiator("OzAbrManager").log()};return a}();g["default"]=a}),98);
__d("oz-player/strategies/getSegmentsCount",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c,d){var e=0,f=a.getTimeRange().startTime;a=a;var g=a.getTimeRange().startTime;while(a!==null&&g<c+f){var h=g;e++;a=b.getSegmentAfter(a);if(a)g=a.getTimeRange().startTime;else break;if(g<=h)return d}return Math.max(e,1)}f["default"]=a}),66);
__d("oz-player/strategies/OzStaticStreamSegmentsStrategy",["oz-player/strategies/getSegmentsCount"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$1=a}var b=a.prototype;b.isActive=function(){return!0};b.getSegmentsCount=function(a,b,d){a=this.$1.getNumber("seconds_to_stream");var e=this.$1.getNumber("segments_to_stream");a>0&&(e=c("oz-player/strategies/getSegmentsCount")(b,d,a,e));return e};return a}();g["default"]=a}),98);
__d("oz-player/strategies/OzBandwidthBoundaryStreamSegmentsCountStrategy",["oz-player/networks/OzBandwidthEstimator","oz-player/strategies/OzStaticStreamSegmentsStrategy","oz-player/strategies/getSegmentsCount"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b){this.$1=a,this.$2=b,this.$3=new(c("oz-player/strategies/OzStaticStreamSegmentsStrategy"))(a)}var b=a.prototype;b.isActive=function(a){return!0};b.getSegmentsCount=function(a,b,d){var e=c("oz-player/networks/OzBandwidthEstimator").getBandwidth(this.$1.getLegacyConfig()),f=c("oz-player/networks/OzBandwidthEstimator").getStandardDeviationOfBandwidth(),g=this.$1.getNumber("bandwidth_boundary_standard_deviation_factor"),h=this.$2.some(function(a){a=a.getBandwidth();return Math.abs(a-e)<f*g});h=h?this.$4(a,b,d):this.$3.getSegmentsCount(a,b,d);a=this.$5(b,e);return Math.min(h,a)};b.$4=function(a,b,d){a=this.$1.getNumber("seconds_to_stream_near_bandwidth_boundary");var e=this.$1.getNumber("segments_to_stream_near_bandwidth_boundary");a>0&&(e=c("oz-player/strategies/getSegmentsCount")(b,d,a,e));return e};b.$5=function(a,b){var c=Infinity;a=a.getByteRange();if(a){var d=a.endByte;if(d!=null){var e=this.$1.getNumber("per_stream_duration_target");d=d-a.startByte;e>1e-5&&d!==0&&(c=Math.ceil(e*b/(d*8)))}}return c};return a}();g["default"]=a}),98);
__d("oz-player/strategies/OzBlockedRepresentationsManager",["oz-player/shims/OzEventEmitter","oz-player/shims/ozClearTimeout","oz-player/shims/ozSetTimeoutAcrossTransitions","oz-player/utils/OzErrorUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b){this.$2=new Map(),this.$3=new Set(),this.$4=new Set(),this.$5=new(c("oz-player/shims/OzEventEmitter"))(),this.$6=b===!0,this.$7(a),this.$8(a)}var b=a.prototype;b.isBlocked=function(a){return this.$3.has(a)};b.handleError=function(a,b){if(this.$1!=null&&this.$3.size===this.$1-1)return!1;if(d("oz-player/utils/OzErrorUtils").isOzError(b)&&b.getType()==="OZ_NETWORK"){b=Number(b.getExtra().code);if(!isNaN(b)&&this.$2.has(b)){this.$3.has(a)||this.$9(a,b);return!0}}return!1};b.$9=function(a,b){var d,e=this;this.$3.add(a);(d=this.$5)==null||d.emit("representation_blocked",a);d=this.$2.get(b)||0;if(d>0){var f=c("oz-player/shims/ozSetTimeoutAcrossTransitions")(function(){e.$3["delete"](a),e.$4["delete"](f)},d);this.$4.add(f)}};b.applyRestriction=function(a){var b=this;return a.filter(function(a){return!b.$3.has(a.getID())})};b.onRepresentationBlocked=function(a){return this.$5?this.$5.addListener("representation_blocked",a):{remove:function(){}}};b.setAvailableRepresentationsCount=function(a){this.$1=a};b.destroy=function(){var a;(a=this.$5)==null||a.removeAllListeners();this.$5=null;for(a of this.$4)c("oz-player/shims/ozClearTimeout")(a);this.$4.clear()};b.$7=function(a){var b=this;try{a=JSON.parse(a.getString("block_representation_status_codes_json"));if(Array.isArray(a)){a.forEach(function(a){a=parseInt(a,10);isNaN(a)||b.$2.set(a,-1)});if(this.$6)for(a=500;a<=599;a++)this.$2.set(a,-1)}}catch(a){}};b.$8=function(a){var b=this;try{a=JSON.parse(a.getString("block_representation_status_codes_temporarily_json"));Object.entries(a).forEach(function(a){var c=a[0];a=a[1];c=parseInt(c,10);a=parseInt(a,10);!isNaN(c)&&!isNaN(a)&&b.$2.set(c,a)})}catch(a){}};return a}();g["default"]=a}),98);
__d("oz-player/strategies/OzBufferAheadPriorityStrategy",["oz-player/shims/OzEventEmitter","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/ozThrottle","oz-player/utils/OzBufferingUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=6,i=1e3;a=function(a){function b(b,d){var e;e=a.call(this)||this;e.$OzBufferAheadPriorityStrategy$p_3=new(c("oz-player/shims/OzSubscriptionsHandler"))();e.$OzBufferAheadPriorityStrategy$p_5=function(){e.emit("state_changed")};e.$OzBufferAheadPriorityStrategy$p_4=b;e.$OzBufferAheadPriorityStrategy$p_1=d;e.$OzBufferAheadPriorityStrategy$p_3.addSubscriptions(e.$OzBufferAheadPriorityStrategy$p_1.addEventListener("progress",c("oz-player/shims/ozThrottle")(e.$OzBufferAheadPriorityStrategy$p_5,i)),e.$OzBufferAheadPriorityStrategy$p_1.addEventListener("timeupdate",c("oz-player/shims/ozThrottle")(e.$OzBufferAheadPriorityStrategy$p_5,i)));return e}babelHelpers.inheritsLoose(b,a);var e=b.prototype;e.getName=function(){return"buffer_ahead"};e.setSourceBufferState=function(a){if(this.$OzBufferAheadPriorityStrategy$p_2)return;this.$OzBufferAheadPriorityStrategy$p_2=a;this.$OzBufferAheadPriorityStrategy$p_3.addSubscriptions(a.addEventListener("buffer_updated",c("oz-player/shims/ozThrottle")(this.$OzBufferAheadPriorityStrategy$p_5,i)))};e.isActive=function(){return!0};e.getPriority=function(){var a=this.$OzBufferAheadPriorityStrategy$p_2;if(!a)return 1;var b=this.$OzBufferAheadPriorityStrategy$p_1.getCurrentTime();a=a.getBufferedRanges();b=d("oz-player/utils/OzBufferingUtils").getBufferAheadFromCurrentTime(b,a);return b>=h?0:1};e.destroy=function(){this.$OzBufferAheadPriorityStrategy$p_3.release()};return b}(c("oz-player/shims/OzEventEmitter"));g["default"]=a}),98);
__d("oz-player/strategies/OzBufferAheadTargetStrategy",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a}var b=a.prototype;b.isActive=function(){return!0};b.getBufferTarget=function(){return this.$1.getNumber("buffer_ahead_target")};return a}();f["default"]=a}),66);
__d("oz-player/strategies/OzBufferEndLimitStrategy",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.$1=a,this.$2=b}var b=a.prototype;b.isActive=function(){return!0};b.getBufferTarget=function(){var a=this.$3();return this.$2>=a?this.$2-a:0};b.$3=function(){return this.$1.buffered.length===0?0:this.$1.buffered.end(0)};return a}();f["default"]=a}),66);
__d("oz-player/strategies/OzBufferTargetBoundedStreamSegmentsCountStrategy",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.$1=a,this.$2=b}var b=a.prototype;b.isActive=function(a){return!a.isPlaying()};b.getSegmentsCount=function(a,b,c){a=a.getCurrentTime();var d=this.$1.computeBufferTarget(),e=1,f=b;b=b.getTimeRange().startTime;while(f!==null&&b<d+a){f=c.getSegmentAfter(f);if(!f)break;b=f.getTimeRange().startTime;e++}return e};return a}();f["default"]=a}),66);
__d("oz-player/strategies/OzBufferTargetCalculator",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.$1=0,this.$2=a,this.$3=b}var b=a.prototype;b.computeBufferTarget=function(){var a=this.$1;for(var b of this.$2)if(b.isActive()){a=b.getBufferTarget();break}for(b of this.$3)a=b.adjustBufferTargetInSeconds(a);this.$1=a;return a};b.handleEvent=function(a){for(var b of this.$3)b.handleEvent(a)};return a}();f["default"]=a}),66);
__d("oz-player/strategies/OzBufferTargetCalculatorQuotaExceededConstraint",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){var b=a.config;a=a.minimumBufferTargetSec;this.$2=1;this.$1=b;this.$3=a}var b=a.prototype;b.adjustBufferTargetInSeconds=function(a){var b;return Math.max((b=this.$3)!=null?b:this.$1.getNumber("buffer_target_constraint_minimum_sec"),a*this.$2)};b.handleEvent=function(a){var b=this.$2;switch(a){case"append_succeeded":b=Math.max(0,Math.min(1,b+this.$1.getNumber("buffer_target_constraint_append_succeeded_reward")));break;case"append_quota_exceeded":b=Math.max(0,Math.min(1,b-this.$1.getNumber("buffer_target_constraint_quota_exceeded_penalty")));break;default:a}this.$2=b};return a}();f["default"]=a}),66);
__d("oz-player/strategies/OzPausedStreamSegmentsCountStrategy",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.$1=a,this.$2=b}var b=a.prototype;b.isActive=function(){return!this.$1.isPlaying()};b.getSegmentsCount=function(a,b,c){return this.$2.getNumber("paused_stream_segments_count")};return a}();f["default"]=a}),66);
__d("oz-player/strategies/OzPlayheadAtInterruptionDetector",["oz-player/shims/OzDOMEventListener","oz-player/shims/OzEventEmitter","oz-player/shims/OzSubscriptionsHandler"],(function(a,b,c,d,e,f,g){"use strict";var h=1;a=function(a){function b(b,d){var e;e=a.call(this)||this;e.$OzPlayheadAtInterruptionDetector$p_2=null;e.$OzPlayheadAtInterruptionDetector$p_3=new(c("oz-player/shims/OzSubscriptionsHandler"))();e.$OzPlayheadAtInterruptionDetector$p_4=null;e.$OzPlayheadAtInterruptionDetector$p_1=b;b=d?d.addListener("enterBuffering",function(){e.$OzPlayheadAtInterruptionDetector$p_5()}):c("oz-player/shims/OzDOMEventListener").listenDOMEvent(e.$OzPlayheadAtInterruptionDetector$p_1,"waiting",function(){e.$OzPlayheadAtInterruptionDetector$p_5()});e.$OzPlayheadAtInterruptionDetector$p_3.addSubscriptions(b);e.$OzPlayheadAtInterruptionDetector$p_4=d;return e}babelHelpers.inheritsLoose(b,a);var d=b.prototype;d.notifyStreamInterrupted=function(a){this.$OzPlayheadAtInterruptionDetector$p_2=a,this.$OzPlayheadAtInterruptionDetector$p_5()};d.notifyStreamResumed=function(){this.$OzPlayheadAtInterruptionDetector$p_2=null};d.$OzPlayheadAtInterruptionDetector$p_5=function(){if(this.$OzPlayheadAtInterruptionDetector$p_2!=null){var a=this.$OzPlayheadAtInterruptionDetector$p_2||0;Math.abs(this.$OzPlayheadAtInterruptionDetector$p_1.currentTime-a)<h&&this.emit("playheadAtInterruption",a)}};d.destroy=function(){this.$OzPlayheadAtInterruptionDetector$p_3.release(),this.$OzPlayheadAtInterruptionDetector$p_4=null};return b}(c("oz-player/shims/OzEventEmitter"));g["default"]=a}),98);
__d("oz-player/strategies/OzPlayingStatePriorityStrategy",["oz-player/shims/OzEventEmitter","oz-player/shims/OzSubscriptionsHandler"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){function b(b){var d;d=a.call(this)||this;d.$OzPlayingStatePriorityStrategy$p_1=new(c("oz-player/shims/OzSubscriptionsHandler"))();d.$OzPlayingStatePriorityStrategy$p_3=function(){d.emit("state_changed")};d.$OzPlayingStatePriorityStrategy$p_2=b;d.$OzPlayingStatePriorityStrategy$p_1.addSubscriptions(d.$OzPlayingStatePriorityStrategy$p_2.addEventListener("playing",d.$OzPlayingStatePriorityStrategy$p_3),d.$OzPlayingStatePriorityStrategy$p_2.addEventListener("play",d.$OzPlayingStatePriorityStrategy$p_3),d.$OzPlayingStatePriorityStrategy$p_2.addEventListener("pause",d.$OzPlayingStatePriorityStrategy$p_3));return d}babelHelpers.inheritsLoose(b,a);var d=b.prototype;d.isActive=function(){return!0};d.getName=function(){return"playing_state"};d.setSourceBufferState=function(a){};d.getPriority=function(){return this.$OzPlayingStatePriorityStrategy$p_2.isPlaying()?1:0};d.destroy=function(){this.$OzPlayingStatePriorityStrategy$p_1.release()};return b}(c("oz-player/shims/OzEventEmitter"));g["default"]=a}),98);
__d("oz-player/strategies/OzPositionToViewportPriorityStrategy",["oz-player/shims/OzEventEmitter","oz-player/shims/OzSubscriptionsHandler"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){function b(b,d){var e;e=a.call(this)||this;e.$OzPositionToViewportPriorityStrategy$p_3=new(c("oz-player/shims/OzSubscriptionsHandler"))();e.$OzPositionToViewportPriorityStrategy$p_4=function(){e.emit("state_changed")};e.$OzPositionToViewportPriorityStrategy$p_2=b;e.$OzPositionToViewportPriorityStrategy$p_1=d;e.$OzPositionToViewportPriorityStrategy$p_3.addSubscriptions(b.addListener("state_changed",e.$OzPositionToViewportPriorityStrategy$p_4));return e}babelHelpers.inheritsLoose(b,a);var d=b.prototype;d.isActive=function(){return!0};d.getName=function(){return"position_to_viewport"};d.setSourceBufferState=function(a){};d.getPriority=function(){var a=this.$OzPositionToViewportPriorityStrategy$p_1.getNumber("prioritize_by_viewport_static_penalty"),b=this.$OzPositionToViewportPriorityStrategy$p_2.getPositionIndexOfVideoFromViewportVertically();return a>0?b===-1?a*-1:0:b===-1?-Infinity:-1*b};d.destroy=function(){this.$OzPositionToViewportPriorityStrategy$p_3.release()};return b}(c("oz-player/shims/OzEventEmitter"));g["default"]=a}),98);
__d("oz-player/strategies/OzPriorityCalculator",["oz-player/shims/OzEventEmitter","oz-player/shims/OzSubscriptionsHandler"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){function b(b){var d;d=a.call(this)||this;d.$OzPriorityCalculator$p_2=new(c("oz-player/shims/OzSubscriptionsHandler"))();d.$OzPriorityCalculator$p_1=b;(b=d.$OzPriorityCalculator$p_2).addSubscriptions.apply(b,d.$OzPriorityCalculator$p_1.map(function(a){return a.addListener("state_changed",function(){d.emit("state_changed",d.compute(),a.getName())})}));return d}babelHelpers.inheritsLoose(b,a);var d=b.prototype;d.setSourceBufferState=function(a){this.$OzPriorityCalculator$p_1.forEach(function(b){return b.setSourceBufferState(a)}),this.emit("state_changed",this.compute(),"source_buffer")};d.compute=function(){var a=this.$OzPriorityCalculator$p_1.reduce(function(a,b){b=b.isActive()?b.getPriority():0;return a+b},0);return Math.max(a,0)};d.destroy=function(){this.$OzPriorityCalculator$p_2.release()};return b}(c("oz-player/shims/OzEventEmitter"));g["default"]=a}),98);
__d("oz-player/strategies/OzSingleCodecRestriction",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){}var b=a.prototype;b.applyRestriction=function(a){if(a.length<=0)return a.slice();var b=new Set(a.map(function(a){return g(a)})),c="av01",d=b.has(c)?c:b.values().next().value;return d==null?a.slice():a.filter(function(a){return g(a)===d})};return a}();function g(a){return a.getMimeCodecs().replace(/\..*$/,"")}f["default"]=a}),66);
__d("oz-player/strategies/OzStaleManifestBufferTargetStrategy",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.$1=b,this.$2=a}var b=a.prototype;b.isActive=function(){return this.$2.getRefreshDate()==null&&this.$1.getNumber("stale_mpd_buffer_ahead_target")>0};b.getBufferTarget=function(){return this.$1.getNumber("stale_mpd_buffer_ahead_target")};return a}();f["default"]=a}),66);
__d("oz-player/strategies/OzStartupBufferTargetStrategy",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.$1=a,this.$3=b}var b=a.prototype;b.isActive=function(){var a=this.$1.isPlaying();a&&(this.$2=!0);return!this.$2};b.getBufferTarget=function(){return this.$3.getNumber("pre_start_buffer_ahead_target")};return a}();f["default"]=a}),66);
__d("oz-player/strategies/OzStreamSegmentsCountCalculator",[],(function(a,b,c,d,e,f){"use strict";var g=1;a=function(){function a(a){this.$1=a}var b=a.prototype;b.computeMin=function(a,b,c){var d=Number.MAX_VALUE;for(var e of this.$1)e.isActive(a)&&(d=Math.min(d,e.getSegmentsCount(a,b,c)));return d===Number.MAX_VALUE?g:Math.max(d,g)};return a}();f["default"]=a}),66);
__d("oz-player/strategies/OzSupportedMimeCodecsRestriction",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a}var b=a.prototype;b.applyRestriction=function(a){var b=this;return a.filter(function(a){a=b.$1?ManagedMediaSource.isTypeSupported(a.getMimeCodecs()):MediaSource.isTypeSupported(a.getMimeCodecs());return!!a})};return a}();f["default"]=a}),66);
__d("oz-player/streams/OzEndOfStreamWatcher",["oz-player/shims/OzEventEmitter","oz-player/shims/ozvariant"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){function b(b,c){var d;d=a.call(this)||this;d.$OzEndOfStreamWatcher$p_1=new Map();d.$OzEndOfStreamWatcher$p_4=!1;d.$OzEndOfStreamWatcher$p_2=b;d.$OzEndOfStreamWatcher$p_3=c;return d}babelHelpers.inheritsLoose(b,a);var d=b.prototype;d.registerMediaStream=function(a){this.$OzEndOfStreamWatcher$p_1.has(a)&&c("oz-player/shims/ozvariant")(0,5191),this.$OzEndOfStreamWatcher$p_1.set(a,!1)};d.notifyRepresentationSwitched=function(a){this.$OzEndOfStreamWatcher$p_1.has(a)||c("oz-player/shims/ozvariant")(0,5192),this.$OzEndOfStreamWatcher$p_1.get(a)===!0&&this.$OzEndOfStreamWatcher$p_1.set(a,!1),this.$OzEndOfStreamWatcher$p_5("end_of_stream_watcher","representation_switched")};d.notifyMediaStreamEnded=function(a,b){this.$OzEndOfStreamWatcher$p_1.has(a)||c("oz-player/shims/ozvariant")(0,5192),this.$OzEndOfStreamWatcher$p_1.set(a,!0),this.$OzEndOfStreamWatcher$p_5("end_of_stream_watcher","media_stream_ended:"+b)};d.$OzEndOfStreamWatcher$p_5=function(a,b){var c=this;if(this.$OzEndOfStreamWatcher$p_3.getBool("do_not_end_stream")){!this.$OzEndOfStreamWatcher$p_4&&this.$OzEndOfStreamWatcher$p_6()&&(this.$OzEndOfStreamWatcher$p_4=!0,this.emit("streamEnd"));return}var d=this.$OzEndOfStreamWatcher$p_2.getReadyState();d==="open"&&this.$OzEndOfStreamWatcher$p_6()&&this.$OzEndOfStreamWatcher$p_2.notifyEndOfStream(a,b).then(function(){c.emit("streamEnd")})["catch"](function(){c.emit("streamEnd")})};d.$OzEndOfStreamWatcher$p_6=function(){if(this.$OzEndOfStreamWatcher$p_1.size===0)return!1;for(var a of this.$OzEndOfStreamWatcher$p_1.values())if(!a)return!1;return!0};d.destroy=function(){this.$OzEndOfStreamWatcher$p_1.clear()};return b}(c("oz-player/shims/OzEventEmitter"));g["default"]=a}),98);
__d("oz-player/streams/OzHandleUserRepresentationSwitch",["oz-player/shims/OzSubscriptionsHandler","oz-player/shims/ozReportUnexpectedError","oz-player/utils/OzErrorEmitter"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,d,e,f,g){var h=this;this.$2=new(c("oz-player/utils/OzErrorEmitter"))();this.$5=null;this.$6=new(c("oz-player/shims/OzSubscriptionsHandler"))();this.$1=a;this.$3=b;this.$4=d;this.$7=e;this.$8=g;f.then(function(a){h.$5=a},function(){})["catch"](function(a){c("oz-player/shims/ozReportUnexpectedError")(a,"OzHandleUserRepresentationSwitch SBM promise then - create")});this.$6.addSubscriptions(e.addListener("switchRepresentation",function(a,b){h.$9(a,b)}))}var b=a.prototype;b.destroy=function(){this.$6.release(),this.$6.engage()};b.onError=function(a){return this.$2.onError(a)};b.$9=function(a,b){if(a!=="user")return;a=this.$5;if(a==null)return;var d=this.$7.getRepresentationIDAtTime(this.$3.getCurrentTime()),e;for(var f=0;f<this.$4.length;f++)this.$4[f].getID()===d&&(e=this.$4[f]);if(e&&b&&(this.$8||e.getBandwidth()<b.getBandwidth())){d=e.getSegmentByTime(this.$3.getCurrentTime());d&&a.clearRangeWithWait([{fromTime:this.$3.getCurrentTime(),toTime:this.$3.getDuration()}])["catch"](function(a){c("oz-player/shims/ozReportUnexpectedError")(a,"OzHandleUserRepresentationSwitch clearRangeWithWait catch")})}};return a}();g["default"]=a}),98);
__d("oz-player/manifests/IOzSegment",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return((a==null?void 0:a.getSequenceNumber())||0)===((b==null?void 0:b.getSequenceNumber())||0)}function b(a,b){return((a==null?void 0:a.getSequenceNumber())||0)>=((b==null?void 0:b.getSequenceNumber())||0)}f.isSequenceNumberEqual=a;f.isSequenceNumberGreaterOrEqual=b}),66);
__d("oz-player/networks/OzReadableStreamDataReader",["oz-player/networks/OzTransformStream","oz-player/utils/ozConcatUint8Arrays"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){function b(b,c){var d;c===void 0&&(c=null);d=a.call(this)||this;d.$OzReadableStreamDataReader$p_1=[];d.$OzReadableStreamDataReader$p_3=Infinity;d.$OzReadableStreamDataReader$p_4=0;d.$OzReadableStreamDataReader$p_2=b;if(c!=null){b=c.getNumber("stream_reader_max_buffer_len");d.$OzReadableStreamDataReader$p_3=b>0?b:Infinity}return d}babelHelpers.inheritsLoose(b,a);var d=b.prototype;d.onDataWritten=function(a){if(this.$OzReadableStreamDataReader$p_4+a.byteLength>=this.$OzReadableStreamDataReader$p_3){var b=c("oz-player/utils/ozConcatUint8Arrays")(this.$OzReadableStreamDataReader$p_1);b=b.buffer;this.$OzReadableStreamDataReader$p_2(b);this.$OzReadableStreamDataReader$p_1.length=0;this.$OzReadableStreamDataReader$p_4=0}this.$OzReadableStreamDataReader$p_1.push(a);this.$OzReadableStreamDataReader$p_4+=a.byteLength};d.onClose=function(){var a=this.$OzReadableStreamDataReader$p_1,b=c("oz-player/utils/ozConcatUint8Arrays")(a);b=b.buffer;a.length=0;this.$OzReadableStreamDataReader$p_4=0;this.$OzReadableStreamDataReader$p_2(b)};return b}(c("oz-player/networks/OzTransformStream"));g["default"]=a}),98);
__d("oz-player/networks/OzStreamingTask",["oz-player/loggings/OzLoggingUtils","oz-player/shims/OzDeferred","oz-player/shims/OzMaybeNativePromise","oz-player/shims/OzPerformance","oz-player/utils/OzErrorUtils","oz-player/utils/OzNetworkRequestLoggingUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,d){this.$3=new(c("oz-player/shims/OzDeferred"))(c("oz-player/shims/OzMaybeNativePromise")),this.$5=!1,this.$9=null,this.$1=this.$2=new(c("oz-player/shims/OzDeferred"))(c("oz-player/shims/OzMaybeNativePromise")),this.$6=c("oz-player/shims/OzPerformance").now(),this.$7=b,this.$8=a,this.$9=d}var b=a.prototype;b.run=function(){var a=this.$3.getPromise(),b=this.$7;if(b){var e=c("oz-player/shims/OzPerformance").now()-this.$6;d("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation(a,b,"streaming_task",function(){},function(a){a.setTimeToRequestSent(Math.floor(e))})}this.$2.resolve();return a};b.getPromise=function(){return this.$3.getPromise()};b.cancel=function(){this.$3.getPromise()["catch"](function(){}),this.$3.reject(d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_STREAMING_TASK",description:"task cancelled",extra:{code:"OZ_ST-1"}})),this.$5=!0};b.finish=function(){this.$3.resolve()};b.isCancelled=function(){return this.$5};b.addStreamDeferred=function(a,b){var d=new(c("oz-player/shims/OzDeferred"))(c("oz-player/shims/OzMaybeNativePromise")),e=new(c("oz-player/shims/OzDeferred"))(c("oz-player/shims/OzMaybeNativePromise"));this.$10({createStreamResult:a,changeStatusDeferred:d,createStreamDeferred:e,loggerProviderWithStreamContext:b});b=function(){return e.getPromise()};return{genStream:b,cancel:function(){if(a){var b=a.pausableStream;return b.pauseStream()}},getStatusChangePromise:function(){return d.getPromise()}}};b.$10=function(a){var b=this,e=a.createStreamResult,f=a.changeStatusDeferred,g=a.createStreamDeferred,h=a.loggerProviderWithStreamContext,i=a.loggingPayloads;a=this.$1.getPromise();var j=c("oz-player/shims/OzPerformance").now(),k=this.$1=new(c("oz-player/shims/OzDeferred"))(c("oz-player/shims/OzMaybeNativePromise"));k.getPromise()["catch"](function(){});a.then(function(){if(e){var a=e.pausableStream;e.loggingPayloads&&(i=e.loggingPayloads);g.resolve(a.getStream());b.$4=a;var f=c("oz-player/shims/OzPerformance").now(),k=b.$11(a.startStream());if(h){var l=function(c){var e=i;if(e){d("oz-player/utils/OzNetworkRequestLoggingUtils").setFetchStreamLoggingAttributes(c,e.getRequestUrl(),e.segments,f-j,a.getBytesStreamed(),e.getResponse());var g=b.$9;g&&g(c,e.getRequestUrl(),e.getResponse())}};d("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation(k,h,"fetch_stream",l,l)}return k}return null}).then(function(a){b.$4=null,k.resolve(),f.resolve(a||"cancelled")})["catch"](function(a){b.$4=null,b.$3.reject(a),k.reject(a),f.reject(a)})};b.$11=function(a){return a.then(function(a){a=a.statusPromise;return a.then(function(a){return a==="stream_done"?"done":"error"})})};return a}();g["default"]=a}),98);
__d("oz-player/scheduling/OzRoundRobinPriorityTaskQueue",["oz-player/shims/ozReportUnexpectedError"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b){b===void 0&&(b=-1),this.$3=function(){},this.$4=[],this.$5=new Map(),this.$1=a,this.$2=b}var b=a.prototype;b.getHighestPriority=function(){return Math.max.apply(Math,this.$4.map(function(a){return a.queue.length?a.priority:-Infinity}))};b.enqueue=function(a,b){var d=this;b=b;b=this.$6(b);var e=this.$5.get(a);if(e===b)return;this.$5.has(a)&&this.remove(a);e=this.$7(b);var f=this.$4[e];f&&f.priority===b||(f={priority:b,queue:[]},this.$4.splice(e,0,f));this.$5.set(a,b);f.queue.push(a);a.getPromise().then(function(){d.remove(a)},function(){d.remove(a)})["catch"](function(a){c("oz-player/shims/ozReportUnexpectedError")(a,"OzRoundRobinPriorityTaskQueue remove after task run")});this.$3(a,b>=this.$1?"immediate":"normal")};b.updatePriority=function(a,b){if(!this.$5.has(a))return;this.enqueue(a,b)};b.dequeue=function(){for(var a=0;a<this.$4.length;a++){var b=this.$4[a];if(b.queue.length){b=b.queue.shift();this.$5["delete"](b);return b}}return null};b.remove=function(a){var b=this.$5.get(a);if(b!==void 0){b=this.$7(b);b=this.$4[b];if(b&&b.queue){var c=b.queue.findIndex(function(b){return b===a});c>-1&&b.queue.splice(c,1)}this.$5["delete"](a)}};b.setOnTaskUpdated=function(a){this.$3=a};b.clearOnTaskUpdated=function(){this.setOnTaskUpdated(function(){})};b.getLength=function(){return this.$5.size};b.test_isEmpty=function(){return this.$5.size===0&&this.$4.every(function(a){return a.queue.length===0})};b.$7=function(a){a=a;a=this.$6(a);var b;for(b=0;b<this.$4.length;b++)if(a>=this.$4[b].priority)return b;return b};b.$6=function(a){a=a;this.$2>=0&&(a=Number.parseFloat(a.toFixed(this.$2)));return a};return a}();g["default"]=a}),98);
__d("oz-player/scheduling/OzSequentialTaskScheduler",["oz-player/shims/OzMaybeNativePromise","oz-player/shims/ozReportUnexpectedError","oz-player/shims/ozSetTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b){this.$3=0;this.$1=a;a=b||{};b=a.taskTimeout;this.$4=b||0}var b=a.prototype;b.start=function(){this.$1.setOnTaskUpdated(this.$5.bind(this));var a=this.$1.dequeue();a&&this.$6(a,"immediate")};b.destroy=function(){this.$2&&this.$2.cancel(),this.$1.clearOnTaskUpdated()};b.$5=function(a,b){b=this.$6(a,b);b&&this.$1.remove(a)};b.$6=function(a,b){var d=this;if(this.$2&&b!=="immediate")return!1;this.$2&&this.$2.cancel();b=a.run()["catch"](function(a){});this.$4>0&&(b=c("oz-player/shims/OzMaybeNativePromise").race([b,new(c("oz-player/shims/OzMaybeNativePromise"))(function(a,b){c("oz-player/shims/ozSetTimeoutAcrossTransitions")(a,d.$4)})]));this.$3++;this.$2=a;b=b.then(function(){d.$3--;d.$2===a&&(d.$2=null);if(d.$3===0){var b=d.$1.dequeue();b&&d.$6(b,"immediate")}});b["catch"](function(a){c("oz-player/shims/ozReportUnexpectedError")(a,"OzSequentialTaskScheduler task complete")});return!0};return a}();g["default"]=a}),98);
__d("oz-player/networks/OzStreamingTaskQueueProvider",["oz-player/scheduling/OzRoundRobinPriorityTaskQueue","oz-player/scheduling/OzSequentialTaskScheduler"],(function(a,b,c,d,e,f,g){"use strict";var h=new Map(),i=new Map(),j=2,k=2,l=6e4;function a(a){var b=h.get(a);if(!b){b=new(c("oz-player/scheduling/OzRoundRobinPriorityTaskQueue"))(j,k);var d=new(c("oz-player/scheduling/OzSequentialTaskScheduler"))(b,{taskTimeout:l});h.set(a,b);i.set(a,d);d.start()}return b}g.OZ_QUEUE_MAX_PRIORITY=j;g.getQueue=a}),98);
__d("oz-player/networks/OzStreamingTaskStateManager",["Promise","oz-player/networks/OzStreamingTask","oz-player/networks/OzStreamingTaskQueueProvider","oz-player/networks/getOzBandwidthEstimatorPipeThroughReporter","oz-player/shims/OzSubscriptionsHandler"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a){var b=this;this.$3=new(c("oz-player/shims/OzSubscriptionsHandler"))();this.$4=0;this.$9=!1;this.$10=null;var e=a.mimeType,f=a.priorityCalculator,g=a.loggerProvider,h=a.setCustomFetchStreamLoggingAttributes,i=a.config;a=a.bandwidthEstimator;this.$5=e;this.$1=f;this.$6=d("oz-player/networks/OzStreamingTaskQueueProvider").getQueue(this.$5);this.$7=g;this.$8=i;this.$11=a!=null?a:null;this.$10=h;this.$3.addSubscriptions(this.$1.addListener("state_changed",function(a,c){b.$12(a,c),b.$2&&b.$6.updatePriority(b.$2,b.$4)}))}var e=a.prototype;e.$13=function(){var a=[];a.push(c("oz-player/networks/getOzBandwidthEstimatorPipeThroughReporter")(this.$5,this.$11));return a};e.startStreamDeferred=function(a){var b=a.debugName,c=a.segments,d=a.networkManager,e=a.segmentsLoggerProvider,f=a.mediaStreamType,g=a.dataAppendedCallback;a=a.dataAppendedErrorCallback;var h=this.$14(e),i=this.$13();c.length>0?d=d.createPausableStream({debugName:b,segments:c,pipeThroughRangeStreamProviders:i,loggerProvider:e,mediaStreamType:f,dataAppendedCallback:g,dataAppendedErrorCallback:a}):d=null;this.$9=!0;b=h.addStreamDeferred(d,e);return{genStream:b.genStream,cancel:b.cancel,getStatusChangePromise:this.$15(b.getStatusChangePromise)}};e.$14=function(a){var b=this.$2;this.$12(this.$1.compute(),"start_stream");!b||b.isCancelled()?(b=this.$2=new(c("oz-player/networks/OzStreamingTask"))(this.$8,a,this.$10),this.$6.enqueue(b,this.$4)):this.$6.updatePriority(b,this.$4);return b};e.$15=function(a){var c=this;return function(){return a().then(function(a){c.$16();return a})["catch"](function(a){c.$16();return(h||(h=b("Promise"))).reject(a)})}};e.finishTaskIfNoOngoingStream=function(){this.$9||this.$17()};e.destroy=function(){this.$3.release();var a=this.$2;this.$2=null;a&&this.$6.remove(a)};e.$16=function(){this.$9=!1,this.$12(this.$1.compute(),"end_stream"),this.$4<d("oz-player/networks/OzStreamingTaskQueueProvider").OZ_QUEUE_MAX_PRIORITY&&this.$17()};e.$17=function(){this.$2&&(this.$2.finish(),this.$2=null)};e.$12=function(a,b){if(a===this.$4)return;this.$4=a;this.$7&&this.$7.getOperationLogger("priority_changed").setPriorityFloat(this.$4).setInitiator(b).log()};return a}();g["default"]=a}),98);
__d("oz-player/strategies/OzStreamLengthStrategy",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c,d,e){b=b;e=e;var f=a.getNumber("segments_to_stream_under_playhead_threshold");a=a.getNumber("low_segment_stream_playhead_threshold");f>0&&d.getCurrentTime()<a&&(b=f);d=[];d.push(e);for(a=1;a<b;a++){f=c.getSegmentAfter(e);if(!f)break;e=f;d.push(e)}return d}f.getStreamingSegments=a}),66);
__d("oz-player/streams/OzMediaStreamLoopDriver",["oz-player/shims/ozClearTimeout","oz-player/shims/ozSetTimeoutAcrossTransitions","oz-player/utils/OzErrorUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b){var d=this;this.$2=null;this.$3=!1;this.$6=function(){var a;d.$7();if(d.$3)return;(a=d.$5)==null||a.start();a=d.$1.execute();var b=d.$1.getLoopInterval();b&&(d.$2=c("oz-player/shims/ozSetTimeoutAcrossTransitions")(function(){d.$6()},b));a&&a.then(d.$6)["catch"](function(b){d.$7();var a=d.$1.handleError(b);if(a)d.$2=c("oz-player/shims/ozSetTimeoutAcrossTransitions")(d.$6,a);else{(a=d.$5)==null||a.setError(b);(a=d.$5)==null||a.log();d.$5=null;d.$3=!0}})};this.$1=a;this.$4=b}var b=a.prototype;b.start=function(){if(this.$3)throw d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_NOT_IMPLEMENTED_ERROR",description:"restart is not implemented"});this.$5=this.$4.getOperationLogger("media_stream").start();this.$6()};b.stop=function(){var a;this.$7();this.$3=!0;(a=this.$5)==null||a.log();this.$5=null};b.$7=function(){this.$2&&(c("oz-player/shims/ozClearTimeout")(this.$2),this.$2=null)};return a}();g["default"]=a}),98);
__d("oz-player/utils/OzRangeUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){b=b.filter(function(b){return b.startTime<=a&&b.endTime>=a});return b!=null&&b.length>0?b[0]:null}f.getRangeForTime=a}),66);
__d("oz-player/streams/OzSegmentLocator",["oz-player/utils/OzNumericalRangeUtil","oz-player/utils/OzRangeUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=a.getEndingSegment();return a!=null&&a.getSequenceNumber()!=null?a.getSequenceNumber():0}var h=function(a,b){a=a.getCurrentTime();return b?d("oz-player/utils/OzRangeUtils").getRangeForTime(a,b.getBufferedRanges()):null},i=function(a,b,c){b=h(a,b);c=c?c.getTimeRange().endTime:0;a=a.getCurrentTime()||0;c?a=c:b&&(a=b.endTime);return a};b=function(a,b,c,e,f,g,h,j){h=a.getPredictedSegmentAfter(g);if(h&&b.isPlaying())return h;j=i(b,e,g);h=f.getTimeRanges();e=d("oz-player/utils/OzNumericalRangeUtil").findDiffCoveredByRanges(b.getCurrentTime(),j,h.map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}));if(e>c)return null;g=a.getSegment(0);g&&g.getTimeRange().startTime>j&&(j=g.getTimeRange().startTime);return a.getSegmentByTime(j)};g.getEndingSequenceNumber=a;g.getTimeToQuery=i;g.getSegment=b}),98);
__d("oz-player/streams/OzSegmentUtils",["oz-player/manifests/OzSegmentOptions","oz-player/shims/OzURI"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a.reduce(function(a,b){var c;return((c=b==null?void 0:b.getSequenceNumber())!=null?c:0)>((c=a==null?void 0:a.getSequenceNumber())!=null?c:0)?b:a})}function b(a,b){var d=new(c("oz-player/manifests/OzSegmentOptions"))();return a.getPredictedSegmentAfter({getData:function(){return null},getByteRange:function(){return null},getSequenceNumber:function(){return b-1},getTimeRange:function(){return{endTime:0,startTime:0}},getURI:function(){return new(c("oz-player/shims/OzURI"))("")},getOptions:function(){return d}})}function d(a){a.getOptions().setSegmentNumDecisionTime(Date.now());return a}g.getMaxSegment=a;g.getSegmentForSequenceNumber=b;g.markSegmentCreateTime=d}),98);
__d("oz-player/utils/OzTaggedTimeRanges",[],(function(a,b,c,d,e,f){a=function(){function a(a){this.$1=[],this.$2=0,this.$3=0,this.$4=a?a:function(a,b){return a===b}}var b=a.prototype;b.add=function(a,b,c){if(b<a)return;if(b===a)return;if(this.$1.length===0){this.$1.push({startTime:a,endTime:b,tag:c});return}var d=0,e=0;for(var f=0;f<this.$1.length;f++){if(a===this.$1[f].startTime&&b===this.$1[f].endTime){d=f;e=f+1;break}a>=this.$1[f].startTime&&(d=f+1);b<=this.$1[f].endTime&&(e=f);if(b<this.$1[f].startTime)break}this.$1.splice(d,e-d,{startTime:a,endTime:b,tag:c});this.$5(d)};b.$5=function(a){a=a;var b=this.$1[a],c=null;a!==0&&(c=this.$1[a-1]);c!==null&&(this.$4(c.tag,b.tag)?c.endTime>=b.startTime&&(this.$1.splice(a-1,2,{startTime:c.startTime,endTime:Math.max(b.endTime,c.endTime),tag:b.tag}),a--):(c.endTime>b.startTime&&c.startTime===b.startTime?(this.$1.splice(a-1,1),a--):c.endTime>b.startTime&&this.$1.splice(a-1,1,{startTime:c.startTime,endTime:b.startTime,tag:c.tag}),c.endTime>b.endTime&&this.$1.splice(a+1,0,{startTime:b.endTime,endTime:c.endTime,tag:c.tag})));c=null;a!==this.$1.length-1&&(c=this.$1[a+1]);c&&(this.$4(c.tag,b.tag)?c.startTime<=b.endTime&&this.$1.splice(a,2,{startTime:b.startTime,endTime:Math.max(c.endTime,b.endTime),tag:b.tag}):c.startTime<=b.endTime&&(c.endTime<b.endTime?(this.$1.splice(a,1,{startTime:b.startTime,endTime:c.startTime,tag:b.tag}),this.$1.push({startTime:c.endTime,endTime:b.endTime,tag:b.tag})):this.$1.splice(a+1,1,{startTime:b.endTime,endTime:c.endTime,tag:c.tag})))};b.get=function(a){var b=a>=this.$3?this.$2:0,c=null;for(b=b;b<this.$1.length;b++)if(this.$1[b].startTime<=a&&a<this.$1[b].endTime){c=b;break}this.$2=c===null?0:c;this.$3=a;return c===null?null:this.$1[c].tag};b.getLength=function(){return this.$1.length};return a}();f["default"]=a}),66);
__d("oz-player/streams/OzMediaStream",["oz-player/manifests/IOzSegment","oz-player/networks/OzNetworkManager","oz-player/networks/OzReadableStreamDataReader","oz-player/networks/OzStreamingTaskStateManager","oz-player/networks/getOzBandwidthEstimatorPipeThroughReporter","oz-player/shims/OzDeferred","oz-player/shims/OzEventEmitter","oz-player/shims/OzMaybeNativePromise","oz-player/shims/OzNetworkDiagnostics","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/ozClearTimeout","oz-player/shims/ozReportUnexpectedError","oz-player/shims/ozSetTimeoutAcrossTransitions","oz-player/shims/ozvariant","oz-player/strategies/OzStreamLengthStrategy","oz-player/streams/OzMediaStreamLoopDriver","oz-player/streams/OzSegmentLocator","oz-player/streams/OzSegmentUtils","oz-player/utils/OzBufferingUtils","oz-player/utils/OzCustomErrorCode","oz-player/utils/OzErrorEmitter","oz-player/utils/OzErrorUtils","oz-player/utils/OzMimeUtil","oz-player/utils/OzTaggedTimeRanges"],(function(a,b,c,d,e,f,g){"use strict";var h=1e3,i=.2,j={AUDIO:1,CAPTION:3,VIDEO:0};a=function(a){function b(b){var e;e=a.call(this)||this;e.$OzMediaStream$p_2=0;e.$OzMediaStream$p_3=0;e.$OzMediaStream$p_4=null;e.$OzMediaStream$p_13=null;e.$OzMediaStream$p_15=!1;e.$OzMediaStream$p_16=null;e.$OzMediaStream$p_17=new(c("oz-player/shims/OzSubscriptionsHandler"))();e.$OzMediaStream$p_19=[];e.$OzMediaStream$p_22=0;e.$OzMediaStream$p_29=!0;e.$OzMediaStream$p_31=!1;e.$OzMediaStream$p_32=null;e.$OzMediaStream$p_33=new(c("oz-player/utils/OzErrorEmitter"))();e.$OzMediaStream$p_35=!0;e.$OzMediaStream$p_38=0;e.$OzMediaStream$p_39=null;e.$OzMediaStream$p_40=null;var f=b.config,g=b.sourceBufferManagerPromise,h=b.networkManager,i=b.playbackState,j=b.endOfStreamWatcher,k=b.bufferTargetCalculator,l=b.priorityCalculator,m=b.streamSegmentsCountCalculator,n=b.abrManager,o=b.representation,p=b.loggerProvider,q=b.segmentLocator,r=b.setCustomFetchStreamLoggingAttributes,s=b.blockedRepresentationsManager,t=b.dynamicVideoLibrary,u=b.shouldAppendOncePerStream,v=b.mediaStreamType,w=b.warningEmitter;b=b.mpd;e.$OzMediaStream$p_1=f;e.$OzMediaStream$p_5=g;e.$OzMediaStream$p_5.then(function(a){e.$OzMediaStream$p_6=a,e.$OzMediaStream$p_16&&e.$OzMediaStream$p_16.setSourceBuffer(a),e.$OzMediaStream$p_27.setSourceBufferState(a.getSourceBufferState()),e.$OzMediaStream$p_47()},function(){})["catch"](function(a){c("oz-player/shims/ozReportUnexpectedError")(a,"OzMediaStream SBM promise then - create")});e.$OzMediaStream$p_12=h;e.$OzMediaStream$p_7=i;e.$OzMediaStream$p_14=j;(f=e.$OzMediaStream$p_14)==null||f.registerMediaStream(e);e.$OzMediaStream$p_26=k;e.$OzMediaStream$p_27=l;e.$OzMediaStream$p_28=m;e.$OzMediaStream$p_16=n;e.$OzMediaStream$p_18=p.cloneContext();e.$OzMediaStream$p_36=q;e.$OzMediaStream$p_25=new(c("oz-player/utils/OzTaggedTimeRanges"))(function(a,b){return a.id===b.id});e.$OzMediaStream$p_39=r;e.$OzMediaStream$p_40=s;e.$OzMediaStream$p_42=t;e.$OzMediaStream$p_43=u;e.$OzMediaStream$p_44=v;e.$OzMediaStream$p_45=w;e.$OzMediaStream$p_46=b;e.$OzMediaStream$p_17.addSubscriptions(e.$OzMediaStream$p_7.addEventListener("seeking",function(){var a=i.getCurrentTime(),b=null;e.$OzMediaStream$p_1.getBool("ignore_reset_after_seek_if_bufferahead")&&e.$OzMediaStream$p_8.canPredict()&&(e.$OzMediaStream$p_6?d("oz-player/utils/OzBufferingUtils").getBufferAheadFromCurrentTime(a,e.$OzMediaStream$p_6.getSourceBufferState().getBufferedRanges())>0:!1)?b="no_reset_anchor":(b="reset_anchor",e.$OzMediaStream$p_41=Date.now(),e.$OzMediaStream$p_9!=null&&(e.$OzMediaStream$p_48(),e.$OzMediaStream$p_31=!1,e.$OzMediaStream$p_24&&e.$OzMediaStream$p_24.resolve()));e.$OzMediaStream$p_18.cloneContext().getOperationLogger("media_element_event").setInitiator("seeking").setLength(a*1e3).setReason(b).setUserInfo({streamAnchorSegmentNumber:String((a=e.$OzMediaStream$p_9)==null?void 0:a.getSequenceNumber())}).log()}));e.$OzMediaStream$p_40!=null&&e.$OzMediaStream$p_17.addSubscriptions(e.$OzMediaStream$p_40.onRepresentationBlocked(function(a){return e.$OzMediaStream$p_49(a)}));e.$OzMediaStream$p_21=d("oz-player/utils/OzMimeUtil").getMimeType(o.getMimeCodecs());e.$OzMediaStream$p_30=new(c("oz-player/networks/OzStreamingTaskStateManager"))({mimeType:e.$OzMediaStream$p_21,priorityCalculator:e.$OzMediaStream$p_27,loggerProvider:e.$OzMediaStream$p_18,setCustomFetchStreamLoggingAttributes:e.$OzMediaStream$p_39,config:e.$OzMediaStream$p_1,bandwidthEstimator:e.$OzMediaStream$p_12.getBandwidthEstimator()});e.$OzMediaStream$p_23=new(c("oz-player/streams/OzMediaStreamLoopDriver"))(e,e.$OzMediaStream$p_18);e.$OzMediaStream$p_50(o);return e}babelHelpers.inheritsLoose(b,a);var e=b.prototype;e.start=function(){this.$OzMediaStream$p_23.start()};e.getCurrentRepresentation=function(){return this.$OzMediaStream$p_8};e.switchRepresentation=function(a,b){b===void 0&&(b=null),this.$OzMediaStream$p_50(a,"user",b)};e.onError=function(a){return this.$OzMediaStream$p_33.onError(a)};e.updateRunTimeConfigs=function(a){var b=a.streamDataHandler;a=a.resetStreamAnchor;b!==void 0&&(this.$OzMediaStream$p_34=b);a===!0&&this.$OzMediaStream$p_8.canApproximateId()&&(this.$OzMediaStream$p_48(),this.$OzMediaStream$p_10=null)};e.$OzMediaStream$p_50=function(a,b,e){var f=this;b===void 0&&(b="internal");e===void 0&&(e=null);if(a==null){if(this.$OzMediaStream$p_1.getBool("no_rep_to_switch_fallback_progressive")){var g=d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_NO_AVAILABLE_REP_TO_SWITCH",description:"No available representation to switch to because all are blocked"});this.$OzMediaStream$p_33.emitError(g)}return}b==="user"&&this.$OzMediaStream$p_48();(g=this.$OzMediaStream$p_20)==null||g.remove();this.$OzMediaStream$p_20=null;g=this.$OzMediaStream$p_18.cloneContext().setType(this.$OzMediaStream$p_21+";init");var h=g.cloneContext().setRepresentationID(a.getID()),i=a.getInitSegment(),j=i.getData(),k=g.getOperationLogger("stream_switch").setPreviousRepresentationID(this.$OzMediaStream$p_8?this.$OzMediaStream$p_8.getID():null).setInitiator(b).setRepresentationID(a.getID()).setReason(b==="internal"?this.$OzMediaStream$p_16&&this.$OzMediaStream$p_16.getLastEvaluationReason():b).start();this.$OzMediaStream$p_8=a;g=function(){var a;k.log();f.$OzMediaStream$p_26.handleEvent("append_succeeded");f.emit("initAppended");(a=f.$OzMediaStream$p_14)==null||a.notifyRepresentationSwitched(f)};var l=function(b){var c;k.setError(b).log();f.$OzMediaStream$p_51(b);(c=f.$OzMediaStream$p_40)==null||c.handleError(a.getID(),b);if(a.getID()!==f.$OzMediaStream$p_8.getID()){(c=f.$OzMediaStream$p_24)==null||c.resolve()}};if(j==null){i=this.$OzMediaStream$p_12.request({debugName:"OzMediaStream/init/"+this.$OzMediaStream$p_44,segments:[i],pipeThroughRangeStreamProviders:[c("oz-player/networks/getOzBandwidthEstimatorPipeThroughReporter")(this.$OzMediaStream$p_21,this.$OzMediaStream$p_12.getBandwidthEstimator())],loggerProvider:h,requestOptions:null,mediaStreamType:this.$OzMediaStream$p_44,dataAppendedCallback:g,dataAppendedErrorCallback:l});j=i.getStream()}this.emit("switchRepresentation",b,a);this.$OzMediaStream$p_52({data:j,mimeCodecs:a.getMimeCodecs(),clearSourceBufferRange:e,dataAppendedCallback:g,dataAppendedErrorCallback:l,loggerProvider:h.cloneContext(),appendTarget:0});if(e){i=a.getSegmentByTime(e[0]);if(i){b=this.$OzMediaStream$p_12.request({debugName:"OzMediaStream/startingSegment/"+this.$OzMediaStream$p_44,segments:[i],pipeThroughRangeStreamProviders:[c("oz-player/networks/getOzBandwidthEstimatorPipeThroughReporter")(this.$OzMediaStream$p_21,this.$OzMediaStream$p_12.getBandwidthEstimator())],loggerProvider:h,requestOptions:null,mediaStreamType:this.$OzMediaStream$p_44,dataAppendedCallback:g,dataAppendedErrorCallback:l});j=b.getStream();this.$OzMediaStream$p_52({data:j,mimeCodecs:a.getMimeCodecs(),clearSourceBufferRange:null,dataAppendedCallback:g,dataAppendedErrorCallback:l,loggerProvider:h.cloneContext(),appendTarget:1})}}};e.getLoopInterval=function(){return this.$OzMediaStream$p_22};e.execute=function(){var a=this.$OzMediaStream$p_53();if(a){var b=this.$OzMediaStream$p_24=new(c("oz-player/shims/OzDeferred"))(c("oz-player/shims/OzMaybeNativePromise"));a.then(function(){return b.resolve()})["catch"](function(a){return b.reject(a)});return b.getPromise()}return null};e.$OzMediaStream$p_54=function(a){if(this.$OzMediaStream$p_16&&this.$OzMediaStream$p_29&&this.$OzMediaStream$p_15){a=this.$OzMediaStream$p_16.getBestRepresentation(a);if(this.$OzMediaStream$p_8!==a)return a}return null};e.$OzMediaStream$p_55=function(a){var b=this.$OzMediaStream$p_6?this.$OzMediaStream$p_6.getSourceBufferState():null,c=this.$OzMediaStream$p_26.computeBufferTarget();if(c<=0)return null;var e=null;a&&(e=this.$OzMediaStream$p_8.getCustomFieldFirstSegment());if(!e&&this.$OzMediaStream$p_8.canPredict()&&this.$OzMediaStream$p_36!=null){a=this.$OzMediaStream$p_35&&this.$OzMediaStream$p_7.isPlaying();return this.$OzMediaStream$p_36.getSegment(this.$OzMediaStream$p_8,this.$OzMediaStream$p_7,c,b,this.$OzMediaStream$p_9,this.$OzMediaStream$p_10,this.$OzMediaStream$p_1,a,this.$OzMediaStream$p_21)}else{e||(e=d("oz-player/streams/OzSegmentLocator").getSegment(this.$OzMediaStream$p_8,this.$OzMediaStream$p_7,c,b,this.$OzMediaStream$p_8,this.$OzMediaStream$p_9,this.$OzMediaStream$p_1,this.$OzMediaStream$p_32));if(this.$OzMediaStream$p_8.canPredict()){a=this.$OzMediaStream$p_10&&this.$OzMediaStream$p_10.getSequenceNumber()||0;c=e&&e.getSequenceNumber()||0;if(e&&this.$OzMediaStream$p_10&&a>=c){c=d("oz-player/streams/OzSegmentLocator").getEndingSequenceNumber(this.$OzMediaStream$p_8);return(c||0)>=a?this.$OzMediaStream$p_10:null}}}if(!e&&!this.$OzMediaStream$p_56()){c=this.$OzMediaStream$p_8.getEndingSegment();if(c&&this.$OzMediaStream$p_8.isEndingSegment(c)){a=c.getTimeRange().endTime;b=d("oz-player/streams/OzSegmentLocator").getTimeToQuery(this.$OzMediaStream$p_7,b,this.$OzMediaStream$p_9);b>=a&&!this.$OzMediaStream$p_56()&&(e=c)}}return e};e.$OzMediaStream$p_57=function(){return!this.$OzMediaStream$p_15};e.$OzMediaStream$p_58=function(a,b){var e;e=(e=b.fetchSingleSegment)!=null?e:!1;b=(b=b.preventRepresentationSwitch)!=null?b:!1;var f=[];if(e)f=[a];else{e=this.$OzMediaStream$p_28.computeMin(this.$OzMediaStream$p_7,a,this.$OzMediaStream$p_8);f=d("oz-player/strategies/OzStreamLengthStrategy").getStreamingSegments(this.$OzMediaStream$p_1,e,this.$OzMediaStream$p_8,this.$OzMediaStream$p_7,a);f=c("oz-player/networks/OzNetworkManager").getStreamableSegmentsRange(f);if(!b){e=this.$OzMediaStream$p_54(f);if(e){this.$OzMediaStream$p_50(e);a=this.$OzMediaStream$p_55(!1);if(!a)return[];else return this.$OzMediaStream$p_58(a,{fetchSingleSegment:!1,preventRepresentationSwitch:!0})}}}return f};e.$OzMediaStream$p_59=function(){var a=this,b=function(b){b==null||b.remove(),a.$OzMediaStream$p_20===b&&(a.$OzMediaStream$p_20=null)};b(this.$OzMediaStream$p_20);var d=null;return new(c("oz-player/shims/OzMaybeNativePromise"))(function(c,e){d=a.getCurrentRepresentation().addUpdateListener(function(){b(d),c()}),a.$OzMediaStream$p_20=d})["catch"](function(a){b(d);throw a})};e.$OzMediaStream$p_53=function(){var a=this,b=this.$OzMediaStream$p_6?this.$OzMediaStream$p_6.getSourceBufferState():null;if(this.$OzMediaStream$p_8.canPredict()&&this.$OzMediaStream$p_10&&this.$OzMediaStream$p_8.isEndingSegment(this.$OzMediaStream$p_10)){this.endStream("pdash_ending_segment_had_error");this.$OzMediaStream$p_18.cloneContext().getOperationLogger("media_loop_end").setInitiator("end1").setRepresentationID(this.$OzMediaStream$p_8.getID()).log();return}if(this.$OzMediaStream$p_8.canPredict()&&this.$OzMediaStream$p_9&&this.$OzMediaStream$p_8.isEndingSegment(this.$OzMediaStream$p_9)){this.endStream("pdash_anchor_segment_is_ending_segment");this.$OzMediaStream$p_18.cloneContext().getOperationLogger("media_loop_end").setInitiator("end2").setRepresentationID(this.$OzMediaStream$p_8.getID()).log();return}var e=this.$OzMediaStream$p_57(),f=this.$OzMediaStream$p_55(e);if(this.$OzMediaStream$p_8.canPredict()&&this.$OzMediaStream$p_11!=null&&d("oz-player/manifests/IOzSegment").isSequenceNumberGreaterOrEqual(f,this.$OzMediaStream$p_11)){this.$OzMediaStream$p_18.cloneContext().getOperationLogger("media_loop_end").setInitiator("segment_end").setRepresentationID(this.$OzMediaStream$p_8.getID()).log();return}d("oz-player/manifests/IOzSegment").isSequenceNumberEqual(f,this.$OzMediaStream$p_37)?this.$OzMediaStream$p_38++:this.$OzMediaStream$p_38=0;this.$OzMediaStream$p_37=f;this.$OzMediaStream$p_7.isPlaying()&&this.$OzMediaStream$p_38>0&&this.$OzMediaStream$p_18.cloneContext().getOperationLogger("get_segment_to_stream_same_segment").setReason((f==null?void 0:f.getSequenceNumber())!=null?String(f==null?void 0:f.getSequenceNumber()):null).setLength(this.$OzMediaStream$p_38).setRepresentationID(this.$OzMediaStream$p_8.getID()).setSegmentStartTime(f==null?void 0:f.getTimeRange().startTime).setSegmentEndTime(f==null?void 0:f.getTimeRange().endTime).log();if(this.$OzMediaStream$p_31){var g;this.$OzMediaStream$p_22=h;this.$OzMediaStream$p_18.cloneContext().getOperationLogger("media_loop_end").setInitiator("ongoing_stream").setReason(((g=this.$OzMediaStream$p_9)==null?void 0:g.getSequenceNumber())!=null?String((g=this.$OzMediaStream$p_9)==null?void 0:g.getSequenceNumber()):null).setRepresentationID(this.$OzMediaStream$p_8.getID()).log();return null}if(!f||this.$OzMediaStream$p_31){if(this.$OzMediaStream$p_8.canPredict()&&this.$OzMediaStream$p_1.getBool("ms_promise_for_null")){var i=this.$OzMediaStream$p_1.getNumber("ms_promise_for_null_ms");return new(c("oz-player/shims/OzMaybeNativePromise"))(function(b,d){var e=c("oz-player/shims/ozSetTimeoutAcrossTransitions")(function(){c("oz-player/shims/ozClearTimeout")(e),b()},i?i:(a.$OzMediaStream$p_8.getMaxGopSec()||1)*1e3)})}this.$OzMediaStream$p_22=h;this.$OzMediaStream$p_31||this.$OzMediaStream$p_30.finishTaskIfNoOngoingStream();return this.$OzMediaStream$p_59()}this.$OzMediaStream$p_22=0;var j=this.$OzMediaStream$p_58(f,{fetchSingleSegment:e});if(j.length===0){this.$OzMediaStream$p_18.cloneContext().getOperationLogger("media_loop_end").setInitiator("no_stream_segments").setReason(((g=this.$OzMediaStream$p_9)==null?void 0:g.getSequenceNumber())!=null?String((f=this.$OzMediaStream$p_9)==null?void 0:f.getSequenceNumber()):null).setRepresentationID(this.$OzMediaStream$p_8.getID()).log();return this.$OzMediaStream$p_59()}this.$OzMediaStream$p_15=!0;var k=j[j.length-1]||null,l=this.$OzMediaStream$p_8,m=function(){return l.isEndingSegment(k)};j.length!==0||c("oz-player/shims/ozvariant")(0,23148);g=j[0];f=g.getTimeRange().startTime;var n=k.getTimeRange().endTime,o={startTime:f,endTime:n,tag:{id:this.$OzMediaStream$p_8.getID()}},p=function(b){v.setAppendedBufferMs(Math.round(b.appendedSec*1e3)),v.log(),a.$OzMediaStream$p_26.handleEvent("append_succeeded"),j.forEach(function(b){a.emit("SegmentAppended",a.$OzMediaStream$p_60(b,o))}),m()&&a.endStream("appended_ending_segment"),a.$OzMediaStream$p_61(o,b)},q=function(b){v.setError(b).log();var c=t||s;c&&c.cancel();a.$OzMediaStream$p_51(b)},r=this.$OzMediaStream$p_18.cloneContext();r.setRepresentationID(this.$OzMediaStream$p_8.getID());r.setSegmentStartTime(f).setSegmentEndTime(n);var s,t;!e?(t=this.$OzMediaStream$p_30.startStreamDeferred({debugName:"OzMediaStream/streamableSegments/"+this.$OzMediaStream$p_44,segments:j,networkManager:this.$OzMediaStream$p_12,sourceBufferState:b,playbackState:this.$OzMediaStream$p_7,segmentsLoggerProvider:r.cloneContext(),mediaStreamType:this.$OzMediaStream$p_44,dataAppendedCallback:p,dataAppendedErrorCallback:q}),this.$OzMediaStream$p_13=s):(s=this.$OzMediaStream$p_12.request({debugName:"OzMediaStream/streamableSegments/"+this.$OzMediaStream$p_44+"/prefetch",segments:j,pipeThroughRangeStreamProviders:[c("oz-player/networks/getOzBandwidthEstimatorPipeThroughReporter")(this.$OzMediaStream$p_21,this.$OzMediaStream$p_12.getBandwidthEstimator())],loggerProvider:r.cloneContext(),requestOptions:null,mediaStreamType:this.$OzMediaStream$p_44,dataAppendedCallback:p,dataAppendedErrorCallback:q}),this.$OzMediaStream$p_13=s);this.$OzMediaStream$p_31=!0;var u=this.$OzMediaStream$p_62(g,k,j.length),v=r.getOperationLogger("queued_append");v.start().setReason(this.$OzMediaStream$p_16&&this.$OzMediaStream$p_16.getLastEvaluationReason());var w=function(c,b){a.$OzMediaStream$p_52({data:c,mimeCodecs:b,clearSourceBufferRange:null,dataAppendedCallback:p,dataAppendedErrorCallback:q,loggerProvider:r.cloneContext(),appendTarget:u})},x;!!t||!!s||c("oz-player/shims/ozvariant")(0,23147);var y=this.$OzMediaStream$p_8.getMimeCodecs();t?(t.genStream().then(function(a){return w(a,y)})["catch"](function(b){return a.$OzMediaStream$p_33.emitError(b)}),x=t.getStatusChangePromise()):s&&(w(s.getStream(),y),x=s.getStatusChangePromise());!x&&c("oz-player/shims/ozvariant")(0,51928);f=x.then(function(b){a.$OzMediaStream$p_63(b,k);return a.$OzMediaStream$p_64()}).then(function(){a.$OzMediaStream$p_2=0});return f["catch"](function(b){var c,d=a.$OzMediaStream$p_9;a.$OzMediaStream$p_65(k);(c=a.$OzMediaStream$p_40)==null||c.handleError(l.getID(),b);return a.$OzMediaStream$p_66(b,k,d)})};e.handleError=function(a){var b=this.$OzMediaStream$p_18.getOperationLogger("media_stream_loop_error");b.setError(a).setResult("failed").log();return this.$OzMediaStream$p_1.getNumber("loop_body_handle_error_interval_ms")};e.$OzMediaStream$p_66=function(a,b,e){var f=this;this.$OzMediaStream$p_31=!1;var g=new(c("oz-player/shims/OzDeferred"))(c("oz-player/shims/OzMaybeNativePromise")),h=d("oz-player/utils/OzErrorUtils").getNormalizedErrorAndCode(a),i=h[0],j=h[1],k=d("oz-player/utils/OzErrorUtils").getOzErrorWithMIMEType(i,this.$OzMediaStream$p_21),l=function(b){f.$OzMediaStream$p_2++;f.$OzMediaStream$p_18.getOperationLogger("media_stream").setInitiator("fetch_stream_"+(b.behavior!=null?b.behavior:"default")).setLength(b.timeoutMs).setReason(""+k.getDescription()).setError(k).setCode(j.length>0?Number.parseInt(j,10):null).setType(f.$OzMediaStream$p_21).log();if(b.behavior==="retry_failed_request")f.$OzMediaStream$p_9=e;else if(b.behavior==="recover_failed_request"&&d("oz-player/utils/OzErrorUtils").isOzError(a)){var h;h=(h=a.getExtra())==null?void 0:h.headers;h=c("oz-player/shims/OzNetworkDiagnostics").getNextValidSegmentId(h);h!=null&&(f.$OzMediaStream$p_9=d("oz-player/streams/OzSegmentUtils").getSegmentForSequenceNumber(f.$OzMediaStream$p_8,h-1))}c("oz-player/shims/ozSetTimeoutAcrossTransitions")(function(){f.emit("streamErrorRetry",k);return g.resolve()},b.timeoutMs)};this.$OzMediaStream$p_4!==j?(this.$OzMediaStream$p_4=j,this.$OzMediaStream$p_3=1):this.$OzMediaStream$p_3++;h=!0;var m=function(){h=!1};i={consecutiveFailuresForErrorCode:this.$OzMediaStream$p_3,endStream:function(){m(),f.$OzMediaStream$p_10=b,f.$OzMediaStream$p_11=b,f.endStream("streamError_event_object"),g.resolve()},error:k,isInitialRequest:!1,retry:function(a){var b;m();l({timeoutMs:(b=a==null?void 0:a.waitMs)!=null?b:0,behavior:a==null?void 0:a.behavior})},retryAttemptCount:this.$OzMediaStream$p_2};this.emit("streamError",i);h&&(this.$OzMediaStream$p_33.emitError(k),this.$OzMediaStream$p_2=0,g.resolve());return g.getPromise()};e.$OzMediaStream$p_65=function(a){this.$OzMediaStream$p_48();this.$OzMediaStream$p_10=a;this.$OzMediaStream$p_30.finishTaskIfNoOngoingStream();a=this.$OzMediaStream$p_6;a&&a.cancelOperationAndCleanQueue(this.$OzMediaStream$p_18)};e.$OzMediaStream$p_63=function(a,b){a==="done"&&(this.$OzMediaStream$p_9=b)};e.$OzMediaStream$p_64=function(){this.$OzMediaStream$p_31=!1};e.$OzMediaStream$p_52=function(a){this.$OzMediaStream$p_19.push(a),this.$OzMediaStream$p_6&&this.$OzMediaStream$p_47()};e.$OzMediaStream$p_61=function(a,b){if(a==null)return;this.$OzMediaStream$p_8.canPredict()&&b.startTime_UNSAFE&&b.endTime_UNSAFE?this.$OzMediaStream$p_25.add(b.startTime_UNSAFE,b.endTime_UNSAFE,a.tag):this.$OzMediaStream$p_25.add(a.startTime,a.endTime,a.tag)};e.$OzMediaStream$p_47=function(){var a=this;this.$OzMediaStream$p_19.forEach(function(b){var d=b.data,e=b.mimeCodecs,f=b.clearSourceBufferRange,g=b.dataAppendedCallback,h=b.dataAppendedErrorCallback,i=b.loggerProvider;b=b.appendTarget;d=d instanceof Uint8Array||a.$OzMediaStream$p_34==null?d:d.pipeThrough(new(c("oz-player/networks/OzReadableStreamDataReader"))(a.$OzMediaStream$p_34.bind(a,a.$OzMediaStream$p_8),a.$OzMediaStream$p_1));a.$OzMediaStream$p_6&&a.$OzMediaStream$p_6.queueData(d,e,f,i,b).then(function(a){if(!a)return;g(a)})["catch"](function(a){h(a)})});this.$OzMediaStream$p_19=[]};e.$OzMediaStream$p_67=function(){var a=this.$OzMediaStream$p_6;if(!a)return c("oz-player/shims/OzMaybeNativePromise").resolve();var b=this.$OzMediaStream$p_7.getCurrentTime(),d=[{fromTime:0,toTime:b}],e=this.$OzMediaStream$p_1.getNumber("clear_buffer_around_playhead_boundary_ms");if(e>0){e=e/1e3;var f=a.getSourceBufferState();f=f.getBufferedRanges();f=f.length>=1?f[f.length-1].endTime:b;d=[{fromTime:0,toTime:Math.max(0,b-e)}];b+e<f&&d.push({fromTime:b+e,toTime:f})}return a.clearRangeWithWait(d)};e.$OzMediaStream$p_68=function(a){return!1};e.$OzMediaStream$p_51=function(a){var b=this;if(d("oz-player/utils/OzErrorUtils").isOzError(a)&&a.getType()==="OZ_SOURCE_BUFFER_QUOTA_EXCEEDED"){this.emit("streamErrorRetry",d("oz-player/utils/OzErrorUtils").getOzErrorWithMIMEType(a,this.$OzMediaStream$p_21));this.$OzMediaStream$p_26.handleEvent("append_quota_exceeded");var e=this.$OzMediaStream$p_67();e.then(function(){b.restartLoopBody()})["catch"](function(a){a=d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_STREAM_APPEND_QUOTA_EXCEEDED_HANDLER_ERROR",description:"Stream append quota exceeded: "+String(a),extra:{originalError:a,code:c("oz-player/utils/OzCustomErrorCode").STREAM_APPEND_QUOTA_EXCEEDED_HANDLER_ERROR}});b.$OzMediaStream$p_33.emitError(a)})}else if(d("oz-player/utils/OzErrorUtils").isOzError(a)&&a.getType()==="OZ_CANCELLED")return;else if(d("oz-player/utils/OzErrorUtils").isOzError(a)&&a.getType()==="OZ_SOURCE_BUFFER_CHANGE_TYPE")this.$OzMediaStream$p_33.emitError(a);else if(d("oz-player/utils/OzErrorUtils").isOzError(a)&&a.getType()==="OZ_SOURCE_BUFFER_CHANGE_TYPE_UNAVAILABLE")this.$OzMediaStream$p_33.emitError(a);else if(d("oz-player/utils/OzErrorUtils").isOzError(a)&&a.getType()==="OZ_WEBVTT_CAPTION_PARSE_ERROR"){c("oz-player/shims/ozReportUnexpectedError")(a,"OzMediaStream append error callback: OZ_WEBVTT_CAPTION_PARSE_ERROR branch","warn");(e=this.$OzMediaStream$p_45)==null||e.emitError(a)}else c("oz-player/shims/ozReportUnexpectedError")(a,"OzMediaStream append error callback","warn"),this.$OzMediaStream$p_68(a)&&this.$OzMediaStream$p_33.emitError(a)};e.$OzMediaStream$p_62=function(a,b,c){var d=0;if(this.$OzMediaStream$p_43)return Infinity;var e=this.$OzMediaStream$p_1.getNumber("appends_per_segment");if(e>0){a=a.getByteRange();b=b.getByteRange();a&&b&&b.endByte!=null&&(d=Math.ceil((b.endByte-a.startByte+1)/(c*e)))}d===0&&(d=this.$OzMediaStream$p_1.getNumber("append_byte_target_without_range"));return d};e.getIsAdaptationEnabled=function(){return this.$OzMediaStream$p_29};e.enableAdaptation=function(){this.$OzMediaStream$p_29=!0};e.disableAdaptation=function(){this.$OzMediaStream$p_29=!1};e.destroy=function(){this.$OzMediaStream$p_23.stop(),this.$OzMediaStream$p_5.then(function(a){a.destroy()},function(){})["catch"](function(a){c("oz-player/shims/ozReportUnexpectedError")(a,"OzMediaStream SBM promise then - destroy")}),this.$OzMediaStream$p_30.destroy(),this.$OzMediaStream$p_17.release(),this.$OzMediaStream$p_17.engage(),this.removeAllListeners(),this.$OzMediaStream$p_20&&(this.$OzMediaStream$p_20.remove(),this.$OzMediaStream$p_20=null)};e.getRepresentationIDAtTime=function(a){var b=this.$OzMediaStream$p_25.get(a);if(!b){var c=this.$OzMediaStream$p_8.getTimeRanges();c=c[c.length-1];var d=.001;c&&a>=c.endTime&&a<=this.$OzMediaStream$p_7.getDuration()+d&&(b=this.$OzMediaStream$p_25.get(c.endTime-d))}return b?b.id:null};e.endStream=function(a){var b;(b=this.$OzMediaStream$p_14)==null||b.notifyMediaStreamEnded(this,a);this.$OzMediaStream$p_69()};e.endStreamIfBufferedToEndTime=function(){var a=this.$OzMediaStream$p_8.getTimeRanges();if(a.length>0){a=a[a.length-1].endTime;if(this.$OzMediaStream$p_6){var b=this.$OzMediaStream$p_6.getSourceBufferState().getBufferedRanges();b.length>0&&(Math.abs(b[b.length-1].endTime-a)<i&&this.endStream("buffered_to_end_time"))}}};e.$OzMediaStream$p_60=function(a,b){return{type:this.$OzMediaStream$p_21.indexOf("audio")===0?j.AUDIO:this.$OzMediaStream$p_21.indexOf("video")===0?j.VIDEO:j.CAPTION,segment:a,sourceBuffer:(a=(a=this.$OzMediaStream$p_6)==null||(a=a.getDebug())==null?void 0:a.SourceBuffer)!=null?a:null,timeRange:b}};e.$OzMediaStream$p_48=function(){this.$OzMediaStream$p_9=null};e.restartLoopBody=function(){this.$OzMediaStream$p_48(),this.$OzMediaStream$p_31=!1,this.$OzMediaStream$p_13&&this.$OzMediaStream$p_13.cancel(),this.$OzMediaStream$p_22!==0&&this.$OzMediaStream$p_24&&this.$OzMediaStream$p_24.resolve()};e.$OzMediaStream$p_69=function(){if(this.$OzMediaStream$p_6){var a=this.$OzMediaStream$p_6.getSourceBufferState().getBufferedRanges();a.length>0&&(this.$OzMediaStream$p_32=a[a.length-1].endTime)}};e.$OzMediaStream$p_56=function(){return this.$OzMediaStream$p_32!==null};e.$OzMediaStream$p_49=function(a){this.$OzMediaStream$p_8.getID()===a&&this.$OzMediaStream$p_16!=null&&this.$OzMediaStream$p_50(this.$OzMediaStream$p_16.getBestRepresentation())};e.setEnableLiveheadCatchup=function(a){this.$OzMediaStream$p_35=a};e.clearSourceBufferRange=function(a,b){var d=this.$OzMediaStream$p_6;return d?d.clearRangeWithWait([{fromTime:a,toTime:b}]):c("oz-player/shims/OzMaybeNativePromise").resolve()};e.getDebug=function(){return{SourceBufferManager:this.$OzMediaStream$p_6,MediaStreamAbrManager:this.$OzMediaStream$p_16}};return b}(c("oz-player/shims/OzEventEmitter"));g["default"]=a}),98);
__d("oz-player/streams/OzPredictedSegmentLocator",["oz-player/streams/OzSegmentLocator","oz-player/streams/OzSegmentUtils","oz-player/utils/OzSourceBufferUtil"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){var c=0;for(var d in a){var e;if(d===b)continue;c=Math.max(c,(e=a[d].lastSkippedToSegmentNumber)!=null?e:0)}return c}function i(a,b){var c=null;for(var d in a){if(d===b)continue;a[d].inBufferAheadTimeSince!=null&&(c=c!=null?Math.min(c,a[d].inBufferAheadTimeSince):a[d].inBufferAheadTimeSince)}return c}a=function(){function a(a){this.$5={};var b=a.videoNode,c=a.liveLatencyManager,d=a.loggerProvider;a=a.dynamicVideoLibrary;this.$1=b;this.$2=c;this.$3=d;this.$4=a}var b=a.prototype;b.getSegment=function(a,b,c,d,e,f,g,h,i){var j;this.$5[i]==null&&(this.$5[i]={lastSkippedToSegmentNumber:null,inBufferAheadTimeSince:null});(j=this.$2)==null||j.setEnableCatchup(h);j=this.$6(a,b,c,d,e,f,g,h,i);(a=j.segment)==null||a.getOptions().setSegmentNumDecisionTime(Date.now());j.segment===null&&this.$3.getOperationLogger("segment_locator").setInitiator(j.initiator).setReason(j.reason).setType(i).setUserInfo(j.userInfo).log();b=this.$4;if(j.segment&&b!=null){c=j.segment.getOptions();c.setIsDVLEnabled(b.shouldRequestDynamicInfo(i))}return j.segment};b.$6=function(a,b,c,e,f,g,j,k,l){var m,n,o=b.getCurrentTime(),p=this.$2==null?!1:this.$2.shouldEnableCursorBasedCatchup(),q=e!=null?d("oz-player/utils/OzSourceBufferUtil").getTotalBufferAheadOfPosition(e.getBufferedRanges(),b.getCurrentTime(),j):{bufferAheadSec:0,bufferedOffset:0},r=q.bufferAheadSec;q=q.bufferedOffset;var s=null,t=null,u=this.$2?this.$2.enabled():!0,v=a.getPredictedSegmentAfter(f),w=d("oz-player/streams/OzSegmentUtils").getSegmentForSequenceNumber(a,j.getNumber("pdash_download_cursor_between_catchups_seg")>0?h(this.$5):h(this.$5,l)),x=!0,y=null;if(p&&k&&((m=v)==null?void 0:m.getSequenceNumber())!=null&&((m=(m=v)==null?void 0:m.getSequenceNumber())!=null?m:0)<=((m=w==null?void 0:w.getSequenceNumber())!=null?m:0)){v=w;s="paired_catchup";this.$3.getOperationLogger("segment_locator").setInitiator(s).setUserInfo({bufferAheadSec:String(r),bufferedOffset:String(q)}).setLength(((m=w==null?void 0:w.getSequenceNumber())!=null?m:0)-((m=(m=v)==null?void 0:m.getSequenceNumber())!=null?m:0)).setType(l).log();x=!1;y=s}else if(p&&k&&u&&v!=null&&(n=this.$2)!=null&&n.isBehindPreferredLiveHeadLatencyWithTolerance()){if(this.$2&&r>this.$2.getPreferredLiveHeadLatencySec()&&q==0)return{segment:null,initiator:"catchup_pause",userInfo:{bufferAheadSec:String(r),bufferedOffset:String(q)}};m=a.getEndingSegment();p=d("oz-player/streams/OzSegmentUtils").getMaxSegment([m,v]);k=j.getNumber("pdash_download_cursor_between_catchups_seg")===0||((k=w==null?void 0:w.getSequenceNumber())!=null?k:0)+j.getNumber("pdash_download_cursor_between_catchups_seg")<((w=m==null?void 0:m.getSequenceNumber())!=null?w:0);if(k){if(((m=p==null?void 0:p.getSequenceNumber())!=null?m:0)>((k=(w=v)==null?void 0:w.getSequenceNumber())!=null?k:0)){this.$5[l].lastSkippedToSegmentNumber=(m=p==null?void 0:p.getSequenceNumber())!=null?m:0;this.$3.getOperationLogger("segment_locator").setInitiator("catchup").setUserInfo({bufferAheadSec:String(r),bufferedOffset:String(q)}).setLength(((w=p==null?void 0:p.getSequenceNumber())!=null?w:0)-((m=(k=v)==null?void 0:k.getSequenceNumber())!=null?m:0)).setType(l).log()}v=p;s="catchup";x=!1;y=s}}else if(f==null){v=a.getSegmentByTime(o);s="1st_run";w=a.getTimeRanges();t={approx:String(a.canApproximateId()),ranges:String(w.length),mpdStartTime:w.length>0?String(w[w.length-1].startTime):null,mpdEndTime:w.length>0?String(w[w.length-1].endTime):null};this.$5[l].lastSkippedToSegmentNumber=(m=(k=v)==null?void 0:k.getSequenceNumber())!=null?m:0}x&&(x=u,y="stream_state");if(x&&r>c){this.$5[l].inBufferAheadTimeSince==null&&(this.$5[l].inBufferAheadTimeSince=Date.now());return{segment:null,initiator:"buffer_ahead_rule",userInfo:{bufferAheadSec:String(r),bufferedOffset:String(q),lastMaxSegNum:String(h(this.$5,l)),segment:v?String(v.getSequenceNumber()):null,computedBufferAheadTarget:String(c)}}}else!x&&r>c&&this.$3.getOperationLogger("segment_locator").setUserInfo({bufferAheadSec:String(r),bufferedOffset:String(q),computedBufferAheadTarget:String(c)}).setReason("disabled_buffer_ahead_rule:"+(y||"")).setType(l).log();p=g&&g.getSequenceNumber()||0;f=v&&v.getSequenceNumber()||0;if(v&&g&&p>=f){o=d("oz-player/streams/OzSegmentLocator").getEndingSequenceNumber(a);return(o||0)>=p?{segment:g}:{segment:null,initiator:"mpd_refresh",userInfo:{leSegNum:String(p)}}}w=e?d("oz-player/utils/OzSourceBufferUtil").getTotalInBufferedRanges(e.getBufferedRanges()):0;k=e?d("oz-player/utils/OzSourceBufferUtil").getTotalBufferAheadOfPosition(e.getBufferedRanges(),b.getCurrentTime(),j).bufferAheadSec:0;m=i(this.$5,l);u=Date.now();if(j.getNumber("download_cursor_total_buffer_max_sec")!=0&&j.getNumber("download_cursor_total_buffer_max_sec")<k||j.getNumber("download_cursor_buffer_ahead_time_max_sec")!=0&&m!=null&&j.getNumber("download_cursor_buffer_ahead_time_max_sec")<(u-m)/1e3){this.$5[l].lastSkippedToSegmentNumber=(y=(x=v)==null?void 0:x.getSequenceNumber())!=null?y:0;this.$3.getOperationLogger("segment_locator").setUserInfo({bufferAheadSec:String(r),bufferedOffset:String(q),totalBufferedSec:String(w),computedBufferAheadTarget:String(c),inBufferAheadElapsedTime:String((u-(m!=null?m:0))/1e3)}).setReason("force_paired_catchup").setType(l).log()}this.$5[l].inBufferAheadTimeSince=null;return{segment:v,initiator:s?s:void 0,userInfo:t?t:void 0}};return a}();g.OzPredictedSegmentLocator=a}),98);
__d("oz-player/utils/getRepresentationInCache",["oz-player/networks/RequestParamCreator"],(function(a,b,c,d,e,f,g){"use strict";var h=new(c("oz-player/networks/RequestParamCreator"))();function a(a,b){b===void 0&&(b=null);return a.find(function(a){a=a.getInitSegment();var c=a&&a.getByteRange();return a&&c&&b?b.hasCacheValue(h.createRequestParam(a.getURI(),c,"auto").uri.toString()):!1})||null}g["default"]=a}),98);
__d("oz-player/Player",["Promise","oz-player/configs/OzPlayerConfig","oz-player/drm/OzDrmManager","oz-player/loggings/OzDevConsolePerfLogger","oz-player/loggings/OzLoggingUtils","oz-player/loggings/OzMultiDestinationPerfLogger","oz-player/loggings/OzOperationLoggerObserver","oz-player/manifests/OzDynamicVideoLibrary","oz-player/manifests/OzVideoRepresentation","oz-player/media_source/MediaSourceManager","oz-player/media_source/OzMediaSeekableRangeManager","oz-player/networks/OzBandwidthEstimator","oz-player/networks/OzClientClock","oz-player/networks/OzNetworkManager","oz-player/parsers/OzMpdParser","oz-player/parsers/OzMpdUpdater","oz-player/parsers/OzXmlParserImplDOMParser","oz-player/playback_controls/OzClearSourceBufferOnSeekManager","oz-player/playback_controls/OzLiveLatencyManager","oz-player/playback_controls/OzPlaybackTimeRangeManager","oz-player/playback_controls/OzPlayheadManager","oz-player/shims/OzEventEmitter","oz-player/shims/OzMaybeNativePromise","oz-player/shims/OzPerformance","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/OzUuid","oz-player/shims/ozClearTimeout","oz-player/shims/ozReportUnexpectedError","oz-player/shims/ozSetTimeoutAcrossTransitions","oz-player/shims/ozvariant","oz-player/states/OzObservedPlaybackState","oz-player/states/OzPositionToViewport","oz-player/strategies/OzAbrManager","oz-player/strategies/OzBandwidthBoundaryStreamSegmentsCountStrategy","oz-player/strategies/OzBlockedRepresentationsManager","oz-player/strategies/OzBufferAheadPriorityStrategy","oz-player/strategies/OzBufferAheadTargetStrategy","oz-player/strategies/OzBufferEndLimitStrategy","oz-player/strategies/OzBufferTargetBoundedStreamSegmentsCountStrategy","oz-player/strategies/OzBufferTargetCalculator","oz-player/strategies/OzBufferTargetCalculatorQuotaExceededConstraint","oz-player/strategies/OzBufferingDetector","oz-player/strategies/OzPausedStreamSegmentsCountStrategy","oz-player/strategies/OzPlayheadAtInterruptionDetector","oz-player/strategies/OzPlayingStatePriorityStrategy","oz-player/strategies/OzPositionToViewportPriorityStrategy","oz-player/strategies/OzPriorityCalculator","oz-player/strategies/OzSingleCodecRestriction","oz-player/strategies/OzStaleManifestBufferTargetStrategy","oz-player/strategies/OzStartupBufferTargetStrategy","oz-player/strategies/OzStaticStreamSegmentsStrategy","oz-player/strategies/OzStreamSegmentsCountCalculator","oz-player/strategies/OzSupportedMimeCodecsRestriction","oz-player/streams/OzEndOfStreamWatcher","oz-player/streams/OzHandleUserRepresentationSwitch","oz-player/streams/OzMediaStream","oz-player/streams/OzPredictedSegmentLocator","oz-player/utils/OzCustomErrorCode","oz-player/utils/OzErrorEmitter","oz-player/utils/OzErrorUtils","oz-player/utils/OzIbrUtils","oz-player/utils/OzMimeUtil","oz-player/utils/OzMpdUtils","oz-player/utils/OzPlaybackRestrictionsUtils","oz-player/utils/OzReadableStreamUtils","oz-player/utils/getRepresentationInCache"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){a||c("oz-player/shims/ozvariant")(0,21876);return a}var j="av01",k="vp09",l="avc1";a=function(a){function e(b){var e;e=a.call(this)||this;e.$Player$p_5=new Map();e.$Player$p_6=new Map();e.$Player$p_9=void 0;e.$Player$p_10=new(c("oz-player/shims/OzSubscriptionsHandler"))();e.$Player$p_11=new(c("oz-player/utils/OzErrorEmitter"))();e.$Player$p_12=new(c("oz-player/utils/OzErrorEmitter"))();e.$Player$p_19=void 0;e.$Player$p_25=[];e.$Player$p_26=void 0;e.$Player$p_27=void 0;e.$Player$p_32=null;e.$Player$p_33=null;e.$Player$p_43=null;e.$Player$p_51=!1;e.$Player$p_54=0;e.$Player$p_55=null;e.$Player$p_56=null;e.$Player$p_57=0;e.$Player$p_58=null;e.$Player$p_59=null;e.$Player$p_60=!1;e.$Player$p_63=null;e.$Player$p_64=null;e.$Player$p_70=!1;e.$Player$p_71=!1;e.$Player$p_76=!1;e.$Player$p_77=null;e.$Player$p_78=!1;e.$Player$p_89=function(){var a=new(c("oz-player/parsers/OzXmlParserImplDOMParser"))();return a};e.$Player$p_91=function(){e.$Player$p_5.forEach(function(a){return a.endStreamIfBufferedToEndTime()})};e.$Player$p_92=function(){e.$Player$p_5.forEach(function(a){return a.endStream("streamGone")})};var f=b.audioOnly;f=f===void 0?!1:f;var g=b.bufferingDetector,h=b.videoNode,i=b.config,j=b.configMap,k=b.rawMpdXml,l=b.mpdUrl;l=l===void 0?null:l;var m=b.loggerConfig;m=m===void 0?{perfLoggerProviders:[],observedOperationLoggers:[],isOzDevConsoleEnabled:!1}:m;var n=b.bandwidthEstimatorOverride;n=n===void 0?null:n;var o=b.customVTTBufferTargetStrategies;o=o===void 0?null:o;var p=b.shouldBlockStatusCode5xx;p=p===void 0?!1:p;var q=b.prefetchCache;q=q===void 0?null:q;var r=b.getOverrideOzRequestImplementation;r=r===void 0?null:r;var s=b.getUserSelectedPlaybackRate,t=b.networkRequestStreamHandlers,u=b.networkRequestStreamRetryHandler,v=b.networkRequestUrlRefreshHandler,w=b.getShouldIncludeCredentials;w=w===void 0?null:w;var x=b.getCustomRequestParametersForURI;x=x===void 0?null:x;var y=b.initialRepresentationIDs;y=y===void 0?[]:y;var z=b.debugCreateInitiator;z=z===void 0?null:z;var A=b.customParsers;A=A===void 0?new Map():A;var B=b.videoPlaybackRestrictions;B=B===void 0?[]:B;var C=b.customSegmentTimelineParser;C=C===void 0?null:C;var D=b.customRepresentationParsers;D=D===void 0?{}:D;var E=b.networkRequestFetchPriority;E=E===void 0?"auto":E;var F=b.videoAbrManagerFactory;F=F===void 0?null:F;var G=b.seekHandler;G=G===void 0?null:G;var H=b.initialPlaybackPositionForDynamicMpd;H=H===void 0?-20:H;var I=b.liveheadFallBehindBlockThreshold;I=I===void 0?30:I;var J=b.liveheadFallBehindBlockMargin;J=J===void 0?5.9:J;var K=b.startTimeStamp;K=K===void 0?0:K;var L=b.drmProviders;L=L===void 0?[]:L;var M=b.getVideoDimensions;M=M===void 0?null:M;var N=b.setCustomFetchStreamLoggingAttributes;N=N===void 0?null:N;var O=b.bufferEndLimit;O=O===void 0?null:O;var P=b.configureCustomRequestParametersForSegment;P=P===void 0?null:P;var Q=b.isClientTriggeredTraceEnabled;Q=Q===void 0?!1:Q;var R=b.enableImmediateQualityDownSwitch;R=R===void 0?!1:R;b=b.userPreferenceLang;b=b===void 0?null:b;e.$Player$p_1=o;e.$Player$p_49=z;o=m.perfLoggerProviders;z=m.observedOperationLoggers;m=m.isOzDevConsoleEnabled;e.$Player$p_17=m||!1;e.$Player$p_16=new(d("oz-player/loggings/OzMultiDestinationPerfLogger").OzMultiDestinationPerfLoggerProvider)(e.$Player$p_79().concat(o));e.$Player$p_2=f;e.$Player$p_4=i!=null?i:new(c("oz-player/configs/OzPlayerConfig"))(j!=null?j:{});e.$Player$p_78=e.$Player$p_4.getBool("enable_managed_media_source")&&!!window.ManagedMediaSource;e.$Player$p_75=e.$Player$p_78?"changeType"in window.ManagedSourceBuffer.prototype:"changeType"in window.SourceBuffer.prototype;e.$Player$p_12.onError(function(){});e.$Player$p_22=new(c("oz-player/loggings/OzOperationLoggerObserver"))();e.$Player$p_22.observe(z,e.$Player$p_16);e.$Player$p_16.getOperationLogger("player_initialization").setInitiator("player-"+c("oz-player/shims/OzUuid")()).log();e.$Player$p_53=r;e.$Player$p_28=A;e.$Player$p_67=new(c("oz-player/strategies/OzBlockedRepresentationsManager"))(e.$Player$p_4,p);e.$Player$p_10.addSubscriptions(e.$Player$p_67.onRepresentationBlocked(function(a){e.emit("representationBlocked",a)}));e.$Player$p_31=[e.$Player$p_67,new(c("oz-player/strategies/OzSupportedMimeCodecsRestriction"))(e.$Player$p_78)].concat(B);e.$Player$p_75||e.$Player$p_31.push(new(c("oz-player/strategies/OzSingleCodecRestriction"))());e.$Player$p_29=D;e.$Player$p_30=C;e.$Player$p_35=F;e.$Player$p_36=G;e.$Player$p_37=K;e.$Player$p_38=H;e.$Player$p_41=s!=null?s:function(){return 1};e.$Player$p_39=I;e.$Player$p_42=J;e.$Player$p_66=O;e.$Player$p_69=Q;e.$Player$p_71=R;e.$Player$p_47=L;e.$Player$p_63=N;e.$Player$p_3=h;e.$Player$p_7=new(c("oz-player/media_source/MediaSourceManager"))({videoNode:e.$Player$p_3,config:e.$Player$p_4,perfLoggerProvider:e.$Player$p_16,isChangeTypeSupported:e.$Player$p_75,useManagedMediaSource:e.$Player$p_78,handleVttCaptionsUpdated:function(a){var b;b=(b=e.$Player$p_5.get("caption"))==null||(b=b.getCurrentRepresentation())==null?void 0:b.getLang();e.emit("vttCaptionsUpdated",a,b)},onClearVideoNodeError:function(){e.$Player$p_80()},onRetryVideoElementError:function(a){e.emit("videoNodeErrorRetry",a)}});e.$Player$p_7.onError(function(a){e.$Player$p_11.emitError(a)});if(e.$Player$p_4.getBool("clear_on_seek")){m=new(c("oz-player/playback_controls/OzClearSourceBufferOnSeekManager"))(e.$Player$p_3,e.$Player$p_4,e.$Player$p_5,e.$Player$p_16);m.maybeOverwriteVideoCurrentTimeProperty();e.$Player$p_10.addSubscriptions(m.onError(e.$Player$p_11.emitError));e.$Player$p_64=m}e.$Player$p_24=q;o=e.$Player$p_24&&e.$Player$p_24.getCachedRepresentations();e.$Player$p_25=o||y;e.$Player$p_65=new(c("oz-player/manifests/OzDynamicVideoLibrary"))({config:e.$Player$p_4});e.$Player$p_44=t;e.$Player$p_45=w;e.$Player$p_46=x;e.$Player$p_68=P;e.$Player$p_77=n!=null?n:c("oz-player/networks/OzBandwidthEstimator");e.$Player$p_13=new(c("oz-player/networks/OzNetworkManager"))({config:e.$Player$p_4,prefetchCache:e.$Player$p_24,networkRequestStreamHandlers:e.$Player$p_44,getOverrideOzRequestImplementation:e.$Player$p_53,getShouldIncludeCredentials:e.$Player$p_45,getCustomRequestParametersForURI:e.$Player$p_46,networkRequestFetchPriority:E,networkRequestStreamRetryHandler:u,networkRequestUrlRefreshHandler:v,setCustomFetchStreamLoggingAttributes:e.$Player$p_63,dynamicVideoLibrary:e.$Player$p_65,configureCustomRequestParametersForSegment:e.$Player$p_68,onResourceTimingBufferFull:function(){e.$Player$p_81()},bandwidthEstimator:e.$Player$p_77});e.$Player$p_18=l;e.$Player$p_8=k;e.$Player$p_14=new(c("oz-player/states/OzObservedPlaybackState"))(e.$Player$p_4,e.$Player$p_3,e.$Player$p_16);e.$Player$p_52=M;e.$Player$p_15=new(c("oz-player/streams/OzEndOfStreamWatcher"))(e.$Player$p_7,e.$Player$p_4);e.$Player$p_10.addSubscriptions(e.$Player$p_15.addListener("streamEnd",function(){e.$Player$p_51=!0,e.emit("streamEnd")}));e.$Player$p_50=g!=null?g:e.$Player$p_82();e.$Player$p_4.getNumber("pixels_below_viewport_to_observe")>0&&(e.$Player$p_61=new(c("oz-player/states/OzPositionToViewport"))(e.$Player$p_3,e.$Player$p_4));e.$Player$p_72=b;e.$Player$p_73=null;e.$Player$p_74={lang:null,role:null};return e}babelHelpers.inheritsLoose(e,a);var f=e.prototype;f.$Player$p_81=function(){if(this.$Player$p_70)return;c("oz-player/shims/ozReportUnexpectedError")(d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_JAVASCRIPT_NATIVE",description:"ResourceTiming buffer is full"}),"ResourceTiming buffer is full","warn");this.$Player$p_70=!0};f.$Player$p_83=function(a){var b=this;this.$Player$p_84();var c=d("oz-player/loggings/OzLoggingUtils").executeOperationAndLog(this.$Player$p_16.cloneContext().setInitiator(this.$Player$p_49),"parse_manifest",function(e){var f,g,c=b.$Player$p_85(a);f=String((f=c.getCustomField("currentServerTimeMs"))!=null?f:"");g=String((g=c.getCustomField("lastVideoFrameTs"))!=null?g:"");f={currentServerTimeMs:f,ingestLastVideoFrameTs:g,nowMs:String(Date.now())};g=d("oz-player/utils/OzMpdUtils").getMpdLastTimeRange(c,b.$Player$p_4);g=g&&g.endTime!=0?g.endTime:null;e.setLiveheadPosition(g).setLiveheadSeqNumMpd(d("oz-player/utils/OzMpdUtils").getMpdLastSequenceNumber(c)).setManifestType(c.isStaticMpd()?"static":"dynamic").setIsMixedCodecManifest(b.$Player$p_76).setIsTemplatedManifest(Boolean(c.getCustomField("isLiveTemplated"))).setUserInfo(f);return c});this.$Player$p_86(c)};f.$Player$p_86=function(a){var b=this;this.$Player$p_9=i(a);this.$Player$p_4.getBool("player_emit_mpdparsed_early")&&this.emit("mpdParsed",a);this.$Player$p_26=this.$Player$p_87();this.$Player$p_27=this.$Player$p_88();this.$Player$p_67.setAvailableRepresentationsCount(a.getVideoRepresentations().length);if(this.$Player$p_18!=null){var e=new(c("oz-player/parsers/OzMpdUpdater"))(this.$Player$p_4,a,this.$Player$p_13,this.$Player$p_14,this.$Player$p_16,{mpdUrl:null,createXmlParser:this.$Player$p_89,customParsers:this.$Player$p_28,customRepresentationParsers:this.$Player$p_29,customSegmentTimelineParser:this.$Player$p_30},this.$Player$p_48,this.$Player$p_69,this.$Player$p_78);this.$Player$p_90(e);this.$Player$p_10.addSubscriptions(e.onError(this.$Player$p_11.emitError),e.addListener("manifestFetchError",function(a){return b.emit("manifestFetchError",a)}),e.addListener("manifestFetchErrorRetry",function(a){return b.emit("manifestFetchErrorRetry",a)}),e.addListener("streamTransitionToStatic",this.$Player$p_91),e.addListener("streamGone",this.$Player$p_92));e.setupUpdateLoop();this.$Player$p_21=e}this.$Player$p_4.getBool("use_live_latency_manager")?!a.isStaticMpd()?(this.$Player$p_40=new(c("oz-player/playback_controls/OzLiveLatencyManager"))({config:this.$Player$p_4,mpd:a,playbackState:this.$Player$p_14,bufferingDetector:this.$Player$p_50,video:this.$Player$p_3,loggerProvider:this.$Player$p_16,getUserSelectedPlaybackRate:this.$Player$p_41}),this.$Player$p_37=this.$Player$p_40.getPreferredLiveHeadLatencySec()*-1):this.$Player$p_37=this.$Player$p_37:this.$Player$p_37=a.isStaticMpd()?this.$Player$p_37:this.$Player$p_93(a);this.$Player$p_19=new(c("oz-player/playback_controls/OzPlayheadManager"))({video:this.$Player$p_3,mpd:a,dynamicVideoLibrary:this.$Player$p_65,playheadCatchup:this.$Player$p_34,playbackState:this.$Player$p_14,config:this.$Player$p_4,perfLoggerProvider:this.$Player$p_16,seekHandler:this.$Player$p_36,initialPlaybackPosition:this.$Player$p_37,canSupportSkipVideobufferGaps:(e=(e=this.$Player$p_64)==null?void 0:e.getCurrentTimePropertyOverwriteSuccess())!=null?e:!1,liveLatencyManager:this.$Player$p_40});this.$Player$p_20=new(c("oz-player/playback_controls/OzPlaybackTimeRangeManager"))({config:this.$Player$p_4,video:this.$Player$p_3,mpd:a,liveheadFallBehindBlockThreshold:this.$Player$p_39,liveheadFallBehindBlockMargin:this.$Player$p_42,playbackState:this.$Player$p_14,perfLoggerProvider:this.$Player$p_16});this.$Player$p_94()["catch"](function(a){var e=d("oz-player/utils/OzErrorUtils").isOzError(a)?a:null;b.$Player$p_11.emitError(d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_INITIALIZATION",description:"Failed to setup streams: "+String(a),extra:babelHelpers["extends"]({},e==null?void 0:e.getExtra(),{originalError:a,code:c("oz-player/utils/OzCustomErrorCode").SETUP_STREAMS_PROMISE_REJECTION.toString()})}))});this.emit("mpdReady",a)};f.load=function(a){var b=this;this.$Player$p_18=a;try{var c=this.$Player$p_8;c!=null?this.$Player$p_83(c):a!=null?this.$Player$p_95(a).then(function(a){if(b.$Player$p_60){b.$Player$p_60=!1;b.load(b.$Player$p_18);return}b.$Player$p_8=a;b.$Player$p_54=0;b.$Player$p_83(a)})["catch"](function(c){if(b.$Player$p_60){b.$Player$p_60=!1;b.load(b.$Player$p_18);return}var e=d("oz-player/utils/OzErrorUtils").isOzError(c)?c:null;e=d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_INITIALIZATION",description:"Failed to setup player with fetched MPD: "+String(c),extra:babelHelpers["extends"]({},e==null?void 0:e.getExtra(),{originalError:c,url:a})});b.$Player$p_96(e,a)}):this.$Player$p_11.emitError(d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_INITIALIZATION",description:"Cannot start Oz without a raw mpd xml or mpd url"}))}catch(a){c=d("oz-player/utils/OzErrorUtils").isOzError(a)?a:null;this.$Player$p_11.emitError(d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_INITIALIZATION",description:"Failed to setup player: "+String(a),extra:babelHelpers["extends"]({},c==null?void 0:c.getExtra(),{originalError:a})}))}};f.$Player$p_93=function(a){var b;b=(b=a.getVideoRepresentations()[0].getMaxGopSec())!=null?b:0;a=(a=a.getVideoRepresentations()[0].getEndingSegment())==null?void 0:a.getTimeRange();a=a!=null?a.endTime-a.startTime:0;a>0&&(b=a);return Math.min(this.$Player$p_38+this.$Player$p_4.getNumber("dynamic_mpd_initial_playback_position_offset_modifier"),-1*b*this.$Player$p_4.getNumber("pdash_download_cursor_catchup_threshold_gop_multiplier"))};f.$Player$p_95=function(a){this.$Player$p_54++;a=this.$Player$p_13.requestRawUrl({debugName:"OzPlayer/fetchMpdXml/mpd",url:a,options:null,loggerProvider:this.$Player$p_16});a=a.getStream().getReader();return d("oz-player/utils/OzReadableStreamUtils").pumpString(a)};f.$Player$p_97=function(){this.$Player$p_55!=null&&(c("oz-player/shims/ozClearTimeout")(this.$Player$p_55),this.$Player$p_55=null)};f.$Player$p_96=function(a,b){var d=this,e=!0,f=this.$Player$p_54-1,g=a.getExtra().code;this.$Player$p_56!==g?(this.$Player$p_56=g,this.$Player$p_57=1):this.$Player$p_57++;var h=function(){e=!1};g={endStream:function(){h(),d.$Player$p_51=!0,d.emit("streamGoneBeforeStart")},consecutiveFailuresForErrorCode:this.$Player$p_57,error:a,isInitialRequest:!0,retry:function(a){h(),d.$Player$p_97(),d.$Player$p_55=c("oz-player/shims/ozSetTimeoutAcrossTransitions")(function(){d.$Player$p_97(),d.load(b)},(a==null?void 0:a.waitMs)!=null?a==null?void 0:a.waitMs:1e3)},retryAttemptCount:f};this.$Player$p_4.getNumber("initial_manifest_request_retry_count")>0&&this.emit("manifestFetchError",g);e&&this.$Player$p_11.emitError(a)};f.updatePlayerRunTimeConfig=function(a){var b=a.manifestUrl,c=a.audioStreamDataHandler,d=a.videoStreamDataHandler,e=a.applicationStreamDataHandler;a=a.resetStreamAnchor;if(d!==void 0){var f=this.$Player$p_5.get("video");f&&f.updateRunTimeConfigs({streamDataHandler:d})}if(a!==void 0){f=this.$Player$p_5.get("video");f&&f.updateRunTimeConfigs({resetStreamAnchor:a});d=this.$Player$p_5.get("audio");d&&d.updateRunTimeConfigs({resetStreamAnchor:a});(f=this.$Player$p_19)==null||f.resetCurrentTime()}if(c!==void 0){d=this.$Player$p_5.get("audio");d&&d.updateRunTimeConfigs({streamDataHandler:c})}if(e!==void 0){f=this.$Player$p_5.get("caption");f&&f.updateRunTimeConfigs({streamDataHandler:e,resetStreamAnchor:a})}b!=null&&b!==""&&this.$Player$p_98(b)};f.$Player$p_99=function(a,b){var c=this,e=a.getMimeCodecs();e=this.$Player$p_7.createSourceBufferManager(b+"/"+a.getMimeType()+"/"+a.getCodecs(),e,b,a.getInitSegment().getData());this.$Player$p_100(e,b,a);a=e.then(function(a){c.$Player$p_50&&b!=="caption"&&c.$Player$p_50.setSourceBufferState(b,a.getSourceBufferState());return a});d("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation(a,this.$Player$p_16,"source_attach",function(a){a.setType(b)});return a.then(function(a){if(b!=="caption"){var d;(d=c.$Player$p_19)==null||d.observeSourceBufferState(a.getSourceBufferState(),b)}})};f.isDrm=function(){var a=this.$Player$p_48;if(a!=null){a=a.hasContentProtections();return a!=null?a:!1}return!1};f.$Player$p_84=function(){var a=this.$Player$p_47;if(a.length>0){var b=this.$Player$p_48=new(d("oz-player/drm/OzDrmManager").OzDrmManager)(this.$Player$p_16,this.$Player$p_3,{maxStartEMEAttempts:this.$Player$p_4.getNumber("max_start_eme_attempts"),throwNoLicenseError:!0});a.forEach(function(a){b.addProvider(a)});this.$Player$p_10.addSubscriptions(b.onError(this.$Player$p_11.emitError))}};f.$Player$p_101=function(a){var b=this,d=i(this.$Player$p_9);a=[this.$Player$p_4,a,this.$Player$p_102(),this.$Player$p_31,this.$Player$p_14,window.devicePixelRatio||1,function(){return b.$Player$p_103()},d.isStaticMpd()?"static":"dynamic",this.$Player$p_16];d=this.$Player$p_35&&this.$Player$p_35.apply(this,a);return d!=null?d:babelHelpers.construct(c("oz-player/strategies/OzAbrManager"),a)};f.$Player$p_104=function(a){return a==="caption"?!0:!1};f.$Player$p_100=function(a,b,e){var f=this,g=i(this.$Player$p_9),h=this.$Player$p_6.get(b),j=new(c("oz-player/streams/OzMediaStream"))({config:this.$Player$p_4,sourceBufferManagerPromise:a,networkManager:this.$Player$p_13,playbackState:this.$Player$p_14,endOfStreamWatcher:b!=="caption"?this.$Player$p_15:null,bufferTargetCalculator:this.$Player$p_105(b),priorityCalculator:this.$Player$p_106(),streamSegmentsCountCalculator:this.$Player$p_107(b),abrManager:h,representation:e,loggerProvider:this.$Player$p_16.cloneContext().setType(b),segmentLocator:this.$Player$p_62,setCustomFetchStreamLoggingAttributes:this.$Player$p_63,blockedRepresentationsManager:this.$Player$p_67,dynamicVideoLibrary:this.$Player$p_65,shouldAppendOncePerStream:this.$Player$p_104(b),mediaStreamType:b,warningEmitter:this.$Player$p_12,mpd:g});this.$Player$p_37===0?j.start():(i(this.$Player$p_9),this.$Player$p_19&&this.$Player$p_10.addSubscriptions(this.$Player$p_19.addListener("initialPlaybackPositionSet",function(){j.start()})));this.$Player$p_10.addSubscriptions(j.onError(this.$Player$p_11.emitError));this.$Player$p_23&&this.$Player$p_10.addSubscriptions(this.$Player$p_23.listenToMediaStreamInitAppended(j));b==="video"&&(this.$Player$p_33=new(c("oz-player/streams/OzHandleUserRepresentationSwitch"))(this.$Player$p_4,this.$Player$p_14,d("oz-player/utils/OzPlaybackRestrictionsUtils").applyVideoPlaybackRestrictions(this.$Player$p_31,this.$Player$p_103(),this.$Player$p_102()),j,a,this.$Player$p_71),this.$Player$p_10.addSubscriptions(this.$Player$p_33.onError(this.$Player$p_11.emitError)));this.$Player$p_5.set(b,j);this.$Player$p_10.addSubscriptions(j.addListener("switchRepresentation",function(){var c,a=j.getCurrentRepresentation();(c=f.$Player$p_23)==null||c.setTimeRangeProvider(a);(c=f.$Player$p_19)==null||c.setTimeRangeProvider(a);(c=f.$Player$p_20)==null||c.setTimeRangeProvider(a);b==="video"&&f.emit("switchVideoRepresentation")}),j.addListener("SegmentAppended",function(a){f.$Player$p_108("SegmentAppended",a)}),j.addListener("streamError",function(a){f.emit("streamError",a)}),j.addListener("streamErrorRetry",function(a){f.emit("streamErrorRetry",a)}))};f.$Player$p_109=function(){if(this.$Player$p_66!=null)return[new(c("oz-player/strategies/OzBufferEndLimitStrategy"))(this.$Player$p_3,this.$Player$p_66)];else return[new(c("oz-player/strategies/OzStaleManifestBufferTargetStrategy"))(i(this.$Player$p_9),this.$Player$p_4),new(c("oz-player/strategies/OzStartupBufferTargetStrategy"))(this.$Player$p_14,this.$Player$p_4),new(c("oz-player/strategies/OzBufferAheadTargetStrategy"))(this.$Player$p_4)]};f.$Player$p_110=function(){return this.$Player$p_66==null?[new(c("oz-player/strategies/OzBufferTargetCalculatorQuotaExceededConstraint"))({config:this.$Player$p_4,minimumBufferTargetSec:this.$Player$p_4.getNumber("buffer_target_constraint_minimum_sec")})]:[]};f.$Player$p_111=function(){return this.$Player$p_66==null?[new(c("oz-player/strategies/OzBufferTargetCalculatorQuotaExceededConstraint"))({config:this.$Player$p_4,minimumBufferTargetSec:0})]:[]};f.$Player$p_87=function(){return new(c("oz-player/strategies/OzBufferTargetCalculator"))(this.$Player$p_109(),this.$Player$p_110())};f.$Player$p_88=function(){return this.$Player$p_1!=null?new(c("oz-player/strategies/OzBufferTargetCalculator"))([].concat(this.$Player$p_1,this.$Player$p_109()),this.$Player$p_111()):this.$Player$p_87()};f.$Player$p_105=function(a){var b=a==="caption"?this.$Player$p_27:this.$Player$p_26;b||c("oz-player/shims/ozvariant")(0,76764,a);return b};f.$Player$p_90=function(a){var b=this;if(this.$Player$p_4.getNumber("stream_interrupt_check_mpd_stale_count_threshold")>0){var d=this.$Player$p_50,e=new(c("oz-player/strategies/OzPlayheadAtInterruptionDetector"))(this.$Player$p_3,d);this.$Player$p_10.addSubscriptions(e.addListener("playheadAtInterruption",function(a){b.$Player$p_16.getOperationLogger("stream_interrupted").log(),b.emit("streamInterruptAt",a)}),a.addListener("streamInterruptAt",function(a){var c;(c=b.$Player$p_50)==null||c.notifyStreamInterrupted();e.notifyStreamInterrupted(a)}),a.addListener("streamResumedAt",function(a){var c;b.$Player$p_16.getOperationLogger("stream_resumed").log();(c=b.$Player$p_50)==null||c.notifyStreamResumed();e.notifyStreamResumed();b.emit("streamResumedAt",a)}));this.$Player$p_32=e}};f.$Player$p_106=function(){var a=[new(c("oz-player/strategies/OzPlayingStatePriorityStrategy"))(this.$Player$p_14),new(c("oz-player/strategies/OzBufferAheadPriorityStrategy"))(this.$Player$p_4,this.$Player$p_14)].concat(this.$Player$p_4.getNumber("pixels_below_viewport_to_observe")>0&&this.$Player$p_61!=null?new(c("oz-player/strategies/OzPositionToViewportPriorityStrategy"))(this.$Player$p_61,this.$Player$p_4):[]);return new(c("oz-player/strategies/OzPriorityCalculator"))(a)};f.$Player$p_107=function(a){var b=[new(c("oz-player/strategies/OzStaticStreamSegmentsStrategy"))(this.$Player$p_4),new(c("oz-player/strategies/OzBufferTargetBoundedStreamSegmentsCountStrategy"))(this.$Player$p_105(a),this.$Player$p_4)];this.$Player$p_4.getNumber("paused_stream_segments_count")!==0&&b.push(new(c("oz-player/strategies/OzPausedStreamSegmentsCountStrategy"))(this.$Player$p_14,this.$Player$p_4));a==="video"&&b.push(new(c("oz-player/strategies/OzBandwidthBoundaryStreamSegmentsCountStrategy"))(this.$Player$p_4,this.$Player$p_102()));return new(c("oz-player/strategies/OzStreamSegmentsCountCalculator"))(b)};f.onError=function(a){return this.$Player$p_11.onError(a)};f.onWarning=function(a){return this.$Player$p_12.onError(a)};f.getSelectedVideoQuality=function(){var a=this.$Player$p_9;if(!a||this.$Player$p_2)return null;a=this.$Player$p_5.get("video");a=a&&a.getCurrentRepresentation();if(a instanceof c("oz-player/manifests/OzVideoRepresentation"))return a.getDisplayLabel();a=this.$Player$p_102();a=a[0];return a?a.getDisplayLabel():null};f.getTargetAudioTrack=function(){var a=this.$Player$p_9;if(!a)return null;a=this.$Player$p_5.get("audio");a=a&&a.getCurrentRepresentation();if(a){var b;return{id:a.getID(),displayLabel:a.getDisplayLabel(),lang:(b=a.getLang())!=null?b:null,role:a.getRole(),mimeCodecs:a.getMimeCodecs(),variantKey:a.getVariantKey()}}b=this.$Player$p_112();a=b[0];return a?a.getAudioTrack():null};f.getCurrentPlayingVideoVariant=function(){return this.$Player$p_73};f.getTargetVideoVariant=function(){return this.$Player$p_74};f.switchToVideoQuality=function(a){var b=this.$Player$p_102().find(function(b){return b.getDisplayLabel()===a});if(b){var c=this.$Player$p_5.get("video");c&&(c.switchRepresentation(b),c.disableAdaptation())}};f.switchToVideoVariant=function(a){this.$Player$p_74=a===null?{lang:null,role:null}:a;if(this.$Player$p_74.lang===((a=(a=this.$Player$p_73)==null?void 0:a.lang)!=null?a:null)&&this.$Player$p_74.role===((a=(a=this.$Player$p_73)==null?void 0:a.role)!=null?a:null)){c("oz-player/shims/ozReportUnexpectedError")(d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_SWITCH_VARIANT",description:"switchToVideoVariant switch to the same lang: "+((a=this.$Player$p_74.lang)!=null?a:"default lang")+", same role: "+((a=this.$Player$p_74.role)!=null?a:"default role")}),"switchToVideoVariant switch to the same lang: "+((a=this.$Player$p_74.lang)!=null?a:"default lang")+", same role: "+((a=this.$Player$p_74.role)!=null?a:"default role"),"warn");return}else if(!this.$Player$p_9){c("oz-player/shims/ozReportUnexpectedError")(d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_SWITCH_VARIANT",description:"switchToVideoVariant mpd is void"}),"switchToVideoVariant mpd is void","warn");return}else if(!this.$Player$p_113(this.$Player$p_74.lang)){c("oz-player/shims/ozReportUnexpectedError")(d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_SWITCH_VARIANT",description:"switchToVideoVariant lang not exist in mpd: "+((a=this.$Player$p_74.lang)!=null?a:"default lang")+", same role: "+((a=this.$Player$p_74.role)!=null?a:"default role")}),"switchToVideoVariant lang not exist in mpd: "+((a=this.$Player$p_74.lang)!=null?a:"default lang")+", same role: "+((a=this.$Player$p_74.role)!=null?a:"default role"),"warn");return}this.$Player$p_114();this.$Player$p_4.getBool("enable_lip_sync_abr_select_quality")&&this.$Player$p_4.getBool("enable_alternative_audio_tracks")&&this.$Player$p_75&&this.$Player$p_115();this.$Player$p_73=this.$Player$p_74};f.$Player$p_114=function(){var a=this.$Player$p_112()[0];if(a){var b=this.$Player$p_5.get("audio");b&&(b.switchRepresentation(a,[0,this.$Player$p_14.getDuration()]),b.disableAdaptation())}};f.$Player$p_115=function(){var a=this.$Player$p_5.get("video");if(!a)return;var b=a.getCurrentRepresentation();if(b.getLang()===this.$Player$p_74.lang&&b.getRole()===this.$Player$p_74.role)return;b=this.$Player$p_102();if(b.length===0){c("oz-player/shims/ozReportUnexpectedError")(d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_SWITCH_VARIANT",description:"switchVideoByTargetVariant no representations with target variant: "+JSON.stringify(this.$Player$p_74)}),"switchVideoByTargetVariant no representations with target variant: "+JSON.stringify(this.$Player$p_74),"warn");return}var e=this.$Player$p_6.get("video");e?(e.updateRepresentations(b),e=e.getBestRepresentation()):e=b[0];if(!e){c("oz-player/shims/ozReportUnexpectedError")(d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_SWITCH_VARIANT",description:"switchVideoByTargetVariant unable to update representations given target variant: "+JSON.stringify(this.$Player$p_74)}),"switchVideoByTargetVariant unable to update representations given target variant: "+JSON.stringify(this.$Player$p_74));return}a.switchRepresentation(e,[0,this.$Player$p_14.getDuration()]);return};f.getIsVideoQualityAdaptationEnabled=function(){var a=this.$Player$p_5.get("video");return a?a.getIsAdaptationEnabled():!1};f.enableVideoQualityAdaptation=function(){var a=this.$Player$p_5.get("video");a&&a.enableAdaptation()};f.getVideoQualities=function(){var a=this,b=this.$Player$p_9;if(!b)return[];b=this.$Player$p_102().filter(function(b){var c;return!((c=a.$Player$p_67)!=null&&c.isBlocked(b.getID()))});var c=b.some(function(a){return d("oz-player/utils/OzMimeUtil").getParsedCodecFamily(a.getCodecs())===j}),e=b.some(function(a){return d("oz-player/utils/OzMimeUtil").getParsedCodecFamily(a.getCodecs())===k});c=c?b.filter(function(a){return d("oz-player/utils/OzMimeUtil").getParsedCodecFamily(a.getCodecs())===j}):e?b.filter(function(a){return d("oz-player/utils/OzMimeUtil").getParsedCodecFamily(a.getCodecs())===k}):b.filter(function(a){return d("oz-player/utils/OzMimeUtil").getParsedCodecFamily(a.getCodecs())===l});return c.sort(function(a,b){return a.getBandwidth()-b.getBandwidth()}).map(function(a){return a.getDisplayLabel()})};f.getVideoTracks=function(){var a=this,b=this.$Player$p_9;return!b?[]:this.$Player$p_102().filter(function(b){var c;return!((c=a.$Player$p_67)!=null&&c.isBlocked(b.getID()))}).map(function(a){return{mimeCodecs:a.getMimeCodecs(),codec:a.getCodecs(),codecFamily:d("oz-player/utils/OzMimeUtil").getParsedCodecFamily(a.getMimeCodecs()),displayLabel:a.getDisplayLabel(),qualityLabel:a.getDisplayLabel(),height:a.getHeight(),id:a.getID(),qualityScoreCurveString:a.getQualityScoreCurveString("csvqm"),width:a.getWidth(),lang:a.getLang(),role:a.getRole(),variantKey:a.getVariantKey()}})};f.getAudioTracks=function(){var a=this,b=this.$Player$p_9;return!b?[]:b.getAudioRepresentations().filter(function(b){var c;return!((c=a.$Player$p_67)!=null&&c.isBlocked(b.getID()))}).map(function(a){return a.getAudioTrack()})};f.setEnableLiveheadCatchup=function(a){if(this.$Player$p_20){var b;a?this.$Player$p_16.getOperationLogger("live_catchup_enabled").setIsLatencyCachupEnabled(!0).log():this.$Player$p_16.getOperationLogger("live_catchup_disabled").setIsLatencyCachupEnabled(!1).log();(b=this.$Player$p_20)==null||b.setTimelineBlockingEnabled(a)}this.$Player$p_5.forEach(function(b){b.setEnableLiveheadCatchup(a)});(b=this.$Player$p_19)==null||b.setEnableLiveheadCatchup(a)};f.$Player$p_94=function(){var a=this;if(this.$Player$p_4.getBool("enable_alternative_audio_tracks")&&this.$Player$p_113(this.$Player$p_72)){var c;this.$Player$p_74=babelHelpers["extends"]({},this.$Player$p_74,{lang:(c=this.$Player$p_72)!=null?c:null,role:this.$Player$p_72!=null?"dub":null})}c=this.$Player$p_102()[0];this.$Player$p_62=c&&c.canPredict()&&this.$Player$p_4.getBool("pdash_use_pdash_segmentlocator")||c&&c.canApproximateId()?new(d("oz-player/streams/OzPredictedSegmentLocator").OzPredictedSegmentLocator)({videoNode:this.$Player$p_3,liveLatencyManager:this.$Player$p_40,loggerProvider:this.$Player$p_16,dynamicVideoLibrary:this.$Player$p_65}):null;c=this.$Player$p_2?[this.$Player$p_116({liveConfigsFromAudioStream:!0}),this.$Player$p_117()]:[this.$Player$p_118(),this.$Player$p_116({liveConfigsFromAudioStream:!1}),this.$Player$p_117()];var e=[];return(h||(h=b("Promise"))).all(c).then(function(){var b=a.$Player$p_5.get("video"),c=a.$Player$p_5.get("audio"),d=a.$Player$p_5.get("caption");b&&e.push(b.getCurrentRepresentation());c&&e.push(c.getCurrentRepresentation());d&&e.push(d.getCurrentRepresentation());e.forEach(function(b){a.$Player$p_10.addSubscriptions(b.addUpdateListener(function(){a.$Player$p_108("SegmentIndexesUpdated",e)}))});a.$Player$p_108("InitialSegmentIndexes",e);a.$Player$p_3&&a.$Player$p_3.style&&(a.$Player$p_3.style.display=a.$Player$p_2?"none":"block");a.$Player$p_73=a.$Player$p_74;a.emit("initialized")})};f.$Player$p_119=function(a){if(!a.getTimeRanges().length){this.$Player$p_16.getOperationLogger("playhead_adjustment").setInitiator("setup_initial_duration").setResult("failed").log();return}a=a.getTimeRanges()[a.getTimeRanges().length-1].endTime;this.$Player$p_7.updateDuration(a,!0)};f.$Player$p_120=function(a){var b;this.$Player$p_23=new(c("oz-player/media_source/OzMediaSeekableRangeManager"))(this.$Player$p_7,this.$Player$p_4);this.$Player$p_119(a);(b=this.$Player$p_23)==null||b.setTimeRangeProvider(a);(b=this.$Player$p_19)==null||b.setTimeRangeProvider(a);(b=this.$Player$p_20)==null||b.setTimeRangeProvider(a)};f.$Player$p_118=function(){var a=this.$Player$p_102();if(!a.length)return c("oz-player/shims/OzMaybeNativePromise").reject(d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_INITIALIZATION",description:"No video representations in the manifest",extra:{code:c("oz-player/utils/OzCustomErrorCode").SETUP_STREAMS_PROMISE_REJECTION.toString()}}));var b=d("oz-player/utils/OzPlaybackRestrictionsUtils").applyVideoPlaybackRestrictions(this.$Player$p_31,this.$Player$p_103(),a);if(!b.length){a=a.map(function(a){return a.getDisplayLabel()+"@"+a.getWidth()+"x"+a.getHeight()+"("+a.getMimeCodecs()+")"});return c("oz-player/shims/OzMaybeNativePromise").reject(d("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_INITIALIZATION",description:"Restricted all video representations: "+a.join(", "),extra:{code:c("oz-player/utils/OzCustomErrorCode").SETUP_STREAMS_PROMISE_REJECTION.toString()}}))}this.$Player$p_120(b[0]);a=this.$Player$p_121(b);a&&this.$Player$p_4.getBool("enable_abr_logging")&&this.$Player$p_16.getOperationLogger("video_stream_setup_initial_representation_from_prefetch").setResult("success").setReason("player_initialized").setRepresentationID(a.getID()).setPreviousRepresentationID(null).setUserInfo({initialRepresentationIDs:JSON.stringify(this.$Player$p_25)}).setType("video").setInitiator("Player").log();var e=this.$Player$p_101(a||b[0]);this.$Player$p_6.set("video",e);a||(a=e.getBestRepresentation());return this.$Player$p_99(a||b[0],"video")};f.$Player$p_102=function(){var a=this.$Player$p_9;if(!a)return[];var b=a.getVideoRepresentations();if(this.$Player$p_4.getBool("enable_lip_sync_abr_select_quality")&&this.$Player$p_4.getBool("enable_alternative_audio_tracks")&&this.$Player$p_75){var c=a.getVideoRepresentationsByVariant(this.$Player$p_74);b=c.length>0?c:a.getVideoRepresentationsByVariant({lang:null,role:null})}var e=d("oz-player/utils/OzPlaybackRestrictionsUtils").applyVideoPlaybackRestrictions(this.$Player$p_31,this.$Player$p_103(),b);return b.filter(function(a){return e.includes(a)})};f.$Player$p_112=function(){var a=this.$Player$p_9;if(!a)return[];return this.$Player$p_4.getBool("enable_alternative_audio_tracks")?a.getAudioRepresentationsByVariant(this.$Player$p_74):a.getAudioRepresentations()};f.$Player$p_113=function(a){var b=this.$Player$p_9;if(!b)return!1;var c=b.getAudioRepresentations();if(a==null)return!0;if(this.$Player$p_4.getBool("enable_alternative_audio_tracks")&&b.isStaticMpd()){b=c.findIndex(function(b){return b.getLang()===a});return b>-1}return!1};f.$Player$p_116=function(a){var b=this;a=a.liveConfigsFromAudioStream;a=a===void 0?!1:a;var d=i(this.$Player$p_9),e=d.getAudioRepresentations();a&&this.$Player$p_120(e[0]);a=-1;this.$Player$p_4.getBool("enable_alternative_audio_tracks")&&e.length>1&&d.isStaticMpd()&&(this.$Player$p_72!=null&&(a=e.findIndex(function(a){return a.getLang()===b.$Player$p_72})));if(e.length){d=a>-1?a:e.findIndex(function(a){return a.getLang()==null&&a.getRole()==null});d=d>-1?d:0;return this.$Player$p_99(a>=0&&a<e.length?e[a]:this.$Player$p_122(e)||e[d],"audio")}return c("oz-player/shims/OzMaybeNativePromise").resolve()};f.$Player$p_117=function(){var a=i(this.$Player$p_9);a=a.getApplicationRepresentations();return a.length?this.$Player$p_99(this.$Player$p_123(a)||a[0],"caption"):c("oz-player/shims/OzMaybeNativePromise").resolve()};f.getMpd=function(){return this.$Player$p_9};f.destroy=function(a){var d,e,f=this;a=this.$Player$p_16.getOperationLogger("unload").setInitiator(a).start();(d=this.$Player$p_64)==null||d.destroy();this.$Player$p_97();this.$Player$p_5.forEach(function(a){a.destroy()});this.$Player$p_33&&(this.$Player$p_33.destroy(),this.$Player$p_33=null);this.$Player$p_5=new Map();this.$Player$p_10.release();this.$Player$p_10.engage();this.$Player$p_14.destroy();this.$Player$p_19&&this.$Player$p_19.destroy();this.$Player$p_40&&(this.$Player$p_40.destroy(),this.$Player$p_40=null);this.$Player$p_20&&(this.$Player$p_20.destroy(),this.$Player$p_20=null);this.$Player$p_48&&this.$Player$p_48.destroy();this.$Player$p_61&&this.$Player$p_61.destroy();this.$Player$p_13&&this.$Player$p_13.destroy();this.$Player$p_52&&(this.$Player$p_52=null);this.$Player$p_7&&this.$Player$p_7.detach();this.$Player$p_3.pause();this.$Player$p_4.getBool("enable_revoke_object_url_on_destroy")&&URL.revokeObjectURL(this.$Player$p_3.src);this.$Player$p_3.setAttribute("src","");this.$Player$p_3.removeAttribute("src");this.$Player$p_3.removeAttribute("srcObject");d=(h||(h=b("Promise"))).resolve();"function"===typeof this.$Player$p_3.setMediaKeys&&(d=this.$Player$p_3.setMediaKeys(null));this.$Player$p_21&&this.$Player$p_21.destroy();this.$Player$p_32&&this.$Player$p_32.destroy();this.$Player$p_22.destroy();(e=this.$Player$p_23)==null||e.destroy();this.$Player$p_50&&this.$Player$p_50.destroy();this.$Player$p_67&&this.$Player$p_67.destroy();a.log();this.emit("destroyed");return d["catch"](function(a){c("oz-player/shims/ozReportUnexpectedError")(a,"Player.destroy","warn")}).then(function(){f.$Player$p_3.load()})};f.$Player$p_121=function(a){var b=this,d=a.find(function(a){return b.$Player$p_25.indexOf(a.getID())!==-1});d||(d=c("oz-player/utils/getRepresentationInCache")(a,this.$Player$p_24));return d||null};f.$Player$p_122=function(a){var b=this,e,f=a.find(function(a){return b.$Player$p_25.indexOf(a.getID())!==-1});f||(f=c("oz-player/utils/getRepresentationInCache")(a,this.$Player$p_24));!f&&!((e=this.$Player$p_9)!=null&&e.isStaticMpd())&&a.length>1&&(f=d("oz-player/utils/OzIbrUtils").getInitialAudioRepresentation(a,this.$Player$p_4,this.$Player$p_16));return f||null};f.$Player$p_123=function(a){return null};f.$Player$p_85=function(a){var b=new(c("oz-player/parsers/OzMpdParser"))({config:this.$Player$p_4,ozParserContext:{mpdUrl:this.$Player$p_18,createXmlParser:this.$Player$p_89,customParsers:this.$Player$p_28,customRepresentationParsers:this.$Player$p_29,customSegmentTimelineParser:this.$Player$p_30},networkManager:this.$Player$p_13,perfLoggerProvider:this.$Player$p_16,drmManager:this.$Player$p_48,initialRepresentationIDs:this.$Player$p_25,blockedRepresentationsManager:this.$Player$p_67,enableAlternativeAudioTracks:this.$Player$p_4.getBool("enable_alternative_audio_tracks"),useManagedMediaSource:this.$Player$p_78});a=b.parse(a);this.$Player$p_10.addSubscriptions(b.onError(this.$Player$p_11.emitError));b=d("oz-player/utils/OzPlaybackRestrictionsUtils").applyVideoPlaybackRestrictions(this.$Player$p_31,this.$Player$p_103(),a.getVideoRepresentations());if(b.length>1){var e=d("oz-player/utils/OzMimeUtil").getParsedCodecFamily(b[0].getMimeCodecs());this.$Player$p_76=!b.reduce(function(a,b){return a&&d("oz-player/utils/OzMimeUtil").getParsedCodecFamily(b.getMimeCodecs())===e},!0)}return a};f.$Player$p_79=function(){var a=[];this.$Player$p_17&&a.push(new(d("oz-player/loggings/OzDevConsolePerfLogger").OzDevConsolePerfLoggerProvider)());return a};f.$Player$p_124=function(a,b){b=this.$Player$p_5.get(b);return b?b.getRepresentationIDAtTime(a):null};f.getAudioRepresentationIDAtTime=function(a){return this.$Player$p_124(a,"audio")};f.getVideoRepresentationIDAtTime=function(a){return this.$Player$p_124(a,"video")};f.getCurrentVideoRepresentation=function(){return this.$Player$p_125("video")};f.getCurrentAudioRepresentation=function(){return this.$Player$p_125("audio")};f.getCurrentPlayingAudioTrackID=function(){var a=this.getCurrentAudioRepresentation();return a==null?void 0:a.getID()};f.$Player$p_125=function(a){var b=this.$Player$p_124(this.$Player$p_14.getCurrentTime(),a),c=this.$Player$p_9;if(!c)return null;c=[];a==="audio"?c=this.$Player$p_112():a==="video"&&(c=this.$Player$p_102());return(a=c.find(function(a){return a.getID()===b}))!=null?a:null};f.getSelectedVideoRepresentation=function(){var a=this.$Player$p_5.get("video");return a!=null?a.getCurrentRepresentation():null};f.getSelectedAudioRepresentation=function(){var a=this.$Player$p_5.get("audio");return a!=null?a.getCurrentRepresentation():null};f.getDebug=function(){var a=this,b=this.$Player$p_5.get("video"),c=this.$Player$p_5.get("audio"),d=this.$Player$p_5.get("caption"),e,f,g,h,j,k,l;if(b){var m;e=(m=b.getDebug())==null?void 0:m.MediaStreamAbrManager;f=(m=b.getDebug())==null?void 0:m.SourceBufferManager;if(f){g=(m=f.getDebug())==null?void 0:m.SourceBuffer}}if(c){h=(m=c.getDebug())==null?void 0:m.SourceBufferManager;if(h){j=(m=h.getDebug())==null?void 0:m.SourceBuffer}}if(d){k=(m=d.getDebug())==null?void 0:m.SourceBufferManager;if(k){l=(m=k.getDebug())==null?void 0:m.SourceBuffer}}return{getManifest:function(){return i(a.$Player$p_9)},DashManifestParsed:this.$Player$p_9,VideoSourceStream:b,VideoAbrManager:e,VideoBufferManager:f,VideoSourceBuffer:g,AudioSourceStream:c,AudioBufferManager:h,AudioSourceBuffer:j,CaptionSourceStream:d,CaptionBufferManager:k,CaptionSourceBuffer:l}};f.injectExternalDebugEvent=function(a,b){this.$Player$p_108(a,b)};f.$Player$p_108=function(a,b){this.emit("debug/dashPlayerEvent",{detail:{type:a,event:b}})};f.$Player$p_82=function(){var a=this,b=new(c("oz-player/strategies/OzBufferingDetector"))(this.$Player$p_3,this.$Player$p_4.getLegacyConfig(),function(){return a.$Player$p_51?a.$Player$p_3.duration:Infinity});b.attachPerfLoggerProvider(this.$Player$p_16);this.$Player$p_10.addSubscriptions(b.addListener("enterBuffering",function(b){a.emit("enterBuffering",b)}),b.addListener("leaveBuffering",function(b){a.emit("leaveBuffering",b)}));return b};f.$Player$p_103=function(){var a=this.$Player$p_52?this.$Player$p_52():{width:this.$Player$p_3.offsetWidth,height:this.$Player$p_3.offsetHeight};return a};f.getMpdUrl=function(){return this.$Player$p_18};f.$Player$p_98=function(a){var b=this;this.$Player$p_18=a;var c=this.$Player$p_9;if(!c){this.$Player$p_60=!0;return}else{c.updateLocation(a);this.$Player$p_43&&(this.$Player$p_10.releaseOne(this.$Player$p_43),this.$Player$p_43=null);a=function(){b.$Player$p_43&&(b.$Player$p_10.releaseOne(b.$Player$p_43),b.$Player$p_43=null),b.$Player$p_5.forEach(function(a,d){var e=a.getCurrentRepresentation(),f=e.getDisplayLabel();e=(d==="video"?b.$Player$p_102():c.getAudioRepresentations()).slice();if(d==="video"){d=b.$Player$p_6.get(d);d&&d.updateRepresentations(b.$Player$p_102())}d=e[0];e.forEach(function(a){var b=a.getDisplayLabel();b===f&&(d=a)});a.switchRepresentation(d);a.restartLoopBody()})};this.$Player$p_43=c.addListener("updated",a);this.$Player$p_10.addSubscriptions(this.$Player$p_43)}};f.getPerfLoggerProvider=function(){return this.$Player$p_16};f.getApproximateFBLSToPlayerDisplayLatency=function(){var a,b;a=Number((a=(a=this.$Player$p_9)==null?void 0:a.getCustomField("lastVideoFrameTs"))!=null?a:void 0);b=Number((b=(b=this.$Player$p_9)==null?void 0:b.getCustomField("currentServerTimeMs"))!=null?b:void 0);var c=this.$Player$p_126(a,b);a=this.$Player$p_127(a,b);return{latencyFromClockSync:a,latencyFromMpdUpdate:c}};f.$Player$p_126=function(a,b){if(!this.$Player$p_14.getCurrentTime()||isNaN(a)||isNaN(b))return null;b=0;this.$Player$p_58===a?b=(c("oz-player/shims/OzPerformance").now()-Number(this.$Player$p_59))/1e3:(this.$Player$p_59=c("oz-player/shims/OzPerformance").now(),this.$Player$p_58=a);a=a/1e3+b-this.$Player$p_14.getCurrentTime();return a};f.$Player$p_127=function(a,b){var d;if(!this.$Player$p_14.getCurrentTime()||isNaN(a)||isNaN(b)||c("oz-player/networks/OzClientClock").getClientClockOffsetMs()==null||!c("oz-player/networks/OzClientClock").getClientClockOffsetMs())return null;d=this.$Player$p_14.getCurrentTimeUpdateTime()+((d=c("oz-player/networks/OzClientClock").getClientClockOffsetMs())!=null?d:0);b=b;var e=this.$Player$p_14.getCurrentTime()*1e3;a=a;d=(d-b-(e-a))/1e3;return d};f.$Player$p_80=function(){this.$Player$p_5.forEach(function(a){a.restartLoopBody();var b=a.getCurrentRepresentation();a.switchRepresentation(b)})};return e}(c("oz-player/shims/OzEventEmitter"));g["default"]=a}),98);
__d("oz-player",["oz-player/Player"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("oz-player/Player")}),98);/*FB_PKG_DELIM*/
__d("InstagramNetegoDeliveryFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5887");b=d("FalcoLoggerInternal").create("instagram_netego_delivery",a);e=b;g["default"]=e}),98);
__d("InstagramNetegoImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5889");b=d("FalcoLoggerInternal").create("instagram_netego_impression",a);e=b;g["default"]=e}),98);
__d("InstagramNetegoInvalidationFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5891");b=d("FalcoLoggerInternal").create("instagram_netego_invalidation",a);e=b;g["default"]=e}),98);
__d("InstagramNetegoSubImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5892");b=d("FalcoLoggerInternal").create("instagram_netego_sub_impression",a);e=b;g["default"]=e}),98);
__d("PolarisAbraIcebreakersFeedUnit_icebreakers.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisAbraIcebreakersFeedUnit_icebreakers",selections:[{alias:null,args:null,concreteType:"XDTAbraPromotionalIcebreakerPrompt",kind:"LinkedField",name:"icebreakers",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"PolarisAbraIcebreakersHScroll_icebreakers"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"feed_item_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"qp_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tracking_token",storageKey:null},{args:null,kind:"FragmentSpread",name:"usePolarisAbraIcebreakersNetegoDeliveryLogger_item"}],type:"XDTAbraIcebreakersInFeedUnit",abstractKey:null};e.exports=a}),null);
__d("PolarisAbraIcebreakersHScrollCard_icebreaker.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisAbraIcebreakersHScrollCard_icebreaker",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"display_string",storageKey:null},action:"THROW"},{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"icebreaker_id",storageKey:null},action:"THROW"},{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"image_url",storageKey:null},action:"THROW"},{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"deeplink_url",storageKey:null},action:"THROW"}],type:"XDTAbraPromotionalIcebreakerPrompt",abstractKey:null};e.exports=a}),null);
__d("PolarisAbraIcebreakersUtils",["ix"],(function(a,b,c,d,e,f,g,h){"use strict";a="https://www.meta.ai/?utm_source=ig_abra_promo";b=function(a){switch(a){case"1970spickuptruck":return h("903673");case"animeprincesswarrior":return h("903676");case"astronautDJ":return h("903677");case"baroquesandcastle":return h("903678");case"birthdaycakeplanet":return h("903679");case"bunniesgettingmarried":return h("903680");case"cowwithaUFO":return h("903681");case"crayonhouse":return h("903682");case"crochetedwildflowers":return h("903683");case"cyberpunkmermaid":return h("903684");case"dessertlivingroom":return h("903685");case"Frenchbulldogpromqueen":return h("903674");case"frenchgoldfish":return h("903686");case"gargoyleplayingvideogames":return h("903687");case"glassfoods":return h("903688");case"gummytoyinacastleforest":return h("903689");case"icecarinthedesert":return h("903690");case"isometricdragonsplayingcards":return h("903691");case"koalasplayingtennis":return h("903692");case"Llamasonelectricscooters":return h("903675");case"marketlinocut":return h("903693");case"martianharvestingmooncheese":return h("903694");case"mischievouscatanddogduo":return h("903695");case"mysticalblackcat":return h("903696");case"porcelainhelmet":return h("903697");case"renaissancekitty":return h("903698");case"sleepyguydrinkingcoffee":return h("903699");case"statueDJing":return h("903700");case"steampunkredpanda":return h("903701");case"sumiecatoutput":return h("903702");case"superherogalpopart":return h("903703");case"teacupintoflowers":return h("903704");case"test-imaginealien":return h("903705");case"test-imagineanime1":return h("903706");case"test-imaginebunny":return h("903708");case"test-imaginediner1":return h("903709");case"test-imaginedino":return h("903710");case"vacationingchimp":return h("903711");case"vintageanimefairyinadesert":return h("903712");case"voxelfoodtruck":return h("903713");case"wovenbutterfly":return h("903714");default:return null}};g.META_AI_URL=a;g.getAssetURLFromImageAssetHandle=b}),98);
__d("PolarisAbraIcebreakersHScrollCard.react",["CometRelay","IGDSBox.react","IGDSTextVariants.react","Image.react","PolarisAbraIcebreakersHScrollCard_icebreaker.graphql","PolarisAbraIcebreakersUtils","PolarisFastLink.react","react","react-compiler-runtime","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));e=i;e.useCallback;var k=e.useRef,l={container:{paddingBottom:"x1l90r2v",$$css:!0}},m=221,n=153;function a(a){var e=d("react-compiler-runtime").c(25),f=a.fragmentKey,g=a.logCardImpression,i=a.logPress,o=a.position;a=d("CometRelay").useFragment(h!==void 0?h:h=b("PolarisAbraIcebreakersHScrollCard_icebreaker.graphql"),f);f=a.deeplink_url;var p=a.display_string,q=a.icebreaker_id;a=a.image_url;var r=k(!1),s;e[0]!==q||e[1]!==g||e[2]!==o?(s={onVisible:function(){r.current||(g(q,o),r.current=!0)}},e[0]=q,e[1]=g,e[2]=o,e[3]=s):s=e[3];s=c("useVisibilityObserver")(s);var t;e[4]!==q||e[5]!==i||e[6]!==o?(t=function(){i(q,o)},e[4]=q,e[5]=i,e[6]=o,e[7]=t):t=e[7];t=t;var u;e[8]!==a?(u=d("PolarisAbraIcebreakersUtils").getAssetURLFromImageAssetHandle(a),e[8]=a,e[9]=u):u=e[9];e[10]===Symbol["for"]("react.memo_cache_sentinel")?(a={borderRadius:"11px 11px 0px 0px"},e[10]=a):a=e[10];e[11]!==s||e[12]!==u?(a=j.jsx(c("Image.react"),{ref:s,src:u,style:a,width:n}),e[11]=s,e[12]=u,e[13]=a):a=e[13];e[14]===Symbol["for"]("react.memo_cache_sentinel")?(u={className:"xz9dl7a xpdmqnj xsag5q8 x1g0dm76"},e[14]=u):u=e[14];e[15]!==p?(u=j.jsx("div",babelHelpers["extends"]({},u,{children:j.jsx(d("IGDSTextVariants.react").IGDSTextBodyEmphasized,{maxLines:2,children:p})})),e[15]=p,e[16]=u):u=e[16];e[17]!==s||e[18]!==a||e[19]!==u?(p=j.jsxs(c("IGDSBox.react"),{border:!0,containerRef:s,height:m,shape:"extraRounded",xstyle:l.container,children:[a,u]}),e[17]=s,e[18]=a,e[19]=u,e[20]=p):p=e[20];e[21]!==f||e[22]!==t||e[23]!==p?(s=j.jsx(c("PolarisFastLink.react"),{href:f,onClick:t,target:"_blank",children:p}),e[21]=f,e[22]=t,e[23]=p,e[24]=s):s=e[24];return s}g["default"]=a}),98);
__d("PolarisAbraIcebreakersHScroll_icebreakers.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"PolarisAbraIcebreakersHScroll_icebreakers",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"icebreaker_id",storageKey:null},action:"THROW"},{args:null,kind:"FragmentSpread",name:"PolarisAbraIcebreakersHScrollCard_icebreaker"}],type:"XDTAbraPromotionalIcebreakerPrompt",abstractKey:null};e.exports=a}),null);
__d("PolarisHScrollAnimationController.react",["cx","invariant","CometEventListener","PolarisEventLoop","PolarisResponsiveBlock.react","PolarisUA","joinClasses","nullthrows","polarisDebounce","react","shallowEqual"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react"),l=50,m=300,n=.75,o=30,p=20,q=30;function a(a){return Math.pow(Math.abs(a),.75)*10}b=function(a){function b(b){var d;d=a.call(this,b)||this;d.$20=function(){d.setState(function(a,b){b=b.onAnimationEnd;var c=a.futureScrollLeft;d.$21(b,a.currentScrollLeft,c);return{currentScrollLeft:c,futureScrollLeft:c}})};d.$28=function(a){if(d.isAnimated())return;a=a;var b=a.deltaMode,e=a.deltaX;d.setState(function(a,f){f=f.onUserScroll;var g=a.currentScrollLeft;d.$5==null&&(d.$5=g);var h=d.$5;a=[1,16,a.outerWidth];g+=e*a[b];g=d.$17(g);d.$6!=null&&c("PolarisEventLoop").clearTimeout(d.$6);d.$6=c("PolarisEventLoop").setTimeout(d.$29,m);f!=null&&f({scrollLeft:g,scrollRight:d.$25(g)});a=Math.abs(g-h);a>o&&(d.$13=!0);d.$18();return{currentScrollLeft:g,futureScrollLeft:g}})};d.$30=function(a){a.touches.length>1||d.isAnimated()?d.$7=null:(d.$7=a.touches[0].clientX,d.$8=a.touches[0].clientY,d.$12=d.state.currentScrollLeft),d.$18()};d.$31=function(a){if(d.$7==null||d.$8==null||d.$12==null||d.isAnimated())return;var b=d.$12,c=a.touches[0].clientX-d.$7;a=a.touches[0].clientY-d.$8;var e=b-c;e=d.$26(e);if(!d.$11){b=Math.abs(c)>Math.abs(a);b&&(d.$13=!0,d.$10=window.scrollY);d.$11=!0}d.$13&&d.$10===window.scrollY&&d.setState(function(a,b){a=b.onUserScroll;a!=null&&a({scrollLeft:e,scrollRight:d.$25(e)});return{currentScrollLeft:e,futureScrollLeft:e}})};d.$32=function(){d.$7!=null&&d.$29(),d.$7=null,d.$8=null,d.$11=!1};d.$29=function(){var a=d.props.onUserScrollEnd;if(a!=null){var b=d.state.currentScrollLeft;a({scrollLeft:b,scrollRight:d.$25(b)})}d.$13=!1;d.$5=null};d.$33=function(a){a=a;var b=d.state.futureScrollLeft;a.keyCode===37?d.props.snapPoints?d.scrollTo(d.$22(b)):d.scrollBy(-p):a.keyCode===39&&(d.props.snapPoints?d.scrollTo(d.$23(b)):d.scrollBy(p))};d.$34=function(a){if(d.$13&&a.cancelable){a.preventDefault();a.stopPropagation();return!1}return void 0};d.$15=function(a,b){d.$35(d.state.innerWidth,a,b)};d.$36=function(a,b){d.$35(a,d.state.outerWidth,b)};d.$15=c("polarisDebounce")(d.$15,l,d);d.state={currentScrollLeft:0,futureScrollLeft:0,height:0,innerWidth:0,outerWidth:0};return d}babelHelpers.inheritsLoose(b,a);var e=b.prototype;e.getScrollableElement=function(){return this.$4};e.isAnimated=function(a){a=a||this.state;return a.currentScrollLeft!==a.futureScrollLeft};e.scrollTo=function(a,b){b===void 0&&(b={}),this.scrollBy(a-this.state.futureScrollLeft,b)};e.scrollBy=function(a,b){var d=this;b=b===void 0?{}:b;var e=b.animated,f=e===void 0?!0:e;e=b.snap;var g=e===void 0?!0:e;this.setState(function(b,e){g=g&&e.snapPoints!=null;b=b.futureScrollLeft+a;g&&(b=d.$16(b));b=d.$17(b);d.$18();d.$9!=null&&(d.$9.remove(),d.$9=null);if(!f)return{currentScrollLeft:b,futureScrollLeft:b};var h=d.$19();d.$4||i(0,51628);d.$9=c("CometEventListener").listen(d.$4,"transitionend",d.$20);d.$21(e.onAnimationStart,h,b);return{currentScrollLeft:h,futureScrollLeft:b}})};e.$22=function(a){var b=this.props.snapPoints;return this.$16(a,b&&b.filter(function(b){return b<a}),[0])};e.$23=function(a){var b=this.props.snapPoints;return this.$16(a,b&&b.filter(function(b){return b>a}),[this.state.innerWidth-this.state.outerWidth])};e.$24=function(a){return Math.abs(a)>=q};e.$16=function(a,b,c){b=b||this.props.snapPoints;b!=null||i(0,51629);c=c||[0,this.state.innerWidth-this.state.outerWidth];var d=function(b){return Math.abs(b-a)},e=this.$12||0,f=this.$24(d(e)),g=e<a&&f;f=e>a&&f;var h=Infinity;b=b.concat(c);for(c of b){if(g&&c<=e)continue;if(f&&c>=e)continue;d(c)<d(h)&&(h=c)}return h===Infinity?e:h};e.$19=function(){if(!this.$4)return this.state.currentScrollLeft;var a=window.getComputedStyle(this.$4);a=a.transform||a.webkitTransform;if(!a)return this.state.currentScrollLeft;var b=window.WebKitCSSMatrix||window.MSCSSMatrix;if(b){b=new b(a);return-b.m41}return this.state.currentScrollLeft};e.$21=function(a,b,c){if(a==null)return;a({from:{scrollLeft:b,scrollRight:this.$25(b)},to:{scrollLeft:c,scrollRight:this.$25(c)}})};e.$25=function(a,b,c){c=c||this.state.outerWidth;b=Math.max(c,b||this.state.innerWidth);return b-c-a};e.$17=function(a,b,c){c=c||this.state.outerWidth;b=Math.max(c,b||this.state.innerWidth);return Math.min(b-c,Math.max(0,a))};e.$26=function(a){var b=this.$25(a);if(a<0)return-Math.pow(-a,n);else if(b<0){var c=-Math.pow(-b,n);return a-(c-b)}return a};e.$27=function(a){var b=Math.min(a.currentScrollLeft,a.futureScrollLeft),c=Math.max(a.currentScrollLeft,a.futureScrollLeft)+a.outerWidth;return{bottom:a.height,height:a.height,left:b,right:c,top:0,width:c-b}};e.$35=function(a,b,c){var d=this;if(!this.$1)return;this.setState(function(e,f){f=f.onResize;e=d.$17(e.futureScrollLeft,a,b);var g=d.$25(e,a,b);f&&f({scrollLeft:e,scrollRight:g});return{currentScrollLeft:e,futureScrollLeft:e,height:c,innerWidth:a,outerWidth:b}})};e.$37=function(a,b){a=a.onVisibilityChange;if(a!=null){b=this.$27(b);c("shallowEqual")(this.$14,b)||(a(b),this.$14=b)}};e.$18=function(){var a=this.$3;a&&(a.scrollLeft=0)};e.render=function(){var a=this,b=this.props,d=b.children;b=b.className;return k.jsx(c("PolarisResponsiveBlock.react"),{className:c("joinClasses")(b,"_adc-"),onResize:this.$15,ref:function(b){return a.$3=b},children:k.jsx("div",{className:"_adc_",onTouchEnd:this.$32,onTouchMove:this.$31,onTouchStart:this.$30,ref:function(b){return a.$4=b},tabIndex:0,children:k.jsx(c("PolarisResponsiveBlock.react"),{className:"_add0",onResize:this.$36,children:d})})})};e.componentDidUpdate=function(a,b){var d=this;this.$37(this.props,this.state);var e=c("nullthrows")(this.$4);a=this.state;var f=a.currentScrollLeft;a=a.futureScrollLeft;a=a-f;f=this.props.getAnimationDuration(a);f=Math.max(f,1);e.style.transitionDuration=(this.isAnimated()?f/1e3:0)+"s";if(this.isAnimated()===this.isAnimated(b)){a="translateX("+-this.state.futureScrollLeft+"px)";e.style.webkitTransform=a;e.style.transform=a;return}window.requestAnimationFrame(function(){void e.offsetHeight;var a="translateX("+-d.state.futureScrollLeft+"px)";e.style.webkitTransform=a;e.style.transform=a})};e.componentDidMount=function(){var a=c("nullthrows")(this.$4);this.$1=!0;this.$37(this.props,this.state);d("PolarisUA").isDesktop()&&(a.addEventListener("wheel",this.$28),document.addEventListener("wheel",this.$34));document.addEventListener("touchmove",this.$34);a.addEventListener("keydown",this.$33);a.addEventListener("touchforcechange",this.$34)};e.componentWillUnmount=function(){var a=c("nullthrows")(this.$4);this.$1=!1;d("PolarisUA").isDesktop()&&(a.removeEventListener("wheel",this.$28),document.removeEventListener("wheel",this.$34));document.removeEventListener("touchmove",this.$34);a.removeEventListener("keydown",this.$33);a.removeEventListener("touchforcechange",this.$34);this.$6&&c("PolarisEventLoop").clearTimeout(this.$6);this.$9!=null&&(this.$9.remove(),this.$9=null);this.$2&&this.$2()};return b}(k.PureComponent);b.defaultProps={getAnimationDuration:a};g["default"]=b}),98);
__d("PolarisHScrollContainer.react",["cx","invariant","ExecutionEnvironment","PolarisHScrollAnimationController.react","PolarisPagerButton.react","joinClasses","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=k||d("react");a=function(a){function b(b){var c;c=a.call(this,b)||this;c.$1=l.createRef();c.$4=function(){c.$3(!1)};c.$5=function(){c.$3(!0)};c.$6=function(a){c.$7(a),c.props.onResize&&c.props.onResize(a)};c.$8=function(a){c.props.onLogEvent!=null&&c.props.onLogEvent({source:"hscroll",type:"scroll"}),c.$7(a)};c.$9=function(a){c.$2!=null&&c.props.snapPoints!=null&&c.$2.scrollBy(0)};c.$10=function(a){c.$7(a.to)};c.state={leftPagerEnabled:!1,rightPagerEnabled:!1};return c}babelHelpers.inheritsLoose(b,a);var e=b.prototype;e.getClickScrollIncrement=function(){this.$2!=null||i(0,63797);if(this.props.clickScrollIncrement!=null)return this.props.clickScrollIncrement;var a=this.$2.getScrollableElement();a!=null||i(0,63798);return a.offsetWidth};e.getContainerElement=function(){return this.$1.current};e.$3=function(a){this.props.onLogEvent!=null&&this.props.onLogEvent({source:"hscroll",type:"click"});var b=this.getClickScrollIncrement();this.$2!=null&&this.$2.scrollBy(a?b:-b)};e.scrollToNext=function(){this.$5()};e.$7=function(a){var b=a.scrollLeft;a=a.scrollRight;this.setState({leftPagerEnabled:b>0,rightPagerEnabled:a>0})};e.render=function(){var a=this,b=this.props,e=b.children,f=b.className,g=b.disablePagerButtons,h=b.getAnimationDuration,i=b.onVisibilityChange;b=b.snapPoints;return!(j||(j=c("ExecutionEnvironment"))).canUseDOM?l.jsx("div",{className:c("joinClasses")(f,"_adl5"),ref:this.$1,children:e}):l.jsxs("div",{className:c("joinClasses")(f,"_adl6"),ref:this.$1,children:[l.jsx(c("PolarisHScrollAnimationController.react"),{getAnimationDuration:h,onAnimationStart:this.$10,onResize:this.$6,onUserScroll:this.$8,onUserScrollEnd:this.$9,onVisibilityChange:i,ref:function(b){return a.$2=b},snapPoints:b,children:e}),l.jsx(d("PolarisPagerButton.react").PagerButton,{direction:d("PolarisPagerButton.react").PAGER_BUTTON_DIRECTIONS.previous,enabled:this.state.leftPagerEnabled&&!g,onClick:this.$4,variant:this.props.pagerVariant}),l.jsx(d("PolarisPagerButton.react").PagerButton,{direction:d("PolarisPagerButton.react").PAGER_BUTTON_DIRECTIONS.next,enabled:this.state.rightPagerEnabled&&!g,onClick:this.$5,variant:this.props.pagerVariant})]})};return b}(l.PureComponent);g["default"]=a}),98);
__d("PolarisAbraIcebreakersHScroll.react",["CometRelay","IGDSBox.react","PolarisAbraIcebreakersHScrollCard.react","PolarisAbraIcebreakersHScroll_icebreakers.graphql","PolarisHScrollContainer.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e=d("react-compiler-runtime").c(5),f=a.fragmentKey,g=a.logCardImpression,i=a.logCardPress;a=d("CometRelay").useFragment(h!==void 0?h:h=b("PolarisAbraIcebreakersHScroll_icebreakers.graphql"),f);e[0]===Symbol["for"]("react.memo_cache_sentinel")?(f={className:"x1hq5gj4 xw7yly9"},e[0]=f):f=e[0];e[1]!==a||e[2]!==g||e[3]!==i?(f=j.jsx("div",babelHelpers["extends"]({},f,{children:j.jsx(c("PolarisHScrollContainer.react"),{children:j.jsx(c("IGDSBox.react"),{columnGap:3,direction:"row",children:a.map(function(a,b){return j.jsx(c("PolarisAbraIcebreakersHScrollCard.react"),{fragmentKey:a,logCardImpression:g,logPress:i,position:b},a.icebreaker_id)})})})})),e[1]=a,e[2]=g,e[3]=i,e[4]=f):f=e[4];return f}g["default"]=a}),98);
__d("usePolarisAbraIcebreakersNetegoDeliveryLogger_item.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePolarisAbraIcebreakersNetegoDeliveryLogger_item",selections:[{alias:null,args:null,kind:"ScalarField",name:"feed_item_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tracking_token",storageKey:null}],type:"XDTAbraIcebreakersInFeedUnit",abstractKey:null};e.exports=a}),null);
__d("useRunCallbackOnce",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useRef;function a(a){var b=i(!1);return function(){b.current||(a(),b.current=!0)}}g["default"]=a}),98);
__d("usePolarisAbraIcebreakersNetegoDeliveryLogger",["CometRelay","InstagramNetegoDeliveryFalcoEvent","react-compiler-runtime","usePolarisAbraIcebreakersNetegoDeliveryLogger_item.graphql","useRunCallbackOnce"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var e=d("react-compiler-runtime").c(2),f=d("CometRelay").useFragment(h!==void 0?h:h=b("usePolarisAbraIcebreakersNetegoDeliveryLogger_item.graphql"),a);e[0]!==f?(a=function(){if(f!=null){var a=f.feed_item_type,b=f.id,d=f.tracking_token,e={id:b,tracking_token:d,type:a};c("InstagramNetegoDeliveryFalcoEvent").logImmediately(function(){return e})}},e[0]=f,e[1]=a):a=e[1];e=c("useRunCallbackOnce")(a);e()}g["default"]=a}),98);
__d("usePolarisNetegoFeedUnitImpressionLogger",["InstagramNetegoImpressionFalcoEvent","InstagramNetegoSubImpressionFalcoEvent","PolarisConfig","react","react-compiler-runtime","usePartialViewImpression"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;var i=6e4,j=new Map();function k(a,b){j.set(a,b)}function a(a){var b=d("react-compiler-runtime").c(9),e=a.gapToPreviousAd,f=a.gapToPreviousNetego,g=a.id,h=a.netegoType,l=a.position,m=a.trackingToken;b[0]!==e||b[1]!==f||b[2]!==g||b[3]!==h||b[4]!==l||b[5]!==m?(a=function(a){a=a.visibleTime;if(g==null||h==null)return;var b=d("PolarisConfig").getViewerId(),n={gap_to_last_ad:e!=null?String(e):null,gap_to_last_netego:f!=null?String(f):null,id:g,pk:b,position:String(l),tracking_token:m,type:h},o=n.id+"-"+String(l),p=j.get(o);p==null?(c("InstagramNetegoImpressionFalcoEvent").logImmediately(function(){return babelHelpers["extends"]({},n,{ig_userid:b})}),k(o,a)):a-p>i&&(c("InstagramNetegoSubImpressionFalcoEvent").logImmediately(function(){return n}),k(o,a))},b[0]=e,b[1]=f,b[2]=g,b[3]=h,b[4]=l,b[5]=m,b[6]=a):a=b[6];a=a;var n;b[7]!==a?(n={onImpressionStart:a},b[7]=a,b[8]=n):n=b[8];return c("usePartialViewImpression")(n)}g["default"]=a}),98);
__d("useQuickPromotionClientLogsFalcoEvent",["react","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback,j=c("requireDeferred")("QpClientLogsFalcoEvent").__setRef("useQuickPromotionClientLogsFalcoEvent");function a(a,b){var c=i(function(c){var d,e=c.actionType;e=e===void 0?null:e;var f=c.candidateID,g=c.cardPosition;g=g===void 0?null:g;var h=c.extraLoggingData;h=h===void 0?null:h;var i=c.interaction,k=c.predictedScore;c=c.predictedValue;if(a==null)return;var l=(d={},d.action_type=e!=null?e:"not_specified",d.ecvr=k.toString(),d.value=c.toString(),d);g!=null&&(l.horizontal_position=g.toString());h!=null&&(l.extra_data=h);j.onReady(function(c){c.log(function(){return{candidate_id:f,card_metadata:l,interaction:i,qp_id:a,qp_instance_log_data:{qp_id:a},trigger:b}})})},[a,b]),d=i(function(){if(a==null)return;j.onReady(function(c){c.log(function(){return{interaction:"secondary_action_click",qp_id:a,qp_instance_log_data:{qp_id:a},trigger:b}})})},[a,b]),e=i(function(c){if(a==null)return;j.onReady(function(d){d.log(function(){return{interaction:c,qp_id:a,qp_instance_log_data:{qp_id:a},trigger:b}})})},[a,b]);return{log:c,logHscrollEvent:e,logSecondaryAction:d}}g["default"]=a}),98);
__d("PolarisAbraIcebreakersFeedUnit.react",["fbt","CometRelay","IGDSBox.react","IGDSButton.react","IGDSTextVariants.react","IGDSVerifiedBadge.react","Image.react","PolarisAbraIcebreakersFeedUnit_icebreakers.graphql","PolarisAbraIcebreakersHScroll.react","PolarisAbraIcebreakersUtils","PolarisFastLink.react","PolarisLogger","PolarisQPConstants","XPolarisProfileControllerRouteBuilder","bx","react","react-compiler-runtime","usePolarisAbraIcebreakersNetegoDeliveryLogger","usePolarisNetegoFeedUnitImpressionLogger","useQuickPromotionClientLogsFalcoEvent"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));e=j;e.useCallback;var l=e.useEffect;e.useMemo;var m={bgGradient:{backgroundColor:"xnz67gz",backgroundSize:"x18d0r48",borderTopColor:"x1gbu3ll",borderInlineEndColor:"xddln23",borderBottomColor:"xnzhmsc",borderInlineStartColor:"x723t9i",borderStartStartRadius:"x1rl75mt",borderStartEndRadius:"x19t5iym",borderEndEndRadius:"xz7t8uv",borderEndStartRadius:"x13xmedi",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"xt8cgyo",borderInlineEndWidth:"x128c8uf",borderBottomWidth:"x1co6499",borderInlineStartWidth:"xc5fred",paddingBottom:"x1120s5i",paddingInlineStart:"x25sj25",paddingInlineEnd:"x1icxu4v",paddingLeft:null,paddingRight:null,paddingTop:"x1yrsyyn",$$css:!0},cardContainer:{marginTop:"xw7yly9",marginBottom:"x1yztbdb",marginInlineStart:"x1diwwjn",marginInlineEnd:"xbmvrgn",marginLeft:null,marginRight:null,$$css:!0},endOfHScrollLinearGradient:{background:"x1dk70m8",insetInlineEnd:"xtijo5x",left:null,right:null,marginTop:"xn0ockd",opacity:"x1us6l5c",position:"x10l6tqk",$$css:!0}},n=h._(/*BTDS*/"Logotipo de Meta AI"),o=h._(/*BTDS*/"Meta AI"),p=h._(/*BTDS*/"Explora las posibilidades de Meta\u00a0AI"),q="meta.ai";function a(a){var e=d("react-compiler-runtime").c(46),f=a.fragmentKey,g=a.gapToPreviousAd,j=a.gapToPreviousNetego;a=a.index;f=d("CometRelay").useFragment(i!==void 0?i:i=b("PolarisAbraIcebreakersFeedUnit_icebreakers.graphql"),f);var r;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(r=c("XPolarisProfileControllerRouteBuilder").buildUri({username:q}).toString(),e[0]=r):r=e[0];r=r;var s;e[1]!==f.feed_item_type||e[2]!==f.id||e[3]!==f.tracking_token||e[4]!==g||e[5]!==j||e[6]!==a?(s={gapToPreviousAd:g,gapToPreviousNetego:j,id:f.id,netegoType:f.feed_item_type,position:a,trackingToken:f.tracking_token},e[1]=f.feed_item_type,e[2]=f.id,e[3]=f.tracking_token,e[4]=g,e[5]=j,e[6]=a,e[7]=s):s=e[7];g=c("usePolarisNetegoFeedUnitImpressionLogger")(s);c("usePolarisAbraIcebreakersNetegoDeliveryLogger")(f);j=f.qp_id;var t=c("useQuickPromotionClientLogsFalcoEvent")(j,"ig_feed_timeline");e[8]===Symbol["for"]("react.memo_cache_sentinel")?(a={},e[8]=a):a=e[8];if(e[9]!==j){s=(s=j==null?void 0:j.toString())!=null?s:"";e[9]=j;e[10]=s}else s=e[10];e[11]!==s?(j={encrypted_instance_log_data:null,instance_log_data:a,nux_id:12885,promotion_id:s},e[11]=s,e[12]=j):j=e[12];a=j;var u=a;e[13]!==u?(s=function(){d("PolarisLogger").logQuickPromotionEvent(d("PolarisQPConstants").LOG_EVENTS.view,u)},j=[u],e[13]=u,e[14]=s,e[15]=j):(s=e[14],j=e[15]);l(s,j);e[16]!==t||e[17]!==u?(a=function(a,b){t.log({candidateID:a.toString(),cardPosition:b,interaction:"candidate_primary_click",predictedScore:0,predictedValue:0}),d("PolarisLogger").logQuickPromotionEvent(d("PolarisQPConstants").LOG_EVENTS.click,babelHelpers["extends"]({},u,{instance_log_data:{candidateID:a.toString(),cardPosition:b},object_id:"primary"}))},e[16]=t,e[17]=u,e[18]=a):a=e[18];s=a;e[19]!==t?(j=function(a,b){t.log({candidateID:a.toString(),cardPosition:b,interaction:"candidate_impression",predictedScore:0,predictedValue:0})},e[19]=t,e[20]=j):j=e[20];a=j;e[21]!==u?(j=function(){d("PolarisLogger").logQuickPromotionEvent(d("PolarisQPConstants").LOG_EVENTS.click,babelHelpers["extends"]({},u,{object_id:"secondary"}))},e[21]=u,e[22]=j):j=e[22];j=j;var v;e[23]!==u?(v=function(){d("PolarisLogger").logQuickPromotionEvent(d("PolarisQPConstants").LOG_EVENTS.click,babelHelpers["extends"]({},u,{object_id:"secondary"}))},e[23]=u,e[24]=v):v=e[24];v=v;var w;e[25]===Symbol["for"]("react.memo_cache_sentinel")?(w=k.jsx(c("Image.react"),{alt:n,height:24,src:c("bx").getURL(c("bx")("30216")),width:24}),e[25]=w):w=e[25];e[26]!==j?(r=k.jsx(c("PolarisFastLink.react"),{href:r,onClick:j,xstyle:m.bgGradient,children:w}),e[26]=j,e[27]=r):r=e[27];e[28]===Symbol["for"]("react.memo_cache_sentinel")?(w=k.jsxs(c("IGDSBox.react"),{direction:"column",rowGap:2,width:"100%",children:[k.jsxs(c("IGDSBox.react"),{columnGap:1,direction:"row",children:[k.jsx(d("IGDSTextVariants.react").IGDSTextBodyEmphasized,{children:o}),k.jsx(c("IGDSVerifiedBadge.react"),{})]}),k.jsx(d("IGDSTextVariants.react").IGDSTextBody,{children:p})]}),e[28]=w):w=e[28];e[29]!==r?(j=k.jsxs(c("IGDSBox.react"),{alignItems:"center",columnGap:4,direction:"row",children:[r,w]}),e[29]=r,e[30]=j):j=e[30];e[31]===Symbol["for"]("react.memo_cache_sentinel")?(w=h._(/*BTDS*/"Probar"),e[31]=w):w=e[31];e[32]!==v?(r=k.jsx(c("IGDSButton.react"),{href:d("PolarisAbraIcebreakersUtils").META_AI_URL,label:w,onClick:v,target:"_blank",variant:"primary_link"}),e[32]=v,e[33]=r):r=e[33];e[34]!==j||e[35]!==r?(w=k.jsxs(c("IGDSBox.react"),{direction:"row",justifyContent:"between",children:[j,r]}),e[34]=j,e[35]=r,e[36]=w):w=e[36];e[37]!==f.icebreakers||e[38]!==a||e[39]!==s?(v=k.jsx(c("PolarisAbraIcebreakersHScroll.react"),{fragmentKey:f.icebreakers,logCardImpression:s,logCardPress:a}),e[37]=f.icebreakers,e[38]=a,e[39]=s,e[40]=v):v=e[40];e[41]===Symbol["for"]("react.memo_cache_sentinel")?(j=k.jsx(c("IGDSBox.react"),{height:152,width:40,xstyle:m.endOfHScrollLinearGradient}),e[41]=j):j=e[41];e[42]!==g||e[43]!==w||e[44]!==v?(r=k.jsxs(c("IGDSBox.react"),{containerRef:g,xstyle:m.cardContainer,children:[w,v,j]}),e[42]=g,e[43]=w,e[44]=v,e[45]=r):r=e[45];return r}g["default"]=a}),226);
__d("PolarisAd4AdFeedUnitHeader_data.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisAd4AdFeedUnitHeader_data",selections:[{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"body",storageKey:null}],type:"XDTAd4AdInWebFeedUnit",abstractKey:null};e.exports=a}),null);
__d("PolarisAd4AdFeedUnitHeader.react",["fbt","CometRelay","IGDSBox.react","IGDSIconButton.react","IGDSMoreHorizontalPanoOutlineIcon.react","IGDSTextVariants.react","PolarisAd4AdFeedUnitHeader_data.graphql","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react");function a(a){var e=d("react-compiler-runtime").c(10);a=a.fragmentKey;a=d("CometRelay").useFragment(i!==void 0?i:i=b("PolarisAd4AdFeedUnitHeader_data.graphql"),a);var f=a.body;a=a.title;var g;e[0]!==a?(g=k.jsx(d("IGDSTextVariants.react").IGDSTextBodyEmphasized,{children:a}),e[0]=a,e[1]=g):g=e[1];e[2]!==f?(a=k.jsx(d("IGDSTextVariants.react").IGDSTextBody,{children:f}),e[2]=f,e[3]=a):a=e[3];e[4]!==g||e[5]!==a?(f=k.jsxs(c("IGDSBox.react"),{rowGap:2,children:[g,a]}),e[4]=g,e[5]=a,e[6]=f):f=e[6];e[7]===Symbol["for"]("react.memo_cache_sentinel")?(g=k.jsx(c("IGDSIconButton.react"),{onClick:l,padding:0,children:k.jsx(c("IGDSMoreHorizontalPanoOutlineIcon.react"),{alt:h._(/*BTDS*/"Menu")})}),e[7]=g):g=e[7];e[8]!==f?(a=k.jsxs(c("IGDSBox.react"),{direction:"row",justifyContent:"between",children:[f,g]}),e[8]=f,e[9]=a):a=e[9];return a}function l(){}g["default"]=a}),226);
__d("PolarisAd4AdFeedUnit_data.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisAd4AdFeedUnit_data",selections:[{args:null,kind:"FragmentSpread",name:"PolarisAd4AdFeedUnitHeader_data"},{args:null,kind:"FragmentSpread",name:"PolarisAd4AdMediaHeader_data"},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"action_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sponsor_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"media_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tracking_token",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"view_state_item_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"feed_item_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"qp_id",storageKey:null},{alias:null,args:null,concreteType:"XDTMediaDict",kind:"LinkedField",name:"media",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"PolarisAd4AdMediaCreative_media"}],storageKey:null}],type:"XDTAd4AdInWebFeedUnit",abstractKey:null};e.exports=a}),null);
__d("PolarisAd4AdMediaCreativeImage_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisAd4AdMediaCreativeImage_media",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},action:"THROW"},{alias:null,args:null,kind:"ScalarField",name:"accessibility_caption",storageKey:null},{alias:null,args:null,concreteType:"XDTImageVersion2",kind:"LinkedField",name:"image_versions2",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTImageCandidate",kind:"LinkedField",name:"candidates",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"PolarisPhotoWrapper_media"}],type:"XDTMediaDict",abstractKey:null};e.exports=a}),null);
__d("PolarisAd4AdMediaCreativeImage.react",["CometRelay","PolarisAd4AdMediaCreativeImage_media.graphql","PolarisPhoto.react","PolarisPhotoWrapper.next.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e,f,g,i,k,l=d("react-compiler-runtime").c(12);a=a.mediaFragmentKey;a=d("CometRelay").useFragment(h!==void 0?h:h=b("PolarisAd4AdMediaCreativeImage_media.graphql"),a);var m=a.accessibility_caption,n=a.image_versions2;e=(e=n==null||(f=n.candidates)==null?void 0:f[0].url)!=null?e:"";g=(g=n==null||(i=n.candidates)==null?void 0:i[0].height)!=null?g:0;n=(n=n==null||(k=n.candidates)==null?void 0:k[0].width)!=null?n:0;var o;l[0]!==g||l[1]!==n?(o={height:g,width:n},l[0]=g,l[1]=n,l[2]=o):o=l[2];l[3]!==m||l[4]!==e||l[5]!==o?(g={accessibilityCaption:m,dimensions:o,src:e},l[3]=m,l[4]=e,l[5]=o,l[6]=g):g=l[6];n=g;l[7]!==n?(m=j.jsx(c("PolarisPhoto.react"),babelHelpers["extends"]({},n)),l[7]=n,l[8]=m):m=l[8];l[9]!==a||l[10]!==m?(e=j.jsx(c("PolarisPhotoWrapper.next.react"),{media$key:a,children:m}),l[9]=a,l[10]=m,l[11]=e):e=l[11];return e}g["default"]=a}),98);
__d("PolarisAd4AdMediaCreative_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisAd4AdMediaCreative_media",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},action:"THROW"},{alias:null,args:null,kind:"ScalarField",name:"media_type",storageKey:null},{args:null,kind:"FragmentSpread",name:"PolarisAd4AdMediaCreativeImage_media"}],type:"XDTMediaDict",abstractKey:null};e.exports=a}),null);
__d("PolarisAd4AdMediaCreative.react",["CometRelay","PolarisAd4AdMediaCreativeImage.react","PolarisAd4AdMediaCreative_media.graphql","PolarisFeedContext.react","PolarisMediaConstants","react","react-compiler-runtime","usePolarisIsFeedMobileLayout"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.useContext;function a(a){var e=d("react-compiler-runtime").c(13);a=a.mediaFragmentKey;a=d("CometRelay").useFragment(h!==void 0?h:h=b("PolarisAd4AdMediaCreative_media.graphql"),a);var f=d("usePolarisIsFeedMobileLayout").usePolarisIsFeedMobileLayout(),g=k(d("PolarisFeedContext.react").PolarisFeedContext);g=g.feedMediaWidth;var i;e[0]!==g||e[1]!==f?(i=g!=null?{width:f?g:"calc("+g+" - "+l+"px)"}:void 0,e[0]=g,e[1]=f,e[2]=i):i=e[2];g=i;if(a==null)return null;i=a.media_type;var m;bb0:switch(i){case d("PolarisMediaConstants").MediaTypes.IMAGE:e[3]!==a?(i=j.jsx(c("PolarisAd4AdMediaCreativeImage.react"),{mediaFragmentKey:a}),e[3]=a,e[4]=i):i=e[4];m=i;break bb0;case d("PolarisMediaConstants").MediaTypes.VIDEO:case d("PolarisMediaConstants").MediaTypes.CAROUSEL_V2:default:m=null}e[5]!==f?(a={0:{className:"x6s0dn4 xyzq4qe x78zum5 xdt5ytf x2lah0s xl56j7k x6ikm8r x10wlt62 x1n2onr6"},1:{className:"x6s0dn4 xyzq4qe x78zum5 xdt5ytf x2lah0s xl56j7k x6ikm8r x10wlt62 x1n2onr6 x5ur3kl x6usi7g x1bs97v6 x18dxpii xjwep3j x1t39747 x1wcsgtt x1pczhz8 x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu x178xt8z x1lun4ml xso031l xpilrb4"}}[!!!f<<0],e[5]=f,e[6]=a):a=e[6];e[7]!==g||e[8]!==m?(i=j.jsx("div",{style:g,children:m}),e[7]=g,e[8]=m,e[9]=i):i=e[9];e[10]!==a||e[11]!==i?(f=j.jsx("div",babelHelpers["extends"]({},a,{children:i})),e[10]=a,e[11]=i,e[12]=f):f=e[12];return f}var l=2;g["default"]=a}),98);
__d("PolarisAd4AdMediaHeader_data.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisAd4AdMediaHeader_data",selections:[{alias:null,args:null,kind:"ScalarField",name:"sponsor_text",storageKey:null},{alias:null,args:null,concreteType:"XDTMediaDict",kind:"LinkedField",name:"media",plural:!1,selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},action:"THROW"},{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"profile_pic_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null}],storageKey:null}],type:"XDTAd4AdInWebFeedUnit",abstractKey:null};e.exports=a}),null);
__d("PolarisAd4AdMediaHeader.react",["cx","CometRelay","IGDSBox.react","IGDSTextVariants.react","PolarisAd4AdMediaHeader_data.graphql","PolarisIGCoreConstants","PolarisPanavisionQEHelpers","PolarisUA","PolarisUserAvatar.react","react","react-compiler-runtime","usePolarisIsOnAdsActivityPage","usePolarisIsOnFeedPage"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||c("react");function a(a){var e,f,g=d("react-compiler-runtime").c(28);a=a.fragmentKey;a=d("CometRelay").useFragment(i!==void 0?i:i=b("PolarisAd4AdMediaHeader_data.graphql"),a);var h=c("usePolarisIsOnFeedPage")(),j=c("usePolarisIsOnAdsActivityPage")(),m;g[0]!==j||g[1]!==h?(m=(h||j)&&d("PolarisUA").isDesktop(),g[0]=j,g[1]=h,g[2]=m):m=g[2];j=m;g[3]!==a?(h=a!=null?a:{},g[3]=a,g[4]=h):h=g[4];m=h;a=m.media;h=m.sponsor_text;m=(m=a==null||(e=a.user)==null?void 0:e.username)!=null?m:"";a=(a=a==null||(f=a.user)==null?void 0:f.profile_pic_url)!=null?a:"";var n;g[5]!==a||g[6]!==m?(n=k.jsx(c("PolarisUserAvatar.react"),{isLink:!1,profilePictureUrl:a,size:c("PolarisIGCoreConstants").AVATAR_SIZES.small,username:m}),g[5]=a,g[6]=m,g[7]=n):n=g[7];a=n;g[8]!==m?(n=k.jsx(d("IGDSTextVariants.react").IGDSTextBodyEmphasized,{color:"secondaryText",zeroMargin:!0,children:k.jsx("span",{className:"_aaqs",children:m})}),g[8]=m,g[9]=n):n=g[9];m=n;g[10]===Symbol["for"]("react.memo_cache_sentinel")?(n={className:"x5n08af x1fhwpqd x132q4wb"},g[10]=n):n=g[10];g[11]!==h?(n=k.jsx("span",babelHelpers["extends"]({},n,{children:h})),g[11]=h,g[12]=n):n=g[12];h=n;g[13]!==a?(n=k.jsx(c("IGDSBox.react"),{alignItems:"center",direction:"row",xstyle:l.avatar,children:a}),g[13]=a,g[14]=n):n=g[14];g[15]!==j?(a=j&&!d("PolarisPanavisionQEHelpers").hasDenserMobileWebFeed()&&l.denserMobileHeaderPadding,g[15]=j,g[16]=a):a=g[16];g[17]!==m?(j=k.jsx(c("IGDSBox.react"),{alignItems:"center",direction:"row",xstyle:l.text,children:m}),g[17]=m,g[18]=j):j=g[18];g[19]!==h?(m=k.jsx(c("IGDSBox.react"),{alignItems:"center",direction:"row",xstyle:l.text,children:h}),g[19]=h,g[20]=m):m=g[20];g[21]!==m||g[22]!==a||g[23]!==j?(h=k.jsxs(c("IGDSBox.react"),{direction:"column",justifyContent:"center",position:"relative",width:"100%",xstyle:a,children:[j,m]}),g[21]=m,g[22]=a,g[23]=j,g[24]=h):h=g[24];g[25]!==h||g[26]!==n?(m=k.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",flex:"grow",children:[n,h]}),g[25]=h,g[26]=n,g[27]=m):m=g[27];return m}var l={avatar:{paddingInlineEnd:"x14vy60q",paddingInlineStart:"xyiysdx",paddingBottom:"x10b6aqq",paddingTop:"x1yrsyyn",$$css:!0},denserMobileHeaderPadding:{paddingBottom:"x10b6aqq",paddingTop:"x1yrsyyn",$$css:!0},text:{marginInlineStart:"xdwrcjd",$$css:!0}};g["default"]=a}),98);
__d("PolarisAd4AdFeedUnit.react",["CometErrorBoundary.react","CometRelay","IGDSBox.react","InstagramNetegoInvalidationFalcoEvent","PolarisAd4AdFeedUnitHeader.react","PolarisAd4AdFeedUnit_data.graphql","PolarisAd4AdMediaCreative.react","PolarisAd4AdMediaHeader.react","react","react-compiler-runtime","stylex","usePolarisNetegoFeedUnitImpressionLogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react"));j.useCallback;function a(a){var e=d("react-compiler-runtime").c(19),f=a.fragmentKey,g=a.gapToPreviousAd,i=a.gapToPreviousNetego,j=a.position;a=a.xstyle;f=d("CometRelay").useFragment(h!==void 0?h:h=b("PolarisAd4AdFeedUnit_data.graphql"),f);var m=f.feed_item_type,n=f.id,o=f.media,p=f.tracking_token,q;e[0]!==m||e[1]!==g||e[2]!==i||e[3]!==n||e[4]!==j||e[5]!==p?(q={gapToPreviousAd:g,gapToPreviousNetego:i,id:n,netegoType:m,position:j,trackingToken:p},e[0]=m,e[1]=g,e[2]=i,e[3]=n,e[4]=j,e[5]=p,e[6]=q):q=e[6];g=c("usePolarisNetegoFeedUnitImpressionLogger")(q);e[7]!==m||e[8]!==n||e[9]!==p?(i=function(){if(p==null)return;c("InstagramNetegoInvalidationFalcoEvent").logImmediately(function(){return{id:n,tracking_token:p,type:m}})},e[7]=m,e[8]=n,e[9]=p,e[10]=i):i=e[10];j=i;e[11]!==f||e[12]!==g||e[13]!==o||e[14]!==a?(q=k.jsx(l,{fragmentKey:f,impressionRef:g,mediaFragmentKey:o,xstyle:a}),e[11]=f,e[12]=g,e[13]=o,e[14]=a,e[15]=q):q=e[15];e[16]!==j||e[17]!==q?(i=k.jsx(c("CometErrorBoundary.react"),{onError:j,children:q}),e[16]=j,e[17]=q,e[18]=i):i=e[18];return i}function l(a){var b=d("react-compiler-runtime").c(15),e=a.fragmentKey,f=a.impressionRef,g=a.mediaFragmentKey;a=a.xstyle;var h;b[0]!==a?(h=(i||(i=c("stylex"))).props(a),b[0]=a,b[1]=h):h=b[1];var j;b[2]!==e?(a=k.jsx(c("PolarisAd4AdFeedUnitHeader.react"),{fragmentKey:e}),j=k.jsx(c("PolarisAd4AdMediaHeader.react"),{fragmentKey:e}),b[2]=e,b[3]=a,b[4]=j):(a=b[3],j=b[4]);b[5]!==g?(e=k.jsx(c("PolarisAd4AdMediaCreative.react"),{mediaFragmentKey:g}),b[5]=g,b[6]=e):e=b[6];b[7]!==a||b[8]!==j||b[9]!==e?(g=k.jsxs(c("IGDSBox.react"),{direction:"column",rowGap:1,children:[a,j,e]}),b[7]=a,b[8]=j,b[9]=e,b[10]=g):g=b[10];b[11]!==f||b[12]!==h||b[13]!==g?(a=k.jsx("div",babelHelpers["extends"]({},h,{ref:f,children:g})),b[11]=f,b[12]=h,b[13]=g,b[14]=a):a=b[14];return a}g["default"]=a}),98);
__d("PolarisBloksNetegoFeedUnit.react",["CometErrorBoundary.react","IGWebBloksApp","InstagramNetegoInvalidationFalcoEvent","react","react-compiler-runtime","stylex","useJSON","usePolarisNetegoFeedUnitImpressionLogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;b.useCallback;b.useMemo;function a(a){var b=d("react-compiler-runtime").c(16),e=a.gapToPreviousAd,f=a.gapToPreviousNetego,g=a.id,h=a.netegoType,i=a.payload,l=a.position,m=a.trackingToken;a=a.xstyle;var n;b[0]!==g||b[1]!==h||b[2]!==m?(n=function(){if(m==null)return;c("InstagramNetegoInvalidationFalcoEvent").logImmediately(function(){return{id:g,tracking_token:m,type:h}})},b[0]=g,b[1]=h,b[2]=m,b[3]=n):n=b[3];n=n;var o;b[4]!==e||b[5]!==f||b[6]!==g||b[7]!==h||b[8]!==i||b[9]!==l||b[10]!==m||b[11]!==a?(o=j.jsx(k,{gapToPreviousAd:e,gapToPreviousNetego:f,id:g,netegoType:h,payload:i,position:l,trackingToken:m,xstyle:a}),b[4]=e,b[5]=f,b[6]=g,b[7]=h,b[8]=i,b[9]=l,b[10]=m,b[11]=a,b[12]=o):o=b[12];b[13]!==n||b[14]!==o?(e=j.jsx(c("CometErrorBoundary.react"),{onError:n,children:o}),b[13]=n,b[14]=o,b[15]=e):e=b[15];return e}function k(a){var b=d("react-compiler-runtime").c(17),e=a.gapToPreviousAd,f=a.gapToPreviousNetego,g=a.id,i=a.netegoType,k=a.payload,l=a.position,m=a.trackingToken;a=a.xstyle;var n;b[0]!==e||b[1]!==f||b[2]!==g||b[3]!==i||b[4]!==l||b[5]!==m?(n={gapToPreviousAd:e,gapToPreviousNetego:f,id:g,netegoType:i,position:l,trackingToken:m},b[0]=e,b[1]=f,b[2]=g,b[3]=i,b[4]=l,b[5]=m,b[6]=n):n=b[6];e=c("usePolarisNetegoFeedUnitImpressionLogger")(n);f=c("useJSON")(k!=null?k:"{}");b[7]!==f?(g={layout:{bloks_payload:f}},b[7]=f,b[8]=g):g=b[8];i=g;l=i;b[9]!==a?(m=(h||(h=c("stylex"))).props(a),b[9]=a,b[10]=m):m=b[10];b[11]!==l?(n=j.jsx(c("IGWebBloksApp"),{payload:l}),b[11]=l,b[12]=n):n=b[12];b[13]!==e||b[14]!==m||b[15]!==n?(k=j.jsx("div",babelHelpers["extends"]({},m,{ref:e,children:n})),b[13]=e,b[14]=m,b[15]=n,b[16]=k):k=b[16];return k}g["default"]=a}),98);
__d("PolarisBloksNetegoFeedUnitDeferred.react",["deferredLoadComponent","requireDeferredForDisplay"],(function(a,b,c,d,e,f,g){"use strict";a=c("deferredLoadComponent")(c("requireDeferredForDisplay")("PolarisBloksNetegoFeedUnit.react").__setRef("PolarisBloksNetegoFeedUnitDeferred.react"));g["default"]=a}),98);
__d("PolarisEndOfFeedDemarcator.react",["CometImage.react","IGDSBox.react","IGDSTextVariants.react","PolarisUA","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(19),e=a.button,f=a.className,g=a.subheader,h=a.subtitle;a=a.title;var j,k;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(j=d("PolarisUA").isMobile()?{marginBottom:0}:{},k={className:"x6s0dn4 xjbqb8w x9f619 x78zum5 xdt5ytf x1miatn0 xpdmqnj x1gan7if x1g0dm76 xh8yej3"},b[0]=j,b[1]=k):(j=b[0],k=b[1]);var l;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(l=i.jsx(c("IGDSBox.react"),{marginBottom:6,width:56,children:i.jsx(c("CometImage.react"),{src:"/images/instagram/xig/web/illo-confirm-refresh-light.png"})}),b[2]=l):l=b[2];var m;b[3]!==a?(m=i.jsx(c("IGDSBox.react"),{marginBottom:2,children:i.jsx(d("IGDSTextVariants.react").IGDSTextLabelEmphasized,{textAlign:"center",zeroMargin:!0,children:a})}),b[3]=a,b[4]=m):m=b[4];b[5]!==h?(a=i.jsx(c("IGDSBox.react"),{marginBottom:2,children:i.jsx(d("IGDSTextVariants.react").IGDSTextBody,{textAlign:"center",zeroMargin:!0,children:h})}),b[5]=h,b[6]=a):a=b[6];b[7]!==e?(h=i.jsx(c("IGDSBox.react"),{marginTop:4,paddingX:5,width:"100%",children:e}),b[7]=e,b[8]=h):h=b[8];b[9]!==m||b[10]!==a||b[11]!==h?(e=i.jsxs("div",babelHelpers["extends"]({},k,{children:[l,m,a,h]})),b[9]=m,b[10]=a,b[11]=h,b[12]=e):e=b[12];b[13]!==f||b[14]!==e?(k=i.jsx("div",{className:f,style:j,children:e}),b[13]=f,b[14]=e,b[15]=k):k=b[15];b[16]!==g||b[17]!==k?(l=i.jsxs("div",{children:[k,g]}),b[16]=g,b[17]=k,b[18]=l):l=b[18];return l}g["default"]=a}),98);
__d("PolarisCASB976EndOfFeedDemarcator.react",["fbt","IGDSButton.react","PolarisEndOfFeedDemarcator.react","XPolarisCASB976Phase2DayOfDialogControllerRouteBuilder","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(5),e=a.className,f=a.subtitle;a=a.title;var g;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(g=j.jsx(c("IGDSButton.react"),{fullWidth:!0,href:c("XPolarisCASB976Phase2DayOfDialogControllerRouteBuilder").buildURL({}),label:h._(/*BTDS*/"Pedir ayuda a tu padre o madre"),size:"large"}),b[0]=g):g=b[0];b[1]!==e||b[2]!==f||b[3]!==a?(g=j.jsx(c("PolarisEndOfFeedDemarcator.react"),{button:g,className:e,subtitle:f,title:a}),b[1]=e,b[2]=f,b[3]=a,b[4]=g):g=b[4];return g}g["default"]=a}),226);
__d("PolarisEndOfFeedDemarcatorContainerFragment_demarcator.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisEndOfFeedDemarcatorContainerFragment_demarcator",selections:[{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtitle",storageKey:null},{alias:null,args:null,concreteType:"XDTGroupSet",kind:"LinkedField",name:"group_set",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"style",storageKey:null}],type:"XDTEndOfFeedDemarcator",abstractKey:null};e.exports=a}),null);
__d("PolarisGenericEndOfFeedDemarcator.react",["fbt","IGDSBox.react","IGDSButton.react","IGDSTextVariants.react","PolarisEndOfFeedDemarcator.react","PolarisFeedHeader.react","PolarisUA","XPolarisFeedControllerRouteBuilder","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=h._(/*BTDS*/"Publicaciones sugeridas");function a(a){var b=d("react-compiler-runtime").c(8),e=a.className,f=a.showPastPostsLink,g=a.subtitle;a=a.title;var i;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(i=d("PolarisUA").isMobile()?j.jsx("div",babelHelpers["extends"]({className:"x7a106z xvbhtw8 x9f619 xh8yej3 x1bs97v6 x1q0q8m5 xso031l"},{children:j.jsx(c("IGDSBox.react"),{paddingX:4,paddingY:3,children:j.jsx(d("IGDSTextVariants.react").IGDSTextBodyEmphasized,{children:k})})})):j.jsx(c("IGDSBox.react"),{marginBottom:4,position:"relative",children:j.jsx(c("PolarisFeedHeader.react"),{hasBackButton:!1,text:k})}),b[0]=i):i=b[0];i=i;var l;b[1]!==f?(l=f?j.jsx(c("IGDSButton.react"),{href:c("XPolarisFeedControllerRouteBuilder").buildURL({variant:"past_posts"}),label:h._(/*BTDS*/"Ver publicaciones anteriores"),variant:"primary_link"}):null,b[1]=f,b[2]=l):l=b[2];f=l;b[3]!==e||b[4]!==f||b[5]!==g||b[6]!==a?(l=j.jsx(c("PolarisEndOfFeedDemarcator.react"),{button:f,className:e,subheader:i,subtitle:g,title:a}),b[3]=e,b[4]=f,b[5]=g,b[6]=a,b[7]=l):l=b[7];return l}g["default"]=a}),226);
__d("PolarisEndOfFeedDemarcatorContainer.react",["CometRelay","PolarisCASB976EndOfFeedDemarcator.react","PolarisEndOfFeedDemarcatorContainerFragment_demarcator.graphql","PolarisGenericEndOfFeedDemarcator.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k="ca_sb_976";function a(a){var e=d("react-compiler-runtime").c(9),f=a.className;a=a.queryRef;a=d("CometRelay").useFragment(h!==void 0?h:h=b("PolarisEndOfFeedDemarcatorContainerFragment_demarcator.graphql"),a);var g=a.group_set,i=a.style,l=a.subtitle;a=a.title;var m;e[0]!==f||e[1]!==l||e[2]!==a?(m={className:f,subtitle:l,title:a},e[0]=f,e[1]=l,e[2]=a,e[3]=m):m=e[3];f=m;if(i===k){e[4]!==f?(l=j.jsx(c("PolarisCASB976EndOfFeedDemarcator.react"),babelHelpers["extends"]({},f)),e[4]=f,e[5]=l):l=e[5];return l}a=g!=null;e[6]!==f||e[7]!==a?(m=j.jsx(c("PolarisGenericEndOfFeedDemarcator.react"),babelHelpers["extends"]({},f,{showPastPostsLink:a})),e[6]=f,e[7]=a,e[8]=m):m=e[8];return m}g["default"]=a}),98);
__d("PolarisFeedCardComments_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisFeedCardComments_media",selections:[{alias:null,args:null,kind:"ScalarField",name:"comment_count",storageKey:null},{alias:null,args:null,concreteType:"XDTCommentDict",kind:"LinkedField",name:"comments",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"PolarisPostPreviewCommentsFragment_media"},{args:null,kind:"FragmentSpread",name:"PolarisPostFastViewAllComments_media"}],type:"XDTMediaDict",abstractKey:null};e.exports=a}),null);
__d("PolarisFeedCardComment_comment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisFeedCardComment_comment",selections:[{args:null,kind:"FragmentSpread",name:"PolarisCommentLikeButton_comment"},{args:null,kind:"FragmentSpread",name:"PolarisPostCommentContent_comment"}],type:"XDTCommentDict",abstractKey:null};e.exports=a}),null);
__d("PolarisFeedCardComment.next.react",["CometRelay","IGDSBox.react","PolarisCommentLikeButton.next.react","PolarisFeedCardComment_comment.graphql","PolarisPostCommentContent.next.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e=d("react-compiler-runtime").c(11),f=a.mediaCode;a=a.queryReference;a=d("CometRelay").useFragment(h!==void 0?h:h=b("PolarisFeedCardComment_comment.graphql"),a);var g;e[0]!==a||e[1]!==f?(g=j.jsx(c("PolarisPostCommentContent.next.react"),{comment:a,isInlineComment:!0,mediaCode:f,showRestrictedContent:!1}),e[0]=a,e[1]=f,e[2]=g):g=e[2];f=g;e[3]!==f?(g=j.jsx(c("IGDSBox.react"),{display:"block",flex:"grow",marginEnd:1,wrap:!0,children:f}),e[3]=f,e[4]=g):g=e[4];e[5]===Symbol["for"]("react.memo_cache_sentinel")?(f={className:"xbelrpt"},e[5]=f):f=e[5];e[6]!==a?(f=j.jsx("div",babelHelpers["extends"]({},f,{children:j.jsx(c("PolarisCommentLikeButton.next.react"),{color:"ig-secondary-text",queryReference:a,size:13})})),e[6]=a,e[7]=f):f=e[7];e[8]!==g||e[9]!==f?(a=j.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",justifyContent:"between",marginBottom:1,width:"100%",children:[g,f]}),e[8]=g,e[9]=f,e[10]=a):a=e[10];return a}g["default"]=a}),98);
__d("PolarisPostPreviewCommentsFragment_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},action:"THROW"};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisPostPreviewCommentsFragment_media",selections:[a,{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"code",storageKey:null},action:"THROW"},{kind:"RequiredField",field:{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[a],storageKey:null},action:"THROW"},{alias:null,args:null,concreteType:"XDTCommentDict",kind:"LinkedField",name:"comments",plural:!0,selections:[a,{args:null,kind:"FragmentSpread",name:"PolarisPostComment_comment"},{args:null,kind:"FragmentSpread",name:"PolarisFeedCardComment_comment"}],storageKey:null}],type:"XDTMediaDict",abstractKey:null}}();e.exports=a}),null);
__d("PolarisPostPreviewComments.next.react",["CometRelay","PolarisFeedCardComment.next.react","PolarisPostComment.next.react","PolarisPostPreviewCommentsFragment_media.graphql","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e=d("react-compiler-runtime").c(15),f=a.numberToShow,g=a.onFeedCard;a=a.queryReference;var i=g===void 0?!1:g,k=d("CometRelay").useFragment(h!==void 0?h:h=b("PolarisPostPreviewCommentsFragment_media.graphql"),a),l;if(e[0]!==k.code||e[1]!==k.comments||e[2]!==k.pk||e[3]!==k.user||e[4]!==f||e[5]!==i){g=Symbol["for"]("react.early_return_sentinel");bb0:{a=(a=(a=k.comments)==null?void 0:a.slice(0))!=null?a:[];var m=a.length;a=f!=null&&m>0?a.slice(Math.max(0,m-f),m):a.reverse();if(m===0){g=null;break bb0}e[8]!==k.code||e[9]!==k.pk||e[10]!==k.user||e[11]!==i?(m=function(a){return i===!0?j.jsx(c("PolarisFeedCardComment.next.react"),{mediaCode:k.code,queryReference:a},a.pk):j.jsx(c("PolarisPostComment.next.react"),{mediaCode:k.code,mediaId:k.pk,mediaOwnerId:k.user.pk,queryReference:a},a.pk)},e[8]=k.code,e[9]=k.pk,e[10]=k.user,e[11]=i,e[12]=m):m=e[12];l=a.map(m)}e[0]=k.code;e[1]=k.comments;e[2]=k.pk;e[3]=k.user;e[4]=f;e[5]=i;e[6]=l;e[7]=g}else l=e[6],g=e[7];if(g!==Symbol["for"]("react.early_return_sentinel"))return g;e[13]!==l?(a=j.jsx("ul",{children:l}),e[13]=l,e[14]=a):a=e[14];return a}g["default"]=a}),98);
__d("PolarisFeedCardComments.next.react",["CometRelay","IGDSBox.react","PolarisFeedCardComments_media.graphql","PolarisPostFastViewAllComments.next.react","PolarisPostPreviewComments.next.react","react","react-compiler-runtime","usePolarisIsFeedMobileLayout"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k=3;function a(a){var e=d("react-compiler-runtime").c(14),f=a.mediaFragmentKey,g=a.onClick;a=a.onMouseEnter;var i=d("usePolarisIsFeedMobileLayout").usePolarisIsFeedMobileLayout();f=d("CometRelay").useFragment(h!==void 0?h:h=b("PolarisFeedCardComments_media.graphql"),f);var l=f.comment_count,m=l!=null&&l>0;if(m===!1)return null;if(e[0]!==f.comments){m=(m=f.comments)!=null?m:[];e[0]=f.comments;e[1]=m}else m=e[1];m=m.length;i=i?1:2;var n;e[2]!==f||e[3]!==l||e[4]!==g||e[5]!==a||e[6]!==m?(n=l!=null&&m<l&&j.jsx(c("IGDSBox.react"),{alignItems:"start",marginBottom:m>0?2:0,children:j.jsx(c("PolarisPostFastViewAllComments.next.react"),{fragmentKey:f,onClick:g,onMouseEnter:a})}),e[2]=f,e[3]=l,e[4]=g,e[5]=a,e[6]=m,e[7]=n):n=e[7];e[8]!==f?(l=j.jsx(c("PolarisPostPreviewComments.next.react"),{numberToShow:k,onFeedCard:!0,queryReference:f}),e[8]=f,e[9]=l):l=e[9];e[10]!==i||e[11]!==n||e[12]!==l?(g=j.jsxs(c("IGDSBox.react"),{marginTop:i,children:[n,l]}),e[10]=i,e[11]=n,e[12]=l,e[13]=g):g=e[13];return g}g["default"]=a}),98);
__d("PolarisFeedCardDetailsSectionCommentInput_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},action:"THROW"};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisFeedCardDetailsSectionCommentInput_media",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},action:"THROW"},a,{alias:null,args:null,kind:"ScalarField",name:"comments_disabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"commenting_disabled_for_viewer",storageKey:null},{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[a],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"media_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"product_type",storageKey:null}],type:"XDTMediaDict",abstractKey:null}}();e.exports=a}),null);
__d("PolarisPostCommentInputPlaceholder.react",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(){var a=d("react-compiler-runtime").c(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=i.jsx("div",{className:"x1qjc9v5 x972fbf x10w94by x1qhh985 x14e42zd x9f619 x78zum5 xdt5ytf x2lah0s xk390pu x1d6elog x14z9mp xat24cr x1lziwak x1xmf6yo xexx8yu xyri2b x18d9i69 x1c1uobl x1n2onr6 x11njtxf"}),a[0]=b):b=a[0];return b}g["default"]=a}),98);
__d("PolarisFeedCardDetailsSectionCommentInput.react",["CometPlaceholder.react","CometRelay","IGDSBox.react","IGDSText.react","PolarisFeedCardDetailsSectionCommentInput_media.graphql","PolarisGenericStrings","PolarisMediaConstants","PolarisPostCommentInputPlaceholder.react","deferredLoadComponent","polarisAdsSelectors.react","react","react-compiler-runtime","requireDeferredForDisplay"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k=c("deferredLoadComponent")(c("requireDeferredForDisplay")("PolarisFeedCommentInputRevamped.react").__setRef("PolarisFeedCardDetailsSectionCommentInput.react"));function a(a){var e=d("react-compiler-runtime").c(10);a=a.media$key;a=d("CometRelay").useFragment(h!==void 0?h:h=b("PolarisFeedCardDetailsSectionCommentInput_media.graphql"),a);var f=a.commenting_disabled_for_viewer,g=a.comments_disabled,i=a.id,m=a.media_type,n=a.pk,o=a.product_type;m=m===d("PolarisMediaConstants").MediaTypes.CAROUSEL_V2;o=o===d("PolarisMediaConstants").MediaTypes.VIDEO;var p=d("polarisAdsSelectors.react").useFeedAdInfo(n,l);if(a.user==null){var q;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(q=j.jsx(j.Fragment,{}),e[0]=q):q=e[0];return q}q=a.user.pk;if(g!==!0)if(f!==!0){e[1]===Symbol["for"]("react.memo_cache_sentinel")?(a=j.jsx(c("PolarisPostCommentInputPlaceholder.react"),{}),e[1]=a):a=e[1];e[2]!==p||e[3]!==m||e[4]!==o||e[5]!==q||e[6]!==i||e[7]!==n?(g=j.jsx(c("IGDSBox.react"),{marginTop:2,children:j.jsx(c("CometPlaceholder.react"),{fallback:a,name:"post-comment-input",children:j.jsx(k,{adInfo:p,isSidecar:m,isVideo:o,ownerID:q,postID:i,postPK:n,viewerProfilePicture:null})})}),e[2]=p,e[3]=m,e[4]=o,e[5]=q,e[6]=i,e[7]=n,e[8]=g):g=e[8];return g}else{e[9]===Symbol["for"]("react.memo_cache_sentinel")?(f=j.jsx(c("IGDSBox.react"),{marginBottom:1,marginTop:1,children:j.jsx(c("IGDSText.react"),{color:"tertiaryText",textAlign:"center",children:d("PolarisGenericStrings").COMMENTING_LIMITED})}),e[9]=f):f=e[9];return f}return null}function l(a){return a}g["default"]=a}),98);
__d("PolarisFeedCardDetailsSection_ad.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisFeedCardDetailsSection_ad",selections:[{alias:null,args:null,kind:"ScalarField",name:"media_type",storageKey:null},{args:null,kind:"FragmentSpread",name:"PolarisPostUFI_ad"},{args:null,kind:"FragmentSpread",name:"PolarisPostCaption_ad"}],type:"XDTAdInsertionItemClientDict",abstractKey:null};e.exports=a}),null);
__d("PolarisFeedCardDetailsSection_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},action:"THROW"};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisFeedCardDetailsSection_media",selections:[a,{alias:null,args:null,kind:"ScalarField",name:"code",storageKey:null},{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"media_type",storageKey:null},{args:null,kind:"FragmentSpread",name:"PolarisPostCaptionFragment_media"},{args:null,kind:"FragmentSpread",name:"PolarisFeedCardComments_media"},{args:null,kind:"FragmentSpread",name:"PolarisPostUFI_media"},{args:null,kind:"FragmentSpread",name:"PolarisPostSubtextPrompts_media"},{args:null,kind:"FragmentSpread",name:"PolarisFeedCardDetailsSectionCommentInput_media"},{args:null,kind:"FragmentSpread",name:"PolarisMediaOverlayCommunityNote_media"}],type:"XDTMediaDict",abstractKey:null}}();e.exports=a}),null);
__d("PolarisPostCaptionFragment_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisPostCaptionFragment_media",selections:[{alias:null,args:null,concreteType:"XDTCommentDict",kind:"LinkedField",name:"caption",plural:!1,selections:[a,b,{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"show_translation",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"translated_text",storageKey:null}]}],storageKey:null},a,{args:null,kind:"FragmentSpread",name:"PolarisPostCaptionUsername_user"},{args:null,kind:"FragmentSpread",name:"PolarisPostSubtextPrompts_media"},{alias:null,args:null,concreteType:"XDTCommentDict",kind:"LinkedField",name:"headline",plural:!1,selections:[a,b],storageKey:null}],type:"XDTMediaDict",abstractKey:null}}();e.exports=a}),null);
__d("PolarisPostCaptionUsername_user.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisPostCaptionUsername_user",selections:[a,{alias:null,args:null,kind:"ScalarField",name:"logging_info_token",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"inventory_source",storageKey:null},{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},a,{alias:null,args:null,kind:"ScalarField",name:"is_unpublished",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null}],storageKey:null}],type:"XDTMediaDict",abstractKey:null}}();e.exports=a}),null);
__d("PolarisPostCaptionUsername.next.react",["CometRelay","IGNavChain","InstagramOrganicBrandProfileFalcoEvent","PolarisContainerModuleUtils","PolarisPostCaptionUsername_user.graphql","PolarisUserHoverCard.react","PolarisUserLink.react","isStringNullOrEmpty","react","react-compiler-runtime","usePolarisAnalyticsContext"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e=d("react-compiler-runtime").c(14);a=a.fragmentKey;var f=d("CometRelay").useFragment(h!==void 0?h:h=b("PolarisPostCaptionUsername_user.graphql"),a);a=f.user;var g=a==null?void 0:a.username,i=a==null?void 0:a.pk,k=c("usePolarisAnalyticsContext")();if(a==null||a.is_unpublished===!0||c("isStringNullOrEmpty")(g)||i==null)return null;var l;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(l={className:"x1rg5ohu x2fvf9"},e[0]=l):l=e[0];a=a.is_verified===!0;var m;e[1]!==k||e[2]!==f.inventory_source||e[3]!==f.logging_info_token||e[4]!==f.pk?(m=function(){c("InstagramOrganicBrandProfileFalcoEvent").log(function(){var a;return{canonical_nav_chain:(a=c("IGNavChain").getInstance())==null?void 0:a.getNavChainForSend(),inventory_source:f.inventory_source,media_id:f.pk,module_name:d("PolarisContainerModuleUtils").getContainerModule(k),ranking_info_token:f.logging_info_token,source_of_action:d("PolarisContainerModuleUtils").getContainerModule(k)}})},e[1]=k,e[2]=f.inventory_source,e[3]=f.logging_info_token,e[4]=f.pk,e[5]=m):m=e[5];var n;e[6]!==a||e[7]!==m||e[8]!==g?(n=j.jsx(c("PolarisUserLink.react"),{color:"ig-primary-text",isVerified:a,onClick:m,username:g}),e[6]=a,e[7]=m,e[8]=g,e[9]=n):n=e[9];e[10]!==i||e[11]!==n||e[12]!==g?(a=j.jsx("div",babelHelpers["extends"]({},l,{children:j.jsx(c("PolarisUserHoverCard.react"),{display:"inline",userId:i,username:g,children:n})})),e[10]=i,e[11]=n,e[12]=g,e[13]=a):a=e[13];return a}g["default"]=a}),98);
__d("PolarisPostCaption_ad.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisPostCaption_ad",selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:"XDTMediaDict",kind:"LinkedField",name:"items",plural:!0,selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},action:"THROW"},{alias:null,args:null,concreteType:"XDTCommentDict",kind:"LinkedField",name:"headline",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null}],storageKey:null},action:"THROW"}],type:"XDTAdInsertionItemClientDict",abstractKey:null};e.exports=a}),null);
__d("PolarisPostSubtextPrompts_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisPostSubtextPrompts_media",selections:[{alias:null,args:null,concreteType:"XDTCommentDict",kind:"LinkedField",name:"caption",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"has_translation",storageKey:null},{args:null,kind:"FragmentSpread",name:"PolarisPostCaptionTranslationPrompt_items"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"caption_is_edited",storageKey:null},a,{alias:null,args:null,kind:"ScalarField",name:"code",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"product_type",storageKey:null},{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"taken_at",storageKey:null},{args:null,kind:"FragmentSpread",name:"PolarisPostHeaderTimestamp_media"}],type:"XDTMediaDict",abstractKey:null}}();e.exports=a}),null);
__d("PolarisPostSubtextPrompts.next.react",["CometRelay","IGDSBox.react","IGDSMiddleDot.react","IGDSTextVariants.react","PolarisPostCaptionTranslationPrompt.next.react","PolarisPostHeaderTimestamp.next.react","PolarisPostStrings","PolarisPostSubtextPrompts_media.graphql","PolarisPostTimestamp.react","PolarisUA","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e=d("react-compiler-runtime").c(25),f=a.isOverMedia,g=a.queryReference,i=a.showEditedText;a=a.showTimestamp;f=f===void 0?!1:f;g=d("CometRelay").useFragment(h!==void 0?h:h=b("PolarisPostSubtextPrompts_media.graphql"),g);var k=g.caption,l=g.caption_is_edited,m=g.code,n=g.product_type,o=g.taken_at,p=g.user;l=l!=null?l:!1;var q=k!=null&&k.has_translation===!0&&k.pk!=null&&k.pk!=="";if(!a&&!(i&&l)&&!q)return null;var r;if(e[0]!==k||e[1]!==m||e[2]!==g||e[3]!==q||e[4]!==l||e[5]!==f||e[6]!==n||e[7]!==i||e[8]!==a||e[9]!==o||e[10]!==(p==null?void 0:p.username)){r=[];if(a){if(d("PolarisUA").isMobile()&&m!=null){var s=Number(o),t=p==null?void 0:p.username,u;e[12]!==m||e[13]!==n||e[14]!==s||e[15]!==t?(u=j.jsx(c("PolarisPostTimestamp.react"),{code:m,postedAt:s,productType:n,username:t},"timestamp"),e[12]=m,e[13]=n,e[14]=s,e[15]=t,e[16]=u):u=e[16];s=u}else{e[17]!==g?(t=j.jsx(c("PolarisPostHeaderTimestamp.next.react"),{fragmentKey:g,size:"footnote"},"timestamp"),e[17]=g,e[18]=t):t=e[18];s=t}r.push(s)}if(i&&l){e[19]===Symbol["for"]("react.memo_cache_sentinel")?(u=j.jsx(d("IGDSTextVariants.react").IGDSTextBody2,{color:"secondaryText",children:d("PolarisPostStrings").CAPTION_EDITED_TEXT},"edited"),e[19]=u):u=e[19];r.push(u)}if(k!=null&&q){e[20]!==k||e[21]!==f?(t=j.jsx(c("PolarisPostCaptionTranslationPrompt.next.react"),{isOverMedia:f,queryReference:k},"translation"),e[20]=k,e[21]=f,e[22]=t):t=e[22];r.push(t)}e[0]=k;e[1]=m;e[2]=g;e[3]=q;e[4]=l;e[5]=f;e[6]=n;e[7]=i;e[8]=a;e[9]=o;e[10]=p==null?void 0:p.username;e[11]=r}else r=e[11];e[23]!==r?(s=j.jsx(c("IGDSBox.react"),{alignItems:"center",direction:"row",display:"flex",marginTop:d("PolarisUA").isMobile()?1:2,children:r.map(function(a,b){return j.jsxs(j.Fragment,{children:[a,b<r.length-1&&j.jsx(c("IGDSMiddleDot.react"),{color:"secondaryText",size:"small"})]},b)})}),e[23]=r,e[24]=s):s=e[24];return s}g["default"]=a}),98);
__d("PolarisPostCaption.react",["CometRelay","IGDSBox.react","PolarisAdsGatingHelpers","PolarisLineClampText.react","PolarisPostCaptionFragment_media.graphql","PolarisPostCaptionUsername.next.react","PolarisPostCaption_ad.graphql","PolarisPostSubtextPrompts.next.react","PolarisTruncatedText.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react");function l(a,b,c){a=a.caption==null||b==null||b==="";var d=c==null||c==="";if(!a&&!d&&b!=null&&c!=null)return c+"\n"+b;if(a)return c;return d?b:null}var m={root:{maxWidth:"x193iq5w",$$css:!0}};function a(a){var e,f=d("react-compiler-runtime").c(34),g=a.adFragmentKey,j=a.currSidecarIndex,n=a.hideAndShowTextOnClick,o=a.isImmersiveViewer,p=a.isOverMedia,q=a.onMoreClick,r=a.onTextClick,s=a.queryReference,t=a.showEditedText,u=a.showSubtext,v=a.showTimestamp,w=a.showUsername,x=a.untruncateCaption;a=a.xstyle;n=n===void 0?!1:n;p=p===void 0?!1:p;t=t===void 0?!1:t;u=u===void 0?!0:u;x=x===void 0?!1:x;s=d("CometRelay").useFragment(h!==void 0?h:h=b("PolarisPostCaptionFragment_media.graphql"),s);g=d("CometRelay").useFragment(i!==void 0?i:i=b("PolarisPostCaption_ad.graphql"),g);var y;f[0]!==g||f[1]!==j?(y=g!=null&&j!=null&&d("PolarisAdsGatingHelpers").enableHeadlineTextIGWebFeed(),f[0]=g,f[1]=j,f[2]=y):y=f[2];y=y;var z=s.caption,A=z==null?void 0:z.text;g=j!=null?g==null||(e=g.items)==null||(e=e[j].headline)==null?void 0:e.text:null;j=(z==null?void 0:z.pk)!=null&&(z==null?void 0:z.show_translation)===!0&&(z==null?void 0:z.translated_text)!=null?z==null?void 0:z.translated_text:A;f[3]!==j||f[4]!==s||f[5]!==g||f[6]!==y?(z=y?l(s,j,g):j,f[3]=j,f[4]=s,f[5]=g,f[6]=y,f[7]=z):z=f[7];A=z;if(A==null||A==="")return null;f[8]!==a?(j=[m.root,a],f[8]=a,f[9]=j):j=f[9];f[10]!==s||f[11]!==w?(g=w&&k.jsx(c("PolarisPostCaptionUsername.next.react"),{fragmentKey:s}),f[10]=s,f[11]=w,f[12]=g):g=f[12];f[13]!==n||f[14]!==o||f[15]!==p||f[16]!==q||f[17]!==r||f[18]!==A||f[19]!==x?(y=x?k.jsx(c("PolarisLineClampText.react"),{value:A}):k.jsx(c("PolarisTruncatedText.react"),{color:p?"ig-text-on-media":void 0,display:"inline",headlineTag:"h1",hideAndShowTextOnClick:n,inlineMoreButton:o,onMoreClick:q,onTextClick:r,size:"body",value:A}),f[13]=n,f[14]=o,f[15]=p,f[16]=q,f[17]=r,f[18]=A,f[19]=x,f[20]=y):y=f[20];f[21]!==y||f[22]!==j||f[23]!==g?(z=k.jsxs(c("IGDSBox.react"),{direction:"row",display:"inlineBlock",xstyle:j,children:[g,y]}),f[21]=y,f[22]=j,f[23]=g,f[24]=z):z=f[24];f[25]!==s||f[26]!==p||f[27]!==t||f[28]!==u||f[29]!==v?(a=u===!0&&k.jsx(c("PolarisPostSubtextPrompts.next.react"),{isOverMedia:p,queryReference:s,showEditedText:t,showTimestamp:v}),f[25]=s,f[26]=p,f[27]=t,f[28]=u,f[29]=v,f[30]=a):a=f[30];f[31]!==z||f[32]!==a?(w=k.jsxs(k.Fragment,{children:[z,a]}),f[31]=z,f[32]=a,f[33]=w):w=f[33];return w}g["default"]=a}),98);
__d("PolarisFeedCardDetailsSection.react",["CometRelay","InstagramODS","PolarisAdsGatingHelpers","PolarisFeedActionOpenPostModalForId","PolarisFeedCardComments.next.react","PolarisFeedCardDetailsSectionCommentInput.react","PolarisFeedCardDetailsSection_ad.graphql","PolarisFeedCardDetailsSection_media.graphql","PolarisFeedCardProvider.react","PolarisInteractionsLogger","PolarisIsLoggedIn","PolarisMediaOverlayCommunityNote","PolarisPostCaption.react","PolarisPostDetailsSectionProvider.react","PolarisPostIdContext.react","PolarisPostImpressionTrackingNode.react","PolarisPostSubtextPrompts.next.react","PolarisPostUFI.next.react","PolarisReactRedux.react","PolarisScrollPositionHistory","PolarisSponsoredPostContext.react","PolarisTrackingConstants","PolarisUA","XPolarisMobileAllCommentsControllerRouteBuilder","browserHistory_DO_NOT_USE","logPolarisPostModalOpen","react","react-compiler-runtime","useCometRouterDispatcher","usePolarisFeedAnalyticsContext","usePolarisIsFeedMobileLayout","usePolarisNavigateToLogin","usePolarisViewer"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react"));e=j;e.useCallback;var l=e.useContext,m=e.useRef,n={feedbackControls:{marginBottom:"x12nagc",marginTop:"x1gslohp",$$css:!0},likeButton:{marginInlineStart:"x1qfufaz",$$css:!0},marginTop8:{marginTop:"x1xmf6yo",$$css:!0},socialProof:{marginBottom:"xat24cr",$$css:!0}},o=3;function a(a){var e,f,g,j=d("react-compiler-runtime").c(61),q=a.adFragmentKey,r=a.currSidecarIndex,s=a.mediaFragmentKey;a=a.untruncateCaption;var t=m(null),u=m(null),v=m(null),w=l(d("PolarisSponsoredPostContext.react").PolarisSponsoredPostContext),x=w.canUserSeePersistentCta,y=c("usePolarisFeedAnalyticsContext")();w=d("CometRelay").useFragment(h!==void 0?h:h=b("PolarisFeedCardDetailsSection_media.graphql"),s);s=d("CometRelay").useFragment(i!==void 0?i:i=b("PolarisFeedCardDetailsSection_ad.graphql"),q);var z=w.code;q=w.user;var A=l(d("PolarisPostIdContext.react").PolarisPostIdContext),B=(e=A.postId)!=null?e:w.pk;e=c("usePolarisViewer")();var C=c("useCometRouterDispatcher")();f=(f=(f=w==null?void 0:w.media_type)!=null?f:s==null?void 0:s.media_type)!=null?f:0;var D;j[0]!==f?(D=d("PolarisInteractionsLogger").getInteractionsMediaTypeFromRelay(f),j[0]=f,j[1]=D):D=j[1];var E=D;f=d("usePolarisIsFeedMobileLayout").usePolarisIsFeedMobileLayout();D=c("usePolarisNavigateToLogin")((D=w==null?void 0:w.code)!=null?D:"",w==null||(g=w.user)==null?void 0:g.username);var F=D[0],G=D[1],H=d("PolarisReactRedux.react").useDispatch(),I=(D=A.mediaIdUFI)!=null?D:B;j[2]!==y||j[3]!==x||j[4]!==z||j[5]!==C||j[6]!==r||j[7]!==H||j[8]!==I||j[9]!==B||j[10]!==E?(A=function(a){d("PolarisScrollPositionHistory").saveScrollPosition(d("browserHistory_DO_NOT_USE").browserHistory.location);if(d("PolarisUA").isDesktop())H(d("PolarisFeedActionOpenPostModalForId").openPostModalForId(B,r,I)),c("logPolarisPostModalOpen")(y,E,a);else if(d("PolarisUA").isMobile()&&C!=null&&z!=null){C.go(c("XPolarisMobileAllCommentsControllerRouteBuilder").buildURL((a={},a[d("PolarisTrackingConstants").ENABLE_PERSISTENT_CTA]=x||void 0,a.shortcode=z,a)),{})}},j[2]=y,j[3]=x,j[4]=z,j[5]=C,j[6]=r,j[7]=H,j[8]=I,j[9]=B,j[10]=E,j[11]=A):A=j[11];var J=A;j[12]!==J||j[13]!==F?(D=function(){d("PolarisIsLoggedIn").isLoggedIn()?J("feed_comment"):F("comment")},j[12]=J,j[13]=F,j[14]=D):D=j[14];A=D;j[15]!==J||j[16]!==F?(D=function(){d("PolarisIsLoggedIn").isLoggedIn()?J("feed_view_all_comments"):F("comment")},j[15]=J,j[16]=F,j[17]=D):D=j[17];D=D;var K;j[18]!==G?(K=function(){d("PolarisIsLoggedIn").isLoggedIn()||G()},j[18]=G,j[19]=K):K=j[19];K=K;var L=p,M=l(d("PolarisFeedCardProvider.react").PolarisFeedCardContext),N=M.setIsCaptionMoreClicked;if(q==null){j[20]===Symbol["for"]("react.memo_cache_sentinel")?(M=k.jsx(k.Fragment,{}),j[20]=M):M=j[20];return M}j[21]!==N?(q=function(){N(!0),d("PolarisUA").isMobile()?c("InstagramODS").incr("web.feed.mobile_caption_more_click"):c("InstagramODS").incr("web.feed.desktop_caption_more_click")},j[21]=N,j[22]=q):q=j[22];j[23]!==s||j[24]!==r||j[25]!==w||j[26]!==q||j[27]!==a?(M=k.jsx(c("PolarisPostCaption.react"),{adFragmentKey:s,currSidecarIndex:r,maxCaptionLines:o,onMoreClick:q,onTextClick:L,queryReference:w,showEditedText:!1,showSubtext:!d("PolarisUA").isMobile(),showTimestamp:!1,showUsername:!0,untruncateCaption:a,xstyle:n.marginTop8}),j[23]=s,j[24]=r,j[25]=w,j[26]=q,j[27]=a,j[28]=M):M=j[28];L=M;j[29]!==s||j[30]!==A||j[31]!==K||j[32]!==w||j[33]!==e?(q=k.jsx(c("PolarisPostUFI.next.react"),{adQueryReference:s,facepileSize:"micro",feedbackControlsStaticStyles:n.feedbackControls,likeButtonStaticStyles:n.likeButton,mediaQueryReference:w,onCommentButtonClick:A,onCommentButtonMouseEnter:K,socialProofStaticStyles:n.socialProof,viewer:e}),j[29]=s,j[30]=A,j[31]=K,j[32]=w,j[33]=e,j[34]=q):q=j[34];a=q;j[35]!==s||j[36]!==w?(M=d("PolarisUA").isMobile()&&w!=null?k.jsx(c("PolarisPostSubtextPrompts.next.react"),{queryReference:w,showEditedText:!1,showTimestamp:s==null}):void 0,j[35]=s,j[36]=w,j[37]=M):M=j[37];A=M;j[38]===Symbol["for"]("react.memo_cache_sentinel")?(e={className:"xvbhtw8 x78zum5 xdt5ytf x5yr21d x1n2onr6"},j[38]=e):e=j[38];j[39]!==L?(q=d("PolarisAdsGatingHelpers").enableFeedPostImpressionLogging()?k.jsx(c("PolarisPostImpressionTrackingNode.react"),{childrenRef:v,componentType:"text",elementId:"captionText",trackingNode:"CAPTION",children:k.jsx("div",{ref:v,children:L})}):L,j[39]=L,j[40]=q):q=j[40];j[41]!==D||j[42]!==K||j[43]!==w?(M=k.jsx(c("PolarisFeedCardComments.next.react"),{mediaFragmentKey:w,onClick:D,onMouseEnter:K}),j[41]=D,j[42]=K,j[43]=w,j[44]=M):M=j[44];j[45]!==w?(v=k.jsx(c("PolarisMediaOverlayCommunityNote"),{queryReference:w}),j[45]=w,j[46]=v):v=j[46];j[47]!==s||j[48]!==f||j[49]!==w?(L=d("PolarisIsLoggedIn").isLoggedIn()&&(s!=null||!f)&&k.jsx(c("PolarisFeedCardDetailsSectionCommentInput.react"),{media$key:w}),j[47]=s,j[48]=f,j[49]=w,j[50]=L):L=j[50];j[51]!==A||j[52]!==q||j[53]!==M||j[54]!==v||j[55]!==L||j[56]!==a?(D=k.jsx("div",babelHelpers["extends"]({},e,{ref:t,children:k.jsxs("div",{ref:u,children:[a,q,M,v,L,A]})})),j[51]=A,j[52]=q,j[53]=M,j[54]=v,j[55]=L,j[56]=a,j[57]=D):D=j[57];j[58]!==y||j[59]!==D?(K=k.jsx(d("PolarisPostDetailsSectionProvider.react").PolarisPostDetailsSectionProvider,{value:y,children:D}),j[58]=y,j[59]=D,j[60]=K):K=j[60];return K}function p(){d("PolarisUA").isMobile()?c("InstagramODS").incr("web.feed.mobile_caption_click"):c("InstagramODS").incr("web.feed.desktop_caption_click")}g["default"]=a}),98);
__d("PolarisFeedCard_ad.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisFeedCard_ad",selections:[{alias:null,args:null,concreteType:"XDTMediaDict",kind:"LinkedField",name:"items",plural:!0,selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},action:"THROW"}],storageKey:null},{args:null,kind:"FragmentSpread",name:"PolarisMedia_ad"},{args:null,kind:"FragmentSpread",name:"PolarisPostHeader_ad"},{args:null,kind:"FragmentSpread",name:"PolarisFeedCardDetailsSection_ad"},{args:null,kind:"FragmentSpread",name:"PolarisSponsoredFeedCardCTA_items"}],type:"XDTAdInsertionItemClientDict",abstractKey:null};e.exports=a}),null);
__d("PolarisFeedCard_media.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},action:"THROW"};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisFeedCard_media",selections:[a,{alias:null,args:null,kind:"ScalarField",name:"inventory_source",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"logging_info_token",storageKey:null},{alias:null,args:null,concreteType:"XDTExploreDict",kind:"LinkedField",name:"explore",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"main_feed_carousel_starting_media_id",storageKey:null},{alias:null,args:null,concreteType:"XDTMediaDict",kind:"LinkedField",name:"carousel_media",plural:!0,selections:[a],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"audience",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_seen",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"media_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_shared_from_basel",storageKey:null},{args:null,kind:"FragmentSpread",name:"PolarisMedia_media"},{args:null,kind:"FragmentSpread",name:"PolarisPostHeader_media"},{args:null,kind:"FragmentSpread",name:"PolarisFeedCardDetailsSection_media"},{args:null,kind:"FragmentSpread",name:"PolarisPostFooterFragment_media"},{args:null,kind:"FragmentSpread",name:"PolarisPostContextFragment"},{args:null,kind:"FragmentSpread",name:"PolarisMediaOverlayFooterCTAFragment_media"}],type:"XDTMediaDict",abstractKey:null}}();e.exports=a}),null);
__d("PolarisSponsoredFeedCardCTA_items.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisSponsoredFeedCardCTA_items",selections:[{alias:null,args:null,kind:"ScalarField",name:"lead_gen_form_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tracking_token",storageKey:null},{kind:"RequiredField",field:{alias:null,args:null,concreteType:"XDTMediaDict",kind:"LinkedField",name:"items",plural:!0,selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},action:"THROW"},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ad_id",storageKey:null},{alias:null,args:null,concreteType:"XDTImageVersion2",kind:"LinkedField",name:"image_versions2",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTImageCandidate",kind:"LinkedField",name:"candidates",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"profile_pic_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XDTSocialContextInfo",kind:"LinkedField",name:"social_context",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"social_context_type",storageKey:null}],storageKey:null}],storageKey:null},action:"THROW"}],type:"XDTAdInsertionItemClientDict",abstractKey:null};e.exports=a}),null);
__d("XPolarisAdsLeadGenControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/ads/lead_gen/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("PolarisSponsoredFeedCardCTA.react",["CometRelay","InstagramODS","PolarisAdImpressionAction","PolarisClickEventLoggerProvider.react","PolarisFeedCardProvider.react","PolarisPostFooterCTA.react","PolarisPostIdContext.react","PolarisPostUtils","PolarisReactRedux.react","PolarisSponsoredFeedCardCTA_items.graphql","PolarisTrackingCodeContext","PolarisTrackingNodeProvider.react","PolarisTrackingNodesContext","PolarisUA","XPolarisAdsLeadGenControllerRouteBuilder","polarisPostSelectors","react","react-compiler-runtime","useCometRouterDispatcher","usePolarisSponsoredPostCTAFooterDominantColor","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.useContext;function a(a){var e=d("react-compiler-runtime").c(41),f=a.adFragmentKey;a=a.currSidecarIndex;var g=c("useCometRouterDispatcher")(),i=d("CometRelay").useFragment(h!==void 0?h:h=b("PolarisSponsoredFeedCardCTA_items.graphql"),f);f=k(d("PolarisPostIdContext.react").PolarisPostIdContext);var o=k(c("PolarisTrackingCodeContext")),p;e[0]!==o?(p=o.filter(n),e[0]=o,e[1]=p):p=e[1];var q=p,r=k(c("PolarisTrackingNodesContext")),s=i.items[0],t=(o=f.postId)!=null?o:s.pk;e[2]!==t?(p=function(a){return d("polarisPostSelectors").getPostById(a,t)},e[2]=t,e[3]=p):p=e[3];f=d("PolarisReactRedux.react").useSelector(p);if(e[4]!==a||e[5]!==f){p=f.isSidecar===!0?(o=d("PolarisPostUtils").getCurrentSidecarItemFromPost(f,a))==null?void 0:o.id:f.id;e[4]=a;e[5]=f;e[6]=p}else p=e[6];o=p;p=k(d("PolarisFeedCardProvider.react").PolarisFeedCardContext);p=p.isMediaRendered;p=p===!0;var u;e[7]!==o||e[8]!==f||e[9]!==p?(u={isMediaRendered:p,mediaId:o,post:f},e[7]=o,e[8]=f,e[9]=p,e[10]=u):u=e[10];o=c("usePolarisSponsoredPostCTAFooterDominantColor")(u);var v=o.ctaDominantColor;f=o.ctaFooterViewpointRef;p=i.items.length>1;u=p?i.items[a]:i.items[0];if(u==null){c("InstagramODS").incr("web.ads.feed.cta.ad_null");return null}var w=u.link,x=u.link_text;w==null&&c("InstagramODS").incr("web.ads.feed.cta.external_url_null");x==null&&c("InstagramODS").incr("web.ads.feed.cta.cta_link_text_null");if(w==null||x==null)return null;var y;e[11]!==i.lead_gen_form_id?(y=c("uuidv4")(),o=i.lead_gen_form_id!=null?c("XPolarisAdsLeadGenControllerRouteBuilder").buildURL({e:y,lead_gen_form_id:i.lead_gen_form_id}):null,e[11]=i.lead_gen_form_id,e[12]=y,e[13]=o):(y=e[12],o=e[13]);var z=o;if(e[14]!==i.lead_gen_form_id||e[15]!==i.tracking_token||e[16]!==g||e[17]!==x||e[18]!==y||e[19]!==s.ad_id||e[20]!==s.image_versions2||e[21]!==s.pk||e[22]!==s.social_context||e[23]!==((p=s.user)==null?void 0:p.profile_pic_url)||e[24]!==((u=s.user)==null?void 0:u.username)||e[25]!==q||e[26]!==r){o=function(){if(i.lead_gen_form_id!=null){var a,b;a=((a=s.image_versions2)==null?void 0:a.candidates)!=null?s.image_versions2.candidates[0]:null;g==null||g.go(c("XPolarisAdsLeadGenControllerRouteBuilder").buildURL({e:y,lead_gen_form_id:i.lead_gen_form_id}),{passthroughProps:{ad_id:s.ad_id,label:x,lead_gen_form_id:i.lead_gen_form_id,m_pk:(b=q[0])==null?void 0:b.m_pk,media_url:a==null?void 0:a.url,profile_pic_url:(b=s.user)==null?void 0:b.profile_pic_url,tracking_codes:q.map(m),tracking_nodes:JSON.stringify(r),username:(a=s.user)==null?void 0:a.username}})}c("InstagramODS").incr("web.ads.feed.link_click");a=(b=s.social_context)==null?void 0:b.find(l);b=a!=null&&d("PolarisUA").isMobile()?a:null;d("PolarisAdImpressionAction").logCTAClickWithDwellTime(s.pk,i.tracking_token,b==null?void 0:b.social_context_type)};e[14]=i.lead_gen_form_id;e[15]=i.tracking_token;e[16]=g;e[17]=x;e[18]=y;e[19]=s.ad_id;e[20]=s.image_versions2;e[21]=s.pk;e[22]=s.social_context;e[23]=(p=s.user)==null?void 0:p.profile_pic_url;e[24]=(u=s.user)==null?void 0:u.username;e[25]=q;e[26]=r;e[27]=o}else o=e[27];var A=o;e[28]!==a?(p=a.toString(),e[28]=a,e[29]=p):p=e[29];e[30]!==i.lead_gen_form_id||e[31]!==v||e[32]!==x||e[33]!==w||e[34]!==A||e[35]!==z?(u=function(a){return j.jsx("div",{ref:a,children:j.jsx(c("PolarisPostFooterCTA.react"),{ctaDominantColor:v,"data-testid":void 0,disableAnimation:!1,externalURL:z!=null?z:w,forceBottomBorder:!0,isActive:!0,isForAd:!0,leadGenFormID:i.lead_gen_form_id,onClick:A,showChevron:!0,text:x})})},e[30]=i.lead_gen_form_id,e[31]=v,e[32]=x,e[33]=w,e[34]=A,e[35]=z,e[36]=u):u=e[36];e[37]!==f||e[38]!==u||e[39]!==p?(o=j.jsx(c("PolarisClickEventLoggerProvider.react"),{children:j.jsx(c("PolarisTrackingNodeProvider.react"),{index:p,ref:f,trackingNode:86,children:u})}),e[37]=f,e[38]=u,e[39]=p,e[40]=o):o=e[40];return o}function l(a){return a.social_context_type==="followed_by"}function m(a){return a==null?void 0:a.trackingToken}function n(a){return a==null?void 0:a.isSponsored}g["default"]=a}),98);
__d("PolarisFeedCard.react",["CometRelay","IGDSBox.react","InstagramSEOCrawlBot","PolarisAdsGatingHelpers","PolarisFeedCardDetailsSection.react","PolarisFeedCardProvider.react","PolarisFeedCard_ad.graphql","PolarisFeedCard_media.graphql","PolarisHeroPageletLogger","PolarisIGCoreConstants","PolarisIsLoggedIn","PolarisMedia.react","PolarisMediaConstants","PolarisOrganicImpressionAction","PolarisPanavisionQEHelpers","PolarisPostContext.react","PolarisPostFooter.next.react","PolarisPostHeader.next.react","PolarisPostIdContext.react","PolarisPostSuggestedHeader.react","PolarisPostToast.react","PolarisPostToastProvider.react","PolarisProfileRelayExp","PolarisSponsoredFeedCardCTA.react","PolarisTrackingNodeProvider.react","PolarisViewpointReact.react","PolarisVpvdImpressionAction","hero-tracing","polarisDeveloperSettings","polarisPostSelectors","react","react-compiler-runtime","stylex","useMergeRefs","usePolarisFeedAnalyticsContext","usePolarisIsFeedMobileLayout","usePolarisIsOnFeedPage","usePolarisSelector","usePolarisShouldFeedMediaBeFullHeight"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=k||(k=d("react"));e=k;var m=e.useContext,n=e.useState,o=0,p={denserTopContentMobile:{alignItems:"x6s0dn4",display:"x78zum5",minHeight:"xbktkl8",paddingTop:"xexx8yu",paddingInlineEnd:"xpdmqnj",paddingBottom:"x18d9i69",paddingInlineStart:"x1g0dm76",$$css:!0},ifrHeader:{borderBottomStyle:"x1sy0etr",paddingTop:"x1y1aw1k",paddingInlineEnd:"xyri2b",paddingBottom:"xwxc41k",paddingInlineStart:"x1c1uobl",$$css:!0},ifrHeaderMobile:{paddingTop:"xz9dl7a",paddingBottom:"xsag5q8",$$css:!0},paddingX:{paddingInlineStart:"x114lzvu",paddingInlineEnd:"x1g6009e",paddingLeft:null,paddingRight:null,$$css:!0},root:{display:"x78zum5",flexDirection:"xdt5ytf",height:"x5yr21d",minWidth:"xa1mljc",width:"xh8yej3",$$css:!0},seenStateDebuggerBorderNotSeen:{borderTopColor:"x1uu1fcu",borderInlineEndColor:"x9cubbk",borderBottomColor:"xud65wk",borderInlineStartColor:"x1777cdg",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"xamhcws",borderInlineEndWidth:"x1alpsbp",borderBottomWidth:"xlxy82",borderInlineStartWidth:"xyumdvf",$$css:!0},seenStateDebuggerBorderSeen:{borderTopColor:"xb9njkq",borderInlineEndColor:"xal17m7",borderBottomColor:"x1hnil3p",borderInlineStartColor:"xe6sp5y",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"xamhcws",borderInlineEndWidth:"x1alpsbp",borderBottomWidth:"xlxy82",borderInlineStartWidth:"xyumdvf",$$css:!0},topContent:{paddingBottom:"xsag5q8",paddingInlineStart:"x135b78x",$$css:!0},topContentMobile:{alignItems:"x6s0dn4",display:"x78zum5",paddingTop:"xyinxu5",paddingInlineEnd:"xv54qhq",paddingBottom:"x1g2khh7",paddingInlineStart:"xf7dkkf",$$css:!0}};function a(a){var e=d("react-compiler-runtime").c(70),f=a.adFragmentKey,g=a.adImpressionRefs,k=a.inventorySource,q=a.mediaFragmentKey,r=a.position,s=a.untruncateCaption,t=a.viewpointActionsForSponsoredPost,u=a.xstyle,v=s===void 0?!1:s,w=d("CometRelay").useFragment(h!==void 0?h:h=b("PolarisFeedCard_media.graphql"),q),x=d("CometRelay").useFragment(i!==void 0?i:i=b("PolarisFeedCard_ad.graphql"),f);a=m(d("PolarisPostIdContext.react").PolarisPostIdContext);s=x!=null;var y=(q=a.postId)!=null?q:w.pk;e[0]!==y?(f=function(a){return d("polarisPostSelectors").getPostById(a,y)},e[0]=y,e[1]=f):f=e[1];a=c("usePolarisSelector")(f);var z=c("usePolarisFeedAnalyticsContext")();q=k!=null?k:w.inventory_source;var A=q==="mixed_unconnected";f=c("usePolarisIsOnFeedPage")();var B=d("usePolarisIsFeedMobileLayout").usePolarisIsFeedMobileLayout();k=x!=null?x.items:w.carousel_media;var C;e[2]!==k||e[3]!==w.main_feed_carousel_starting_media_id?(C=(w==null?void 0:w.main_feed_carousel_starting_media_id)!=null?k==null?void 0:k.findIndex(function(a){a=a.pk;return a===w.main_feed_carousel_starting_media_id}):null,e[2]=k,e[3]=w.main_feed_carousel_starting_media_id,e[4]=C):C=e[4];k=C;var D=k!=null&&k>=0?k:o;C=n(D);var E=C[0],F=C[1];e[5]===Symbol["for"]("react.memo_cache_sentinel")?(k=function(a,b,c){F(b)},e[5]=k):k=e[5];var G=k;e[6]!==z||e[7]!==s||e[8]!==r||e[9]!==a||e[10]!==t?(C=s&&t!=null?t:[d("PolarisOrganicImpressionAction").makePostImpressionAction(a,z,null,r),d("PolarisVpvdImpressionAction").makePostVpvdImpressionAction(a,z)],e[6]=z,e[7]=s,e[8]=r,e[9]=a,e[10]=t,e[11]=C):C=e[11];k=C;e[12]!==a.id||e[13]!==k?(t={action:k,id:a.id},e[12]=a.id,e[13]=k,e[14]=t):t=e[14];C=d("PolarisViewpointReact.react").useViewpoint(t);e[15]!==g?(a=g!=null?g:[],e[15]=g,e[16]=a):a=e[16];e[17]!==a||e[18]!==C?(k=[C].concat(a),e[17]=a,e[18]=C,e[19]=k):k=e[19];t=k;var H=c("useMergeRefs").apply(void 0,t),I;e[20]===Symbol["for"]("react.memo_cache_sentinel")?(I=!1,e[20]=I):I=e[20];var J=w.is_seen===!0?p.seenStateDebuggerBorderSeen:p.seenStateDebuggerBorderNotSeen;e[21]!==x||e[22]!==E?(g=x!=null?l.jsx(c("PolarisSponsoredFeedCardCTA.react"),{adFragmentKey:x,currSidecarIndex:E}):null,e[21]=x,e[22]=E,e[23]=g):g=e[23];var K=g;e[24]!==q?(a=q==="follow_hashtag_story"||q==="explore_story"||q==="mixed_unconnected"||c("InstagramSEOCrawlBot").is_crawler_with_ssr||!d("PolarisIsLoggedIn").isLoggedIn()&&d("PolarisProfileRelayExp").isProfileRelayAvailable(),e[24]=q,e[25]=a):a=e[25];C=a;k=w.audience==="besties";e[26]!==z||e[27]!==w.original_height||e[28]!==w.original_width?(t={analyticsContext:z,height:w.original_height,width:w.original_width},e[26]=z,e[27]=w.original_height,e[28]=w.original_width,e[29]=t):t=e[29];g=c("usePolarisShouldFeedMediaBeFullHeight")(t);var L=w.media_type===d("PolarisMediaConstants").MediaTypes.VIDEO&&g;e[30]!==B?(q=(j||(j=c("stylex"))).props(B?d("PolarisPanavisionQEHelpers").hasDenserMobileWebFeed()?p.denserTopContentMobile:p.topContentMobile:p.topContent),e[30]=B,e[31]=q):q=e[31];a=L?"white_link":"primary_link";t=w.is_shared_from_basel===!0;e[32]!==f||e[33]!==s?(g=d("PolarisAdsGatingHelpers").enableFeedProfileTapTargetExpansion()&&f&&s,e[32]=f,e[33]=s,e[34]=g):g=e[34];f=C&&!s;C=!B&&!s;e[35]!==x||e[36]!==L||e[37]!==k||e[38]!==w||e[39]!==a||e[40]!==t||e[41]!==g||e[42]!==f||e[43]!==C?(s=l.jsx(c("PolarisPostHeader.next.react"),{adFragmentKey:x,followButtonVariant:a,headerAvatarSize:c("PolarisIGCoreConstants").AVATAR_SIZES.small,isOverMedia:L,isSharedFromEdits:t,isSharedToCloseFriends:k,mediaFragmentKey:w,showExpandedProfileTapTarget:g,showFollowButton:f,showTimestamp:C,truncateHeaderLink:!0,truncateLocation:!0}),e[35]=x,e[36]=L,e[37]=k,e[38]=w,e[39]=a,e[40]=t,e[41]=g,e[42]=f,e[43]=C,e[44]=s):s=e[44];e[45]!==q||e[46]!==s?(k=l.jsx("div",babelHelpers["extends"]({},q,{children:s})),e[45]=q,e[46]=s,e[47]=k):k=e[47];var M=k;e[48]!==x||e[49]!==z||e[50]!==E||e[51]!==H||e[52]!==D||e[53]!==L||e[54]!==B||e[55]!==w||e[56]!==r||e[57]!==K||e[58]!==M||e[59]!==y||e[60]!==J||e[61]!==A||e[62]!==v||e[63]!==u?(a=l.jsx(d("PolarisFeedCardProvider.react").PolarisFeedCardProvider,{children:l.jsx(d("PolarisPostToastProvider.react").PostToastProvider,{children:function(a){return l.jsx(d("hero-tracing").HeroPagelet,{name:d("PolarisHeroPageletLogger").getHeroPageletLogName(d("PolarisHeroPageletLogger").PageletLogName.FEED,r),ref:H,children:function(b,d){return l.jsx(c("PolarisTrackingNodeProvider.react"),{ref:b,trackingNode:301,children:function(e){return l.jsxs("article",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(I&&J),{"data-testid":void 0,ref:e,children:[A&&l.jsx(c("PolarisPostSuggestedHeader.react"),{postId:y,rankingInfoToken:w.logging_info_token,title:(e=w.explore)==null?void 0:e.title,xstyle:B?babelHelpers["extends"]({},p.ifrHeaderMobile,p.paddingX):p.ifrHeader}),l.jsxs("div",babelHelpers["extends"]({},j.props(p.root,u),{ref:b,children:[!L&&M,l.jsxs("div",babelHelpers["extends"]({},{0:{className:"x6s0dn4 xyzq4qe x78zum5 xdt5ytf x2lah0s xl56j7k x6ikm8r x10wlt62 x1n2onr6"},1:{className:"x6s0dn4 xyzq4qe x78zum5 xdt5ytf x2lah0s xl56j7k x6ikm8r x10wlt62 x1n2onr6 x5ur3kl x6usi7g x1bs97v6 x18dxpii xjwep3j x1t39747 x1wcsgtt x1pczhz8 x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu x178xt8z x1lun4ml xso031l xpilrb4"}}[!!!B<<0],{ref:a,children:[L&&l.jsx("div",babelHelpers["extends"]({className:"x10l6tqk x13vifvy xh8yej3 x1vjfegm"},{children:l.jsx(c("IGDSBox.react"),{padding:3,children:M})})),l.jsx(c("PolarisMedia.react"),{adFragmentKey:x,analyticsContext:z,handleMediaSidecarChildIndexChange:G,initialCarouselIndex:D,mediaFragmentKey:w}),l.jsx(c("PolarisPostToast.react"),{isFeedVariant:!0,isModal:!1}),l.jsx(c("PolarisPostFooter.next.react"),{analyticsContext:z,queryReference:w}),l.jsx("div",babelHelpers["extends"]({className:"xh8yej3"},{children:K}))]})),l.jsx("div",babelHelpers["extends"]({},{0:{className:"x1lliihq x1n2onr6"},1:{className:"x1lliihq x1n2onr6 x114lzvu x1g6009e"}}[!!B<<0],{children:l.jsx(c("PolarisFeedCardDetailsSection.react"),{adFragmentKey:x,currSidecarIndex:E,mediaFragmentKey:w,untruncateCaption:v})})),l.jsx(d,{})]}))]}))}})}})}})}),e[48]=x,e[49]=z,e[50]=E,e[51]=H,e[52]=D,e[53]=L,e[54]=B,e[55]=w,e[56]=r,e[57]=K,e[58]=M,e[59]=y,e[60]=J,e[61]=A,e[62]=v,e[63]=u,e[64]=a):a=e[64];e[65]!==z||e[66]!==E||e[67]!==w||e[68]!==a?(t=l.jsx(d("PolarisPostContext.react").PolarisPostContextProvider,{analyticsContext:z,currentSidecarIndex:E,queryReference:w,children:a}),e[65]=z,e[66]=E,e[67]=w,e[68]=a,e[69]=t):t=e[69];return t}g["default"]=a}),98);
__d("PolarisFeedCommentInputRevampedMutation_instagramRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9864908560226690"}),null);
__d("PolarisFeedCommentInputRevampedMutation.graphql",["PolarisFeedCommentInputRevampedMutation_instagramRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"media_id"},c={defaultValue:null,kind:"LocalArgument",name:"request_data"},d=[{kind:"Variable",name:"media_id",variableName:"media_id"},{kind:"Variable",name:"request_data",variableName:"request_data"}],e={alias:null,args:null,kind:"ScalarField",name:"created_at",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"full_name",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"profile_pic_url",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null};return{fragment:{argumentDefinitions:[a,c],kind:"Fragment",metadata:null,name:"PolarisFeedCommentInputRevampedMutation",selections:[{alias:null,args:d,concreteType:"XDTAddCommentWebResponse",kind:"LinkedField",name:"xdt_web__comments__media_id__add_queryable",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTCommentDict",kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"RequiredField",field:e,action:"THROW"},{kind:"RequiredField",field:f,action:"THROW"},{kind:"RequiredField",field:g,action:"THROW"},{kind:"RequiredField",field:{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[f,h,i,j,k],storageKey:null},action:"THROW"}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[c,a],kind:"Operation",name:"PolarisFeedCommentInputRevampedMutation",selections:[{alias:null,args:d,concreteType:"XDTAddCommentWebResponse",kind:"LinkedField",name:"xdt_web__comments__media_id__add_queryable",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTCommentDict",kind:"LinkedField",name:"node",plural:!1,selections:[e,f,g,{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[f,h,i,j,k,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("PolarisFeedCommentInputRevampedMutation_instagramRelayOperation"),metadata:{is_distillery:!0,root_field_name:["xdt_web__comments__media_id__add_queryable"]},name:"PolarisFeedCommentInputRevampedMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("PolarisFeedCommentInputRevamped.react",["CometRelay","PolarisFeedCommentInputRevampedMutation.graphql","PolarisPostCommentInput.react","PolarisPostDetailsSectionProvider.react","PolarisPostIdContext.react","Promise","polarisGetXDTMediaDict","react","react-compiler-runtime","usePolarisCommentInputRevamped"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react")),l=j.useContext,m=h!==void 0?h:h=b("PolarisFeedCommentInputRevampedMutation.graphql");function a(a){var e=d("react-compiler-runtime").c(19),f=a.adInfo,g=a.isRevampedMobileInput,h=a.isSidecar,j=a.isVideo,n=a.ownerID,o=a.postID,p=a.postOwnerUsername,q=a.postPK,r=a.replyingToBarWithinInput;a=a.viewerProfilePicture;g=g===void 0?!1:g;r=r===void 0?!1:r;var s=d("PolarisPostDetailsSectionProvider.react").usePolarisPostDetailsSectionProvider(),t=d("CometRelay").useMutation(m),u=t[0];t=l(d("PolarisPostIdContext.react").PolarisPostIdContext);var v=(t=t.mediaIdUFI)!=null?t:q;t=c("usePolarisCommentInputRevamped")(v,h,j);var w=t.onCommit,x=t.onComplete,y=t.onError,z;e[0]!==u||e[1]!==v||e[2]!==w||e[3]!==x||e[4]!==y||e[5]!==n||e[6]!==o?(z=function(a,d,e,f){w();u({onCompleted:function(a){x(a.xdt_web__comments__media_id__add_queryable.node.text,a.xdt_web__comments__media_id__add_queryable.node.pk,n,f)},onError:function(){y(z,a,f)},updater:function(a){var b,d=c("polarisGetXDTMediaDict")(a,o);b=(b=d==null?void 0:d.getLinkedRecords("comments"))!=null?b:[];a=a.getRootField("xdt_web__comments__media_id__add_queryable");a=a==null?void 0:a.getLinkedRecord("node");d==null||d.setLinkedRecords([].concat(b,[a]),"comments")},variables:{media_id:v,request_data:{comment_text:a}}});return(i||(i=b("Promise"))).resolve()},e[0]=u,e[1]=v,e[2]=w,e[3]=x,e[4]=y,e[5]=n,e[6]=o,e[7]=z):z=e[7];q=a!=null?a:"";e[8]!==f||e[9]!==s||e[10]!==z||e[11]!==g||e[12]!==j||e[13]!==v||e[14]!==n||e[15]!==p||e[16]!==r||e[17]!==q?(h=k.jsx(c("PolarisPostCommentInput.react"),{adInfo:f,analyticsContext:s,canViewerProvideFeedback:!0,forceTextareaAutosize:!1,hasPostButton:!0,hasRichCommentInput:!0,id:v,inModal:!1,isRevampedMobileInput:g,isRevampVersion:!0,isVideo:j,onCommentSubmitOverride:z,ownerId:n,postOwnerUsername:p,replyingToBarWithinInput:r,viewerProfilePicture:q}),e[8]=f,e[9]=s,e[10]=z,e[11]=g,e[12]=j,e[13]=v,e[14]=n,e[15]=p,e[16]=r,e[17]=q,e[18]=h):h=e[18];return h}g["default"]=a}),98);
__d("PolarisFeedPageAds_fragment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"PolarisFeedPageAds_fragment",selections:[{alias:null,args:null,concreteType:"XDTAdInsertionItemClientDict",kind:"LinkedField",name:"ad",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ad_id",storageKey:null},{alias:null,args:null,concreteType:"XDTMediaDict",kind:"LinkedField",name:"items",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tracking_token",storageKey:null}],storageKey:null}],type:"XDTFeedItem",abstractKey:null};e.exports=a}),null);
__d("PolarisMediaPrefetchContainer_fragment.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,concreteType:"XDTMediaDict",kind:"LinkedField",name:"media",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null}],storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisMediaPrefetchContainer_fragment",selections:[{alias:null,args:null,concreteType:"XDTFeedTimelineResponseEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTFeedItem",kind:"LinkedField",name:"node",plural:!1,selections:[a,{alias:null,args:null,concreteType:"XDTExploreStory",kind:"LinkedField",name:"explore_story",plural:!1,selections:[a],storageKey:null},{alias:null,args:null,concreteType:"XDTAdInsertionItemClientDict",kind:"LinkedField",name:"ad",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"media_id",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"XDTFeedTimelineResponseConnection",abstractKey:null}}();e.exports=a}),null);
__d("PolarisMediaPrefetchContainer.react",["CometRelay","PolarisFeedActionConstants","PolarisMediaPrefetchContainer_DEPRECATED.react","PolarisMediaPrefetchContainer_fragment.graphql","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e=d("react-compiler-runtime").c(4);a=a.queryReference;a=d("CometRelay").useFragment(h!==void 0?h:h=b("PolarisMediaPrefetchContainer_fragment.graphql"),a);var f;e[0]!==a.edges?(f=a.edges.map(k).filter(Boolean),e[0]=a.edges,e[1]=f):f=e[1];a=f;e[2]!==a?(f=j.jsx(c("PolarisMediaPrefetchContainer_DEPRECATED.react"),{postIds:a,viewKey:d("PolarisFeedActionConstants").FEED_VIEW}),e[2]=a,e[3]=f):f=e[3];return f}function k(a){var b;a=a.node;return(b=(b=(b=a.media)==null?void 0:b.pk)!=null?b:(b=a.explore_story)==null||(b=b.media)==null?void 0:b.pk)!=null?b:(b=a.ad)==null?void 0:b.media_id}g["default"]=a}),98);
__d("PolarisPostHiddenUnit.react",["CometPlaceholder.react","CometPressable.react","IGDSBox.react","IGDSCircleCheckPanoOutlineIcon.react","IGDSDivider.react","IGDSSpinner.react","IGDSTextVariants.react","InstagramODS","JSResourceForInteraction","PolarisGenericStrings","PolarisReactRedux.react","PolarisUA","isStringNullOrEmpty","lazyLoadComponent","polarisPostSelectors","react","react-compiler-runtime","usePolarisHidePost"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useState,l=c("JSResourceForInteraction")("PolarisPostFastReportModal.react").__setRef("PolarisPostHiddenUnit.react"),m=c("lazyLoadComponent")(l);function n(a){var b=d("react-compiler-runtime").c(8),e=a.color,f=a.loading,g=a.onClick;a=a.title;f=f===void 0?!1:f;var h;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(h=i.jsx(c("IGDSDivider.react"),{}),b[0]=h):h=b[0];var j;b[1]!==e||b[2]!==f||b[3]!==a?(j=i.jsx(c("IGDSBox.react"),{alignItems:"center",justifyContent:"center",minHeight:40,position:"relative",width:"100%",children:f?i.jsx(c("IGDSSpinner.react"),{size:"small"}):i.jsx(d("IGDSTextVariants.react").IGDSTextBodyEmphasized,{color:e,children:a})}),b[1]=e,b[2]=f,b[3]=a,b[4]=j):j=b[4];b[5]!==g||b[6]!==j?(e=i.jsxs(i.Fragment,{children:[h,i.jsx(c("CometPressable.react"),{expanding:!0,onPress:g,overlayDisabled:!0,children:j})]}),b[5]=g,b[6]=j,b[7]=e):e=b[7];return e}function o(a){var b=d("react-compiler-runtime").c(18),e=a.option,f=a.postId,g=a.setDemotionControl,h=a.setSelectedReason,j=a.setShowReportModal,k=e.id,l=k==="report";b[0]!==e.demotion_control||b[1]!==k||b[2]!==g||b[3]!==h?(a=function(){g(e.demotion_control),h(k)},b[0]=e.demotion_control,b[1]=k,b[2]=g,b[3]=h,b[4]=a):a=b[4];a=a;var m;b[5]!==a||b[6]!==f||b[7]!==k?(m={inventorySource:"explore_story",onSuccess:a,postId:f,reason:k},b[5]=a,b[6]=f,b[7]=k,b[8]=m):m=b[8];var o=d("usePolarisHidePost").usePolarisHidePost(m);a=l?"errorOrDestructive":"primaryText";b[9]!==o||b[10]!==l||b[11]!==j?(f=function(){l?(c("InstagramODS").incr("web.feed.post_controls.hidden_post.report_click"),j(!0)):(c("InstagramODS").incr("web.feed.post_controls.hidden_post.unconnected_demote_click"),o())},b[9]=o,b[10]=l,b[11]=j,b[12]=f):f=b[12];b[13]!==e.text||b[14]!==k||b[15]!==a||b[16]!==f?(m=i.jsx(n,{color:a,onClick:f,title:e.text},k),b[13]=e.text,b[14]=k,b[15]=a,b[16]=f,b[17]=m):m=b[17];return m}function p(a){var b=d("react-compiler-runtime").c(25),e=a.followupOptions,f=a.postId,g=a.selectedReason,h=a.setDemotionControl,l=a.setSelectedReason;b[0]!==f?(a=function(a){return d("polarisPostSelectors").getPostById(a,f)},b[0]=f,b[1]=a):a=b[1];a=d("PolarisReactRedux.react").useSelector(a);var p=k(!1),r=p[0],s=p[1];p=k(!1);var t=p[0],u=p[1];b[2]!==g?(p=g!=null?{reason:g}:{},b[2]=g,b[3]=p):p=b[3];b[4]!==f||b[5]!==p?(g=babelHelpers["extends"]({inventorySource:"explore_story",postId:f},p),b[4]=f,b[5]=p,b[6]=g):g=b[6];var v=d("usePolarisHidePost").usePolarisUnhidePost(g);b[7]===Symbol["for"]("react.memo_cache_sentinel")?(p=[],b[7]=p):p=b[7];j(q,p);b[8]!==e||b[9]!==f||b[10]!==h||b[11]!==l?(g=e==null?void 0:e.map(function(a,b){return i.jsx(o,{option:a,postId:f,setDemotionControl:h,setSelectedReason:l,setShowReportModal:u},b)}),b[8]=e,b[9]=f,b[10]=h,b[11]=l,b[12]=g):g=b[12];b[13]!==v?(p=function(){c("InstagramODS").incr("web.feed.post_controls.hidden_post.undo_click"),s(!0),v()},b[13]=v,b[14]=p):p=b[14];b[15]!==p||b[16]!==r?(e=i.jsx(n,{color:"primaryButton",loading:r,onClick:p,title:d("PolarisGenericStrings").UNDO_TEXT}),b[15]=p,b[16]=r,b[17]=e):e=b[17];b[18]!==a||b[19]!==t?(p=t===!0&&i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(m,{onClose:function(){return u(!1)},post:a})}),b[18]=a,b[19]=t,b[20]=p):p=b[20];b[21]!==g||b[22]!==e||b[23]!==p?(r=i.jsxs(i.Fragment,{children:[g,e,p]}),b[21]=g,b[22]=e,b[23]=p,b[24]=r):r=b[24];return r}function q(){l.preload()}function a(a){var b=d("react-compiler-runtime").c(23),e=a.id;b[0]!==e?(a=function(a){return d("polarisPostSelectors").getPostById(a,e)},b[0]=e,b[1]=a):a=b[1];a=d("PolarisReactRedux.react").useSelector(a);var f;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(f=[],b[2]=f):f=b[2];j(r,f);f=a.feedDemotionControl;a=a.feedRecsDemotionControl;var g=f!=null;f=k(f!=null?f:a);a=f[0];f=f[1];var h=k(null),l=h[0];h=h[1];if(a==null)return null;var m=a==null?void 0:a.confirmation_icon,n=a==null?void 0:a.confirmation_title,o=a==null?void 0:a.confirmation_body,q;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(q={0:{className:"x6s0dn4 xnz67gz xl56j7k xh8yej3"},1:{className:"x6s0dn4 xl56j7k xh8yej3 xvbhtw8 x5ur3kl x6usi7g x1bs97v6 x18dxpii x1obq294 x5a5i1n xde0f50 x15x8krk x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu x178xt8z x1lun4ml xso031l xpilrb4 xod5an3"}}[!!d("PolarisUA").isDesktop()<<0],b[3]=q):q=b[3];var s;b[4]!==m||b[5]!==g?(s=(g||m==="checkmark")&&i.jsx(c("IGDSBox.react"),{alignContent:"center",alignItems:"center",marginBottom:6,position:"relative",children:i.jsx(c("IGDSCircleCheckPanoOutlineIcon.react"),{alt:d("PolarisGenericStrings").CHECKMARK_OUTLINE_ICON_ALT,color:"ig-success",size:48})}),b[4]=m,b[5]=g,b[6]=s):s=b[6];b[7]!==n?(m=!c("isStringNullOrEmpty")(n)&&i.jsx(c("IGDSBox.react"),{alignItems:"center",justifyContent:"center",marginBottom:4,paddingX:8,position:"relative",children:i.jsx(d("IGDSTextVariants.react").IGDSTextLabelEmphasized,{color:"primaryText",textAlign:"center",children:n})}),b[7]=n,b[8]=m):m=b[8];b[9]!==o?(g=i.jsx(c("IGDSBox.react"),{alignItems:"center",justifyContent:"center",marginBottom:6,paddingX:8,position:"relative",children:i.jsx(d("IGDSTextVariants.react").IGDSTextBody,{color:"secondaryText",textAlign:"center",children:o})}),b[9]=o,b[10]=g):g=b[10];b[11]!==s||b[12]!==m||b[13]!==g?(n=i.jsxs(c("IGDSBox.react"),{marginTop:6,position:"relative",children:[s,m,g]}),b[11]=s,b[12]=m,b[13]=g,b[14]=n):n=b[14];o=a==null?void 0:a.followup_options;b[15]!==e||b[16]!==l||b[17]!==o?(s=i.jsx(p,{followupOptions:o,postId:e,selectedReason:l,setDemotionControl:f,setSelectedReason:h}),b[15]=e,b[16]=l,b[17]=o,b[18]=s):s=b[18];b[19]!==q||b[20]!==n||b[21]!==s?(m=i.jsxs("div",babelHelpers["extends"]({},q,{children:[n,s]})),b[19]=q,b[20]=n,b[21]=s,b[22]=m):m=b[22];return m}function r(){c("InstagramODS").incr("web.feed.post_controls.hidden_post.show")}g["default"]=a}),98);
__d("PolarisSponsoredFeedCardFragment_ad_item.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisSponsoredFeedCardFragment_ad_item",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"ad_id",storageKey:null},action:"THROW"},{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"tracking_token",storageKey:null},action:"THROW"},{alias:null,args:null,kind:"ScalarField",name:"media_id",storageKey:null},{kind:"RequiredField",field:{alias:null,args:null,concreteType:"XDTMediaDict",kind:"LinkedField",name:"items",plural:!0,selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},action:"THROW"},{alias:null,args:null,concreteType:"XDTSocialContextInfo",kind:"LinkedField",name:"social_context",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"social_context_type",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"PolarisFeedCard_media"}],storageKey:null},action:"THROW"},{args:null,kind:"FragmentSpread",name:"PolarisFeedCard_ad"}],type:"XDTAdInsertionItemClientDict",abstractKey:null};e.exports=a}),null);
__d("PolarisSponsoredFeedCard.react",["CometRelay","InstagramODS","InstagramWebAdEventsAuditFalcoEvent","PolarisAdsGatingHelpers","PolarisAdsUtils","PolarisContainerModuleUtils","PolarisFeedCard.react","PolarisLocales","PolarisPCManagerProvider.react","PolarisPostIdContext.react","PolarisReactRedux.react","PolarisSponsoredFeedCardFragment_ad_item.graphql","PolarisSponsoredPostContext.react","PolarisStoriesLoggingUtils","PolarisTrackingCodeProvider.react","PolarisUA","PolarisViewpointActionUtils","PolarisViewpointReact.react","polarisPostSelectors","polarisRelationshipSelectors.react","qex","react","react-compiler-runtime","usePolarisFeedAnalyticsContext","usePolarisIsOnFeedPage","usePolarisSponsoredPostHasImageAsCta","usePolarisSponsoredPostHasPersistentCta","usePolarisSponsoredPostImpressionRefs","usePolarisSponsoredPostProfileClickLogger","usePolarisSponsoredPostRenderedLogging","usePolarisSponsoredPostSecondaryProfileClickLogger","usePolarisSponsoredPostViewpointActions","usePolarisViewer"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));e=i;var k=e.useContext,l=e.useEffect,m=c("qex")._("1002");function n(a){var e,f=d("react-compiler-runtime").c(91),g=a.adProps,i=a.fragmentKey,n=a.gapToPreviousAd,p=a.index;a=a.xstyle;var q=c("usePolarisFeedAnalyticsContext")(),r=k(d("PolarisSponsoredPostContext.react").PolarisSponsoredPostContext),s=r.updateSponsoredPostContext;r=k(d("PolarisViewpointReact.react").ViewpointContext);var t=d("CometRelay").useFragment(h!==void 0?h:h=b("PolarisSponsoredFeedCardFragment_ad_item.graphql"),i);i=k(d("PolarisPostIdContext.react").PolarisPostIdContext);var u=t.items[0],v=(i=i.postId)!=null?i:u.pk,w;f[0]!==t.media_id||f[1]!==t.tracking_token||f[2]!==u.pk?(i=function(){t.media_id==null?(c("InstagramWebAdEventsAuditFalcoEvent").log(function(){return{client_token:t==null?void 0:t.tracking_token,event:"ad_media_id_null"}}),c("InstagramODS").incr("web.ads.feed.sponsored_feed_card.media_id.null")):t.media_id===u.pk?c("InstagramODS").incr("web.ads.feed.sponsored_feed_card.media_id.match"):(c("InstagramWebAdEventsAuditFalcoEvent").log(function(){return{client_token:t==null?void 0:t.tracking_token,event:"ad_media_id_mismatch"}}),c("InstagramODS").incr("web.ads.feed.sponsored_feed_card.media_id.mismatch"))},w=[t.media_id,t.tracking_token,u.pk],f[0]=t.media_id,f[1]=t.tracking_token,f[2]=u.pk,f[3]=i,f[4]=w):(i=f[3],w=f[4]);l(i,w);f[5]!==v?(i=function(a){return d("polarisPostSelectors").getPostById(a,v)},f[5]=v,f[6]=i):i=f[6];var x=d("PolarisReactRedux.react").useSelector(i);i=(w=c("usePolarisViewer")())==null?void 0:w.id;if(f[7]!==((w=x.owner)==null?void 0:w.id)){var y;w=function(a){return d("polarisRelationshipSelectors.react").getRelationship(a.relationships,(a=(a=x.owner)==null?void 0:a.id)!=null?a:"")};f[7]=(y=x.owner)==null?void 0:y.id;f[8]=w}else w=f[8];y=d("PolarisReactRedux.react").useSelector(w);w=c("usePolarisIsOnFeedPage")();c("usePolarisSponsoredPostRenderedLogging")(v,q);var z=String(p);if(f[9]!==u.social_context){var A;A=(A=u.social_context)==null?void 0:A.find(o);f[9]=u.social_context;f[10]=A}else A=f[10];A=A;var B;f[11]!==A?(B=A!=null&&d("PolarisUA").isMobile()?A:null,f[11]=A,f[12]=B):B=f[12];var C=B;f[13]!==r?(A=r==null?void 0:r.getViewport().height,f[13]=r,f[14]=A):A=f[14];f[15]!==n?(B=n==null?void 0:n.toString(10),f[15]=n,f[16]=B):B=f[16];if(f[17]!==(g==null?void 0:g.brandSafetyThreshold)){var D;r=g==null||(D=g.brandSafetyThreshold)==null?void 0:D.toString(10);f[17]=g==null?void 0:g.brandSafetyThreshold;f[18]=r}else r=f[18];if(f[19]!==(g==null?void 0:g.organicBrsSeverityAfter)){var E;n=g==null||(E=g.organicBrsSeverityAfter)==null?void 0:E.toString(10);f[19]=g==null?void 0:g.organicBrsSeverityAfter;f[20]=n}else n=f[20];var F;if(f[21]!==(g==null?void 0:g.organicBrsSeverityBefore)){var G;F=g==null||(G=g.organicBrsSeverityBefore)==null?void 0:G.toString(10);f[21]=g==null?void 0:g.organicBrsSeverityBefore;f[22]=F}else F=f[22];i=c("usePolarisSponsoredPostViewpointActions")(x,q,t.ad_id,t.tracking_token,i,y,A,m===!0,z,B,r,n,F,g==null?void 0:g.organicMediaIdAfter,g==null?void 0:g.organicMediaIdBefore,g==null?void 0:g.viewStateItemTypeAfter,g==null?void 0:g.viewStateItemTypeBefore,C);A=c("usePolarisSponsoredPostImpressionRefs")(v);B=(z=x.owner)==null?void 0:z.id;f[23]!==x.id||f[24]!==B?(r=d("PolarisViewpointActionUtils").getMPKForStoryMedia(x.id,B),f[23]=x.id,f[24]=B,f[25]=r):r=f[25];n=r;f[26]!==x?(F=d("PolarisStoriesLoggingUtils").getMediaTypeFromPost(x),f[26]=x,f[27]=F):F=f[27];g=F;z=t==null?void 0:t.ad_id;B=t==null?void 0:t.tracking_token;r=c("usePolarisFeedAnalyticsContext")();f[28]!==y?(F=d("PolarisViewpointActionUtils").getFollowStatus(y),f[28]=y,f[29]=F):F=f[29];e=(e=x.owner)==null?void 0:e.id;var H;f[30]!==n||f[31]!==g||f[32]!==C||f[33]!==z||f[34]!==B||f[35]!==r||f[36]!==F||f[37]!==e?(H={adId:z,adTrackingToken:B,analyticsContext:r,followStatus:F,mpk:n,postMediaType:g,postOwnerId:e,socialContext:C},f[30]=n,f[31]=g,f[32]=C,f[33]=z,f[34]=B,f[35]=r,f[36]=F,f[37]=e,f[38]=H):H=f[38];var I=c("usePolarisSponsoredPostProfileClickLogger")(H);z=t==null?void 0:t.ad_id;B=t==null?void 0:t.tracking_token;r=c("usePolarisFeedAnalyticsContext")();f[39]!==y?(F=d("PolarisViewpointActionUtils").getFollowStatus(y),f[39]=y,f[40]=F):F=f[40];H=(e=x.owner)==null?void 0:e.id;f[41]!==n||f[42]!==g||f[43]!==C||f[44]!==z||f[45]!==B||f[46]!==r||f[47]!==F||f[48]!==H?(y={adId:z,adTrackingToken:B,analyticsContext:r,followStatus:F,mpk:n,postMediaType:g,postOwnerId:H,socialContext:C},f[41]=n,f[42]=g,f[43]=C,f[44]=z,f[45]=B,f[46]=r,f[47]=F,f[48]=H,f[49]=y):y=f[49];var J=c("usePolarisSponsoredPostSecondaryProfileClickLogger")(y),K=d("usePolarisSponsoredPostHasImageAsCta").usePolarisSponsoredPostHasImageAsCta(x),L=d("usePolarisSponsoredPostHasPersistentCta").usePolarisSponsoredPostHasPersistentCta(x);f[50]!==L||f[51]!==I||f[52]!==J||f[53]!==K||f[54]!==(C==null?void 0:C.social_context_type)||f[55]!==s?(e=function(){s({canUserSeePersistentCta:L,onProfileClick:I,onSecondaryProfileClick:J,singleImageAdAsCta:K,socialContextType:C==null?void 0:C.social_context_type})},f[50]=L,f[51]=I,f[52]=J,f[53]=K,f[54]=C==null?void 0:C.social_context_type,f[55]=s,f[56]=e):e=f[56];z=C==null?void 0:C.social_context_type;f[57]!==L||f[58]!==I||f[59]!==J||f[60]!==K||f[61]!==z||f[62]!==s?(B=[L,I,J,K,s,z],f[57]=L,f[58]=I,f[59]=J,f[60]=K,f[61]=z,f[62]=s,f[63]=B):B=f[63];l(e,B);f[64]!==t||f[65]!==A||f[66]!==p||f[67]!==u||f[68]!==i||f[69]!==a?(r=j.jsx(c("PolarisFeedCard.react"),{adFragmentKey:t,adImpressionRefs:A,mediaFragmentKey:u,position:p,viewpointActionsForSponsoredPost:i,xstyle:a}),f[64]=t,f[65]=A,f[66]=p,f[67]=u,f[68]=i,f[69]=a,f[70]=r):r=f[70];F=r;if(!w)return F;H=t.ad_id;f[71]!==q?(y=d("PolarisContainerModuleUtils").getContainerModule(q),f[71]=q,f[72]=y):y=f[72];z=t.items.length>1?"CAROUSEL":g===d("PolarisAdsUtils").MEDIA_TYPE_IMAGE?"PHOTO":"VIDEO";B=(e=x.owner)==null?void 0:e.id;f[73]!==t.ad_id||f[74]!==t.tracking_token||f[75]!==n||f[76]!==y||f[77]!==z||f[78]!==B?(A={adId:H,containerModule:y,locale:c("PolarisLocales").locale,mediaType:z,mpk:n,trackingToken:t.tracking_token,userId:B},f[73]=t.ad_id,f[74]=t.tracking_token,f[75]=n,f[76]=y,f[77]=z,f[78]=B,f[79]=A):A=f[79];p=A;if(f[80]!==x){a=(i=d("PolarisViewpointActionUtils").getMPKForFeedMedia(x))!=null?i:"";f[80]=x;f[81]=a}else a=f[81];f[82]!==t.tracking_token||f[83]!==F||f[84]!==a?(r=j.jsx(c("PolarisTrackingCodeProvider.react"),{isSponsored:!0,m_pk:a,trackingToken:t.tracking_token,children:F}),f[82]=t.tracking_token,f[83]=F,f[84]=a,f[85]=r):r=f[85];w=r;if(d("PolarisAdsGatingHelpers").enableFeedPostImpressionLogging()){f[86]!==w?(q=j.jsx("div",{children:w}),f[86]=w,f[87]=q):q=f[87];f[88]!==p||f[89]!==q?(g=j.jsx(c("PolarisPCManagerProvider.react"),{adLoggingFields:p,children:q}),f[88]=p,f[89]=q,f[90]=g):g=f[90];return g}return w}function o(a){return a.social_context_type==="followed_by"}function a(a){return j.jsx(d("PolarisSponsoredPostContext.react").PolarisSponsoredPostContextProvider,{children:j.jsx(n,babelHelpers["extends"]({},a))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisVirtualFeedItemFragment.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b={alias:null,args:null,concreteType:"XDTMediaDict",kind:"LinkedField",name:"media",plural:!1,selections:[{kind:"RequiredField",field:a,action:"THROW"},{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},{args:null,kind:"FragmentSpread",name:"PolarisFeedCard_media"},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_hidden",storageKey:null}]}],storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisVirtualFeedItemFragment",selections:[b,{alias:null,args:null,concreteType:"XDTAdInsertionItemClientDict",kind:"LinkedField",name:"ad",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"primary_media_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"media_id",storageKey:null},{args:null,kind:"FragmentSpread",name:"PolarisSponsoredFeedCardFragment_ad_item"}],storageKey:null},{alias:null,args:null,concreteType:"XDTExploreStory",kind:"LinkedField",name:"explore_story",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"inventory_source",storageKey:null},b],storageKey:null},{alias:null,args:null,concreteType:"XDTEndOfFeedDemarcator",kind:"LinkedField",name:"end_of_feed_demarcator",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"PolarisEndOfFeedDemarcatorContainerFragment_demarcator"}],storageKey:null},{alias:null,args:null,concreteType:"XDTSuggestedUsers",kind:"LinkedField",name:"suggested_users",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"PolarisSuggestedUserFeedUnit_suggested_users"}],storageKey:null},{alias:null,args:null,concreteType:"XDTBloksNetegoFeedItem",kind:"LinkedField",name:"bloks_netego",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"payload",storageKey:null},a,{alias:null,args:null,kind:"ScalarField",name:"netego_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tracking_token",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XDTAbraIcebreakersInFeedUnit",kind:"LinkedField",name:"abra_icebreakers_in_feed_unit",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"PolarisAbraIcebreakersFeedUnit_icebreakers"}],storageKey:null},{alias:null,args:null,concreteType:"XDTAd4AdInWebFeedUnit",kind:"LinkedField",name:"ad4ad_in_webfeed",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"PolarisAd4AdFeedUnit_data"}],storageKey:null},{args:null,kind:"FragmentSpread",name:"usePolarisFeedNetegoDeliveryLogger_item"}],type:"XDTFeedItem",abstractKey:null}}();e.exports=a}),null);
__d("usePolarisFeedNetegoDeliveryLogger_item.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePolarisFeedNetegoDeliveryLogger_item",selections:[{alias:null,args:null,concreteType:"XDTBloksNetegoFeedItem",kind:"LinkedField",name:"bloks_netego",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tracking_token",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"netego_type",storageKey:null}],storageKey:null}],type:"XDTFeedItem",abstractKey:null};e.exports=a}),null);
__d("usePolarisFeedNetegoDeliveryLogger",["CometRelay","InstagramNetegoDeliveryFalcoEvent","react-compiler-runtime","usePolarisFeedNetegoDeliveryLogger_item.graphql","useRunCallbackOnce"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var e=d("react-compiler-runtime").c(2),f=d("CometRelay").useFragment(h!==void 0?h:h=b("usePolarisFeedNetegoDeliveryLogger_item.graphql"),a);e[0]!==f?(a=function(){if((f==null?void 0:f.bloks_netego)!=null){var a=f.bloks_netego,b=a.id,d=a.netego_type;a=a.tracking_token;var e={id:b,tracking_token:a,type:d};c("InstagramNetegoDeliveryFalcoEvent").logImmediately(function(){return e})}},e[0]=f,e[1]=a):a=e[1];e=c("useRunCallbackOnce")(a);e()}g["default"]=a}),98);
__d("PolarisVirtualFeedItem.react",["CometPlaceholder.react","CometRelay","InstagramODS","JSResourceForInteraction","PolarisAbraIcebreakersFeedUnit.react","PolarisAd4AdFeedUnit.react","PolarisEndOfFeedDemarcatorContainer.react","PolarisFeedCard.react","PolarisPostGlimmer.react","PolarisPostHiddenUnit.react","PolarisPostIdContext.react","PolarisSponsoredFeedCard.react","PolarisVirtualFeedItemFragment.graphql","cr:483","getPolarisPostIdFromNativeId","lazyLoadComponent","react","react-compiler-runtime","stylex","usePolarisFeedNetegoDeliveryLogger","usePolarisFeedVariantFromRoute","usePolarisIsFeedMobileLayout"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react"),l={desktopRoot:{borderBottomColor:"x1bs97v6",borderBottomStyle:"x1q0q8m5",borderBottomWidth:"xso031l",marginBottom:"x11aubdm",paddingBottom:"xnc8uc2",$$css:!0},endOfFeedDemarcator:{backgroundColor:"xvbhtw8",$$css:!0},mobileRoot:{paddingBottom:"xwib8y2",$$css:!0}},m=c("lazyLoadComponent")(c("JSResourceForInteraction")("PolarisSuggestedUserFeedUnit.react").__setRef("PolarisVirtualFeedItem.react"));function a(a){var e=d("react-compiler-runtime").c(62),f=a.adProps,g=a.gapToPreviousAd,j=a.gapToPreviousNetego,n=a.index;a=a.queryReference;var o=d("usePolarisIsFeedMobileLayout").usePolarisIsFeedMobileLayout();a=d("CometRelay").useFragment(h!==void 0?h:h=b("PolarisVirtualFeedItemFragment.graphql"),a);var p=c("usePolarisFeedVariantFromRoute")();c("usePolarisFeedNetegoDeliveryLogger")(a);if(a==null){var q;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(q=k.jsx(k.Fragment,{}),e[0]=q):q=e[0];return q}q=o?l.mobileRoot:l.desktopRoot;var r=a.abra_icebreakers_in_feed_unit,s=a.ad,t=a.ad4ad_in_webfeed,u=a.bloks_netego,v=a.end_of_feed_demarcator,w=a.explore_story,x=a.media;a=a.suggested_users;var y;x=x||(w==null?void 0:w.media);if(x!=null){var z;e[1]!==x.id?(z=c("getPolarisPostIdFromNativeId")(x.id),e[1]=x.id,e[2]=z):z=e[2];z=z;if(x.is_hidden===!0){var A;e[3]!==z?(A=k.jsx(c("PolarisPostHiddenUnit.react"),{id:z},z),e[3]=z,e[4]=A):A=e[4];return A}A=(z=w==null?void 0:w.inventory_source)!=null?z:"";e[5]!==n||e[6]!==q||e[7]!==x||e[8]!==A?(w=k.jsx(c("PolarisFeedCard.react"),{inventorySource:A,mediaFragmentKey:x,position:n,xstyle:q}),e[5]=n,e[6]=q,e[7]=x,e[8]=A,e[9]=w):w=e[9];y=w}A=(z=s==null?void 0:s.media_id)!=null?z:x==null?void 0:x.pk;if(s!=null){e[10]!==s||e[11]!==f||e[12]!==g||e[13]!==n||e[14]!==q?(w=k.jsx(c("PolarisSponsoredFeedCard.react"),{adProps:f,fragmentKey:s,gapToPreviousAd:g,index:n,xstyle:q}),e[10]=s,e[11]=f,e[12]=g,e[13]=n,e[14]=q,e[15]=w):w=e[15];y=w;if(A!=null){f=(z=s==null?void 0:s.primary_media_id)!=null?z:A;e[16]!==y||e[17]!==f||e[18]!==A?(w=k.jsx(d("PolarisPostIdContext.react").PolarisPostIdContextProvider,{mediaIdUFI:f,postId:A,children:y}),e[16]=y,e[17]=f,e[18]=A,e[19]=w):w=e[19];y=w}}z=(s==null?void 0:s.media_id)==null;f=(x==null?void 0:x.pk)==null;s!=null&&(z?c("InstagramODS").incr("web.ads.feed.PolarisVirtualFeedPostItem.postId.ad.null"):c("InstagramODS").incr("web.ads.feed.PolarisVirtualFeedPostItem.postId.ad.notnull"));x!=null&&(f?c("InstagramODS").incr("web.ads.feed.PolarisVirtualFeedPostItem.postId.organic.null"):c("InstagramODS").incr("web.ads.feed.PolarisVirtualFeedPostItem.postId.organic.notnull"));w=s==null?void 0:s.primary_media_id;z=x==null?void 0:x.pk;s!=null&&(w==null?c("InstagramODS").incr("web.ads.feed.PolarisVirtualFeedPostItem.ufiId.ad.null"):c("InstagramODS").incr("web.ads.feed.PolarisVirtualFeedPostItem.ufiId.ad.notnull "));x!=null&&(z==null?c("InstagramODS").incr("web.ads.feed.PolarisVirtualFeedPostItem.ufiId.organic.null"):(c("InstagramODS").incr("web.ads.feed.PolarisVirtualFeedPostItem.ufiId.organic.notnull"),z===A?c("InstagramODS").incr("web.ads.feed.PolarisVirtualFeedPostItem.ufiId.organic.match"):c("InstagramODS").incr("web.ads.feed.PolarisVirtualFeedPostItem.ufiId.organic.mismatch")));if(u!=null&&b("cr:483")!=null){e[20]!==u.id||e[21]!==u.netego_type||e[22]!==u.payload||e[23]!==u.tracking_token||e[24]!==g||e[25]!==j||e[26]!==n||e[27]!==q?(f=k.jsx(b("cr:483"),{gapToPreviousAd:g,gapToPreviousNetego:j,id:u.id,netegoType:u.netego_type,payload:u.payload,position:n,trackingToken:u.tracking_token,xstyle:q}),e[20]=u.id,e[21]=u.netego_type,e[22]=u.payload,e[23]=u.tracking_token,e[24]=g,e[25]=j,e[26]=n,e[27]=q,e[28]=f):f=e[28];y=f}if(v!=null&&p!=="past_posts"){s=!o&&q;e[29]!==s?(w=(i||(i=c("stylex")))(l.endOfFeedDemarcator,s),e[29]=s,e[30]=w):w=e[30];e[31]!==v||e[32]!==w?(x=k.jsx(c("PolarisEndOfFeedDemarcatorContainer.react"),{className:w,queryRef:v}),e[31]=v,e[32]=w,e[33]=x):x=e[33];y=x}if(a!=null){z=o?"narrow":"wide";e[34]!==n||e[35]!==q||e[36]!==a||e[37]!==z?(A=k.jsx(m,{fragmentKey:a,position:n,variant:z,xstyle:q}),e[34]=n,e[35]=q,e[36]=a,e[37]=z,e[38]=A):A=e[38];y=A}if(r!=null){e[39]!==r||e[40]!==g||e[41]!==j||e[42]!==n?(u=k.jsx(c("PolarisAbraIcebreakersFeedUnit.react"),{fragmentKey:r,gapToPreviousAd:g,gapToPreviousNetego:j,index:n}),e[39]=r,e[40]=g,e[41]=j,e[42]=n,e[43]=u):u=e[43];y=u}if(t!=null){e[44]!==t||e[45]!==g||e[46]!==j||e[47]!==n||e[48]!==q?(f=k.jsx(c("PolarisAd4AdFeedUnit.react"),{fragmentKey:t,gapToPreviousAd:g,gapToPreviousNetego:j,position:n,xstyle:q}),e[44]=t,e[45]=g,e[46]=j,e[47]=n,e[48]=q,e[49]=f):f=e[49];y=f}if(y!=null){e[50]!==q?(p=(i||(i=c("stylex"))).props(q),e[50]=q,e[51]=p):p=e[51];e[52]!==n?(s=k.jsx(c("PolarisPostGlimmer.react"),{index:n}),e[52]=n,e[53]=s):s=e[53];e[54]!==p||e[55]!==s?(v=k.jsx("div",babelHelpers["extends"]({},p,{children:s})),e[54]=p,e[55]=s,e[56]=v):v=e[56];e[57]!==y||e[58]!==n||e[59]!==v?(w=k.jsx(c("CometPlaceholder.react"),{fallback:v,children:y},n),e[57]=y,e[58]=n,e[59]=v,e[60]=w):w=e[60];return w}e[61]===Symbol["for"]("react.memo_cache_sentinel")?(x=k.jsx(k.Fragment,{}),e[61]=x):x=e[61];return x}e=k.memo(a);g["default"]=e}),98);
__d("PolarisVirtualFeed_fragment.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},action:"LOG"}],b={alias:null,args:null,concreteType:"XDTMediaDict",kind:"LinkedField",name:"media",plural:!1,selections:a,storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"PolarisVirtualFeed_fragment",selections:[b,{alias:null,args:null,concreteType:"XDTAdInsertionItemClientDict",kind:"LinkedField",name:"ad",plural:!1,selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"ad_id",storageKey:null},action:"LOG"}],storageKey:null},{alias:null,args:null,concreteType:"XDTExploreStory",kind:"LinkedField",name:"explore_story",plural:!1,selections:[b],storageKey:null},{alias:null,args:null,concreteType:"XDTEndOfFeedDemarcator",kind:"LinkedField",name:"end_of_feed_demarcator",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"XDTStoriesInFeedItem",kind:"LinkedField",name:"stories_netego",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"XDTSuggestedUsers",kind:"LinkedField",name:"suggested_users",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"XDTBloksNetegoFeedItem",kind:"LinkedField",name:"bloks_netego",plural:!1,selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"payload",storageKey:null},action:"LOG"}],storageKey:null},{alias:null,args:null,concreteType:"XDTAbraIcebreakersInFeedUnit",kind:"LinkedField",name:"abra_icebreakers_in_feed_unit",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"XDTAd4AdInWebFeedUnit",kind:"LinkedField",name:"ad4ad_in_webfeed",plural:!1,selections:a,storageKey:null},{args:null,kind:"FragmentSpread",name:"PolarisVirtualFeedItemFragment"}],type:"XDTFeedItem",abstractKey:null}}();e.exports=a}),null);
__d("getPolarisFeedPrefetchDistance",["PolarisUA"],(function(a,b,c,d,e,f,g){"use strict";var h=6,i=8;function a(){if(d("PolarisUA").isMobile())return h;else return i}g["default"]=a}),98);
__d("PolarisVirtualFeed.react",["CometErrorBoundary.react","CometRelay","FBLogger","InstagramAdInsertionSuccessFalcoEvent","PolarisAdsGatingHelpers","PolarisAdsInvalidations","PolarisAdsInvalidationsLogger","PolarisContainerModuleUtils","PolarisFeedContext.react","PolarisFeedGlimmer.react","PolarisGenericVirtualFeed.react","PolarisLogger","PolarisReactRedux.react","PolarisVirtualFeedItem.react","PolarisVirtualFeed_fragment.graphql","emptyFunction","getPolarisFeedPrefetchDistance","react","usePolarisClientViewStateMediaList","usePolarisFeedAnalyticsContext"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a){if(null==a)throw new TypeError("Cannot destructure "+a)}var k=i||(i=d("react"));e=i;var l=e.useCallback,m=e.useContext,n=e.useEffect,o=e.useMemo;function p(){d("PolarisLogger").logAction("feedUnitFailure",{source:"PolarisVirtualFeed.next"})}var q=new Map(),r=new Map(),s=new Map(),t=new Map(),u=1;function v(a){var b=new Map(),c=null;for(var d=0;d<a.length;d++){var e=a[d];c!=null?b.set(e,d-c-1):b.set(e,-1);e.ad!=null&&(c=d)}return b}function w(a,b){var c=a[b];if(c.ad==null||c.ad.ad_id==null)return;var e=c.ad.ad_id,f=s.get(e);if(f!=null&&f===b)return;f=x(a,b);a=babelHelpers["extends"]({},(j(f),f));f=t.get(e);if(f!=null){(f==null?void 0:f.organicMediaIdAfter)==null&&t.set(e,a);return}f=y(a.organicBrsSeverityAfter,a.organicBrsSeverityBefore,a.brandSafetyThreshold);if(!f){var g;s.set(e,b);d("PolarisAdsInvalidationsLogger").logFeedAdInvalidation(d("PolarisAdsInvalidations").AdInvalidationSubReasons.BRAND_SAFETY_DID_NOT_MEET,e,(f=c==null||(g=c.ad)==null?void 0:g.tracking_token)!=null?f:"",null,null,(b=a.organicBrsSeverityAfter)==null?void 0:b.toString(),(c=a.organicBrsSeverityBefore)==null?void 0:c.toString(),a.organicMediaIdAfter,a.organicMediaIdBefore,(f=a.brandSafetyThreshold)==null?void 0:f.toString())}t.set(e,a)}function x(a,b){var c=a[b];if(c.ad==null||c.ad.ad_id==null||c.ad.brs_threshold==null||c.ad.tracking_token==null)return{brandSafetyThreshold:null,organicBrsSeverityAfter:null,organicBrsSeverityBefore:null,organicMediaIdAfter:null,organicMediaIdBefore:null,viewStateItemTypeAfter:null,viewStateItemTypeBefore:null};var d=null,e=null,f=null,g=null,h=null,i=null;c=(c=c.ad)==null?void 0:c.brs_threshold;if(b>0){var j=a[b-1];if(j.media!=null){var k;e=j.media.brs_severity;g=j.media.id;i=(k=j.media.view_state_item_type)==null?void 0:k.toString()}if(j.explore_story!=null){e=j.explore_story.brs_severity;g=j.explore_story.id;i=(k=j.explore_story.view_state_item_type)==null?void 0:k.toString()}}if(b<a.length-1){j=a[b+1];if(j.media!=null){d=j.media.brs_severity;f=j.media.id;h=(k=j.media.view_state_item_type)==null?void 0:k.toString()}if(j.explore_story!=null){d=j.explore_story.brs_severity;f=j.explore_story.id;h=(a=j.explore_story.view_state_item_type)==null?void 0:a.toString()}}return{brandSafetyThreshold:c,organicBrsSeverityAfter:d,organicBrsSeverityBefore:e,organicMediaIdAfter:f,organicMediaIdBefore:g,viewStateItemTypeAfter:h,viewStateItemTypeBefore:i}}function y(a,b,c){if((b!=null?b:70)>(c!=null?c:100))return!1;return(a!=null?a:70)>(c!=null?c:100)?!1:!0}function z(a){return a.bloks_netego!=null}function A(a){var b=new Map(),c=null;for(var d=0;d<a.length;d++){var e=a[d];c!=null?b.set(e,d-c-1):b.set(e,-1);z(e)&&(c=d)}return b}function a(a){var e=a.feedItemIds,f=a.hasNextPage,g=a.isFetching,i=a.onNextPage;a=a.queryReference;var j=d("CometRelay").useFragment(h!==void 0?h:h=b("PolarisVirtualFeed_fragment.graphql"),a),x=c("usePolarisFeedAnalyticsContext")();a=m(d("PolarisFeedContext.react").PolarisFeedContext);a=a.setShowEmptyFeed;var y=o(function(){var a=v(e);e==null||e.forEach(function(b,c){var e=a.get(b);if(b.ad!=null&&b.ad.ad_id!=null&&b.ad.tracking_token!=null){var f=b.ad.ad_id,g=b.ad.tracking_token;b=c<u&&c!==((b=b.ad)==null?void 0:b.global_position);var h=r.get(f);b&&(h==null||h<c)&&(d("PolarisAdsInvalidationsLogger").logFeedAdInvalidation(d("PolarisAdsInvalidations").AdInvalidationSubReasons.HIGHEST_POSITION_VIOLATION,f,g,e,c),r.set(f,c))}});return e.filter(function(a,b){var c;c=(c=a.ad)==null?void 0:c.ad_id;if(c!=null){b=b<u&&b!==((c=a.ad)==null?void 0:c.global_position)&&d("PolarisAdsGatingHelpers").enableFeedAdsClientHPEnforcement();return!b}return!0})},[e]),z=o(function(){return y},[y]),B=o(function(){z==null||z.forEach(function(a,b){w(z,b)});return z.filter(function(a){a=(a=a.ad)==null?void 0:a.ad_id;return a!=null?!s.has(a):!0})},[z]);n(function(){var a=v(B);B==null||B.forEach(function(b,e){var f;f=d("usePolarisClientViewStateMediaList").getCompoundIdFromAdItemId((f=(f=b.ad)==null?void 0:f.id)!=null?f:"");var g=d("PolarisContainerModuleUtils").getContainerModule(x),h=a.get(b);if(b.ad!=null&&b.ad.ad_id!=null&&b.ad.tracking_token!=null&&f!=null){var i=b.ad.ad_id,j={actual_inserted_position:String(e),ad_id:i,container_module:g,gap_to_last_ad:String(h),m_pk:f,source_of_action:g,tracking_token:(f=(h=b.ad)==null?void 0:h.tracking_token)!=null?f:""};g=q.get(i);(g==null||g<e)&&(c("InstagramAdInsertionSuccessFalcoEvent").log(function(){return j}),q.set(i,e))}})},[x,B]);var C=d("PolarisReactRedux.react").useSelector(function(a){return a.ads.hiddenAdIds}),D=o(function(){return B.filter(function(a){a=(a=a.ad)==null?void 0:a.ad_id;return a!=null?!C.includes(a):!0})},[B,C]),E=o(function(){return v(D)},[D]),F=o(function(){return A(D)},[D]),G=l(function(a){a=a.index;var b=D[a],d=E.get(b),e=F.get(b),f=null;if(b.ad!=null){var g=t.get(b.ad.ad_id);g!=null&&(f=g)}g=j.find(function(a){var d=b.abra_icebreakers_in_feed_unit,e=b.ad,f=b.ad4ad_in_webfeed,g=b.bloks_netego,h=b.end_of_feed_demarcator,i=b.explore_story,j=b.media,k=b.stories_netego,l=b.suggested_users;if(j!=null){var m;j=j.id;return((m=a.media)==null?void 0:m.id)===j}if(e!=null){m=e.ad_id;return((j=a.ad)==null?void 0:j.ad_id)===m}if(i!=null){e=i.id;return((j=a.explore_story)==null||(j=j.media)==null?void 0:j.id)===e}if(h!=null){m=h.id;return((i=a.end_of_feed_demarcator)==null?void 0:i.id)===m}if(k!=null){j=k.id;return((e=a.stories_netego)==null?void 0:e.id)===j}if(l!=null){h=l.id;return((i=a.suggested_users)==null?void 0:i.id)===h}if(g!=null){return((m=a.bloks_netego)==null?void 0:m.payload)!=null}if(d!=null){k=d.id;return((e=a.abra_icebreakers_in_feed_unit)==null?void 0:e.id)===k}if(f!=null){j=f.id;return((l=a.ad4ad_in_webfeed)==null?void 0:l.id)===j}c("FBLogger")("ig_web").mustfix("feed item not found in mapping %s",JSON.stringify(b));return null});return k.jsx(c("CometErrorBoundary.react"),{fallback:c("emptyFunction").thatReturnsNull,onError:p,children:k.jsx(c("PolarisVirtualFeedItem.react"),{adProps:f,gapToPreviousAd:d,gapToPreviousNetego:e,index:a,queryReference:g})},a)},[j,D,E,F]),H=k.createRef();if(D==null)return k.jsx(c("PolarisFeedGlimmer.react"),{});if((D==null?void 0:D.length)===0){a(!0);return null}a=c("getPolarisFeedPrefetchDistance")();return k.jsx(c("PolarisGenericVirtualFeed.react"),{allowSampledScrollLogging:!0,analyticsContext:x,enablePrefetch:!0,enablePriorityFetching:!0,hasNextPage:f,initialRenderCount:2,isFetching:g,items:D,onNextPage:i,prefetchNextPageThreshold:a,ref:H,renderFeedItem:G,visibleCount:D.length||0})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisFeedPage.react",["CometRelay","ErrorBoundary.react","IGDSBox.react","InstagramAdDeliveryFalcoEvent","InstagramODS","PolarisAdsInvalidations","PolarisAdsInvalidationsLogger","PolarisContainerModuleUtils","PolarisFeedActionConstants","PolarisFeedGlimmer.react","PolarisFeedPageAds_fragment.graphql","PolarisFeedSeenStateManagerSingleton","PolarisFeedVariantsHeader.react","PolarisMediaPrefetchContainer.react","PolarisNavigationLayoutContext","PolarisScrollPositionHistory","PolarisVirtualFeed.react","Run","browserHistory_DO_NOT_USE","emptyFunction","gkx","react","react-compiler-runtime","usePolarisAnalyticsContext","usePolarisClientViewStateMediaList","usePolarisFeedVariantDsaHeader","usePolarisFeedVariantFromRoute"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));e=i;e.useCallback;var k=e.useEffect;e.useMemo;var l=e.useRef,m=new Map(),n=new Map(),o=new Map(),p=c("gkx")("4142");function a(a){var e,f,g=d("react-compiler-runtime").c(37),i=a.data,m=a.edges,n=a.getExtraVariables,u=a.hasNext,z=a.isLoadingNext,A=a.loadNext,B=a.onLoadNextComplete,C=c("usePolarisAnalyticsContext")(),D=d("CometRelay").useFragment(h!==void 0?h:h=b("PolarisFeedPageAds_fragment.graphql"),p?m.map(y):i==null||(e=i.xdt_api__v1__feed__timeline__connection)==null?void 0:e.edges.map(x)),E;g[0]!==C||g[1]!==D?(a=function(){D==null||D.forEach(function(a,b){var e;e=d("usePolarisClientViewStateMediaList").getCompoundIdFromAdItemId((e=(e=a.ad)==null||(e=e.items)==null?void 0:e[0].id)!=null?e:"");var f=d("PolarisContainerModuleUtils").getContainerModule(C);if(a.ad!=null&&a.ad.ad_id!=null&&a.ad.tracking_token!=null&&e!=null){var g=a.ad.ad_id,h={ad_id:g,container_module:f,m_pk:e,pigeon_reserved_keyword_module:f,tracking_token:a.ad.tracking_token};e=o.get(g);(e==null||e<b)&&(c("InstagramAdDeliveryFalcoEvent").log(function(){return h}),o.set(g,b))}})},E=[C,D],g[0]=C,g[1]=D,g[2]=a,g[3]=E):(a=g[2],E=g[3]);k(a,E);var F=c("usePolarisFeedVariantFromRoute")();if(g[4]!==(i==null||(f=i.xdt_api__v1__feed__timeline__connection)==null?void 0:f.client__feedDedupedIds)){var G,H;E=(a=i==null||(G=i.xdt_api__v1__feed__timeline__connection)==null?void 0:G.client__feedDedupedIds)!=null?a:{dedupedItems:[],duplicateAdIds:[],duplicateOrganicIds:[]};g[4]=i==null||(H=i.xdt_api__v1__feed__timeline__connection)==null?void 0:H.client__feedDedupedIds;g[5]=E}else E=g[5];a=E;E=a;a=E.dedupedItems;var I=E.duplicateAdIds,J=E.duplicateOrganicIds,K=l(0),L=l(0),M;g[6]!==I||g[7]!==J?(E=function(){var a=K.current,b=I.length;K.current=b;b=L.current;var c=J.length;L.current=c;c=I.slice(a);a=J.slice(b);c.forEach(w);a.forEach(v)},M=[I,J],g[6]=I,g[7]=J,g[8]=E,g[9]=M):(E=g[8],M=g[9]);k(E,M);g[10]===Symbol["for"]("react.memo_cache_sentinel")?(E=[],g[10]=E):E=g[10];k(t,E);g[11]===Symbol["for"]("react.memo_cache_sentinel")?(M=c("PolarisFeedSeenStateManagerSingleton").get(),g[11]=M):M=g[11];var N=M;g[12]!==i||g[13]!==n||g[14]!==A||g[15]!==B||g[16]!==F?(E=function(){p?A(d("PolarisFeedActionConstants").PAGE_SIZE):A(d("PolarisFeedActionConstants").PAGE_SIZE,{UNSTABLE_extraVariables:n(i,N,s,F),onComplete:B})},g[12]=i,g[13]=n,g[14]=A,g[15]=B,g[16]=F,g[17]=E):E=g[17];M=E;E=c("usePolarisFeedVariantDsaHeader")();var O=d("PolarisNavigationLayoutContext").usePolarisNavigationLayoutContext();O=O.navigationPosition;E=!E&&O!=="bottom";if((i==null?void 0:i.xdt_api__v1__feed__timeline__connection)==null){g[18]===Symbol["for"]("react.memo_cache_sentinel")?(O=j.jsx(c("PolarisFeedGlimmer.react"),{}),g[18]=O):O=g[18];return O}g[19]!==E||g[20]!==F?(O=E&&F!=="home"&&j.jsx(c("IGDSBox.react"),{marginBottom:4,children:j.jsx(c("PolarisFeedVariantsHeader.react"),{revamped:!0,variant:F})}),g[19]=E,g[20]=F,g[21]=O):O=g[21];g[22]!==i.xdt_api__v1__feed__timeline__connection||g[23]!==m?(E=p?m.map(r):i.xdt_api__v1__feed__timeline__connection.edges.map(q),g[22]=i.xdt_api__v1__feed__timeline__connection,g[23]=m,g[24]=E):E=g[24];g[25]!==a||g[26]!==u||g[27]!==z||g[28]!==M||g[29]!==E?(m=j.jsx(c("PolarisVirtualFeed.react"),{feedItemIds:a,hasNextPage:u,isFetching:z,onNextPage:M,queryReference:E}),g[25]=a,g[26]=u,g[27]=z,g[28]=M,g[29]=E,g[30]=m):m=g[30];g[31]!==i.xdt_api__v1__feed__timeline__connection?(a=j.jsx(c("ErrorBoundary.react"),{fallback:c("emptyFunction").thatReturnsNull,children:j.jsx(c("PolarisMediaPrefetchContainer.react"),{queryReference:i.xdt_api__v1__feed__timeline__connection})}),g[31]=i.xdt_api__v1__feed__timeline__connection,g[32]=a):a=g[32];g[33]!==O||g[34]!==m||g[35]!==a?(u=j.jsxs(j.Fragment,{children:[O,m,a]}),g[33]=O,g[34]=m,g[35]=a,g[36]=u):u=g[36];return u}function q(a){return a.node}function r(a){return a.node}function s(){return[]}function t(){var a=d("Run").onBeforeUnload(u,!1);return function(){return a.remove()}}function u(){d("PolarisScrollPositionHistory").clearScrollPosition(d("browserHistory_DO_NOT_USE").browserHistory.location)}function v(a){var b=a.id;a=a.index;var d=n.get(b);(d==null||d<a)&&(c("InstagramODS").incr("web.feed.duplicate_organic"),n.set(b,a))}function w(a){var b=a.ad_id,e=a.index;a=a.tracking_token;var f=m.get(b);(f==null||f<e)&&(c("InstagramODS").incr("web.ad.feed.duplicate_ad"),d("PolarisAdsInvalidationsLogger").logFeedAdInvalidation(d("PolarisAdsInvalidations").AdInvalidationSubReasons.DUPLICATE_AD_SEEN,b,a,null,e),m.set(b,e))}function x(a){return a.node}function y(a){return a.node}g["default"]=a}),98);
__d("PolarisFeedQPWrapper.react",["react","react-compiler-runtime","usePolarisIsFeedMobileLayout"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(5);a=a.children;var c=d("usePolarisIsFeedMobileLayout").usePolarisIsFeedMobileLayout(),e;b[0]!==c?(e={0:{},1:{className:"x11aubdm"}}[!!!c<<0],b[0]=c,b[1]=e):e=b[1];b[2]!==a||b[3]!==e?(c=i.jsx("div",babelHelpers["extends"]({},e,{children:a})),b[2]=a,b[3]=e,b[4]=c):c=b[4];return c}g["default"]=a}),98);
__d("PolarisQPCampaigns",[],(function(a,b,c,d,e,f){"use strict";a={fbconnect:"1939973836325880",gdprDialog:"385107635302749",gdprFullscreen:"361346177689723",gdprMegaphoneDis:"1432819323512524",gdprMegaphoneNondis:"1126242244191536"};b=a;f["default"]=b}),66);
__d("PolarisFeedQPManager.react",["FBLogger","PolarisConsentActions","PolarisConsentTypes","PolarisFeedQPWrapper.react","PolarisQPCampaigns","PolarisQPConstants","PolarisQPManager.react","PolarisQueryParams","PolarisReactRedux.react","PolarisUA","polarisSuggestedUserSelectors.react","react","react-compiler-runtime","usePolarisSelector"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useEffect,k=b.useState;function a(a){var b=d("react-compiler-runtime").c(11);a=a.showEmptyFeed;var e=d("PolarisReactRedux.react").useDispatch(),f=c("usePolarisSelector")(d("polarisSuggestedUserSelectors.react").shouldDisplayFacebookConnect),g=k(!1),h=g[0],l=g[1],m;b[0]!==e?(g=function(){var a;try{a=d("PolarisQueryParams").parseQueryParams()}catch(a){var b=a;c("FBLogger")("ig_web").catching(b)}a&&a.terms_start&&Object.values(d("PolarisConsentTypes").ConsentEntrypoints).includes(a.terms_start)&&(e(d("PolarisConsentActions").loadConsents(a.terms_start)),l(!0))},m=[e],b[0]=e,b[1]=g,b[2]=m):(g=b[1],m=b[2]);j(g,m);if(a===!0&&d("PolarisUA").isMobile())return null;g=!h;m=!h;a=!h;h=!h;if(b[3]!==f||b[4]!==g||b[5]!==m||b[6]!==a||b[7]!==h){var n,o;o=(n={},n[(o=c("PolarisQPCampaigns")).fbconnect]=f,n[o.gdprDialog]=g,n[o.gdprFullscreen]=m,n[o.gdprMegaphoneDis]=a,n[o.gdprMegaphoneNondis]=h,n);b[3]=f;b[4]=g;b[5]=m;b[6]=a;b[7]=h;b[8]=o}else o=b[8];n=o;b[9]!==n?(f=i.jsx(c("PolarisQPManager.react"),{filter:n,slot:d("PolarisQPConstants").SLOTS.feed,WrapperComponent:c("PolarisFeedQPWrapper.react")}),b[9]=n,b[10]=f):f=b[10];return f}g["default"]=a}),98);
__d("PolarisStoriesTrayWrapper.react",["cr:8107","cr:8126","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var c=d("react-compiler-runtime").c(6),e=a.hideOwnStory,f=a.queryReference;a=a.storyTrayPolarisPreloadedQuery;e=e===void 0?!1:e;if(b("cr:8107")!=null&&f!=null){var g;c[0]!==e||c[1]!==f?(g=i.jsx(b("cr:8107"),{hideOwnStory:e,queryReference:f}),c[0]=e,c[1]=f,c[2]=g):g=c[2];return g}if(b("cr:8126")!=null){c[3]!==e||c[4]!==a?(f=i.jsx(b("cr:8126"),{hideOwnStory:e,storyTrayPolarisPreloadedQuery:a}),c[3]=e,c[4]=a,c[5]=f):f=c[5];return f}return null}g["default"]=a}),98);
__d("PolarisStoriesV3TrayContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({hasMyReel:!1,newReelCount:0,seenReelCount:0,traySessionId:""});g["default"]=b}),98);
__d("PolarisStoriesV3TrayItemErrorBoundary.react",["CometErrorBoundary.react","IGDSGlimmer.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={circle:{borderTopColor:"x1o0lnaz",borderInlineEndColor:"xcehec9",borderBottomColor:"xnilrbp",borderInlineStartColor:"x9cr5x2",borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"x178xt8z",borderInlineEndWidth:"x1lun4ml",borderBottomWidth:"xso031l",borderInlineStartWidth:"xpilrb4",height:"x1x0gksc",width:"xeepkih",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(2);a=a.children;var e;b[0]!==a?(e=i.jsx(c("CometErrorBoundary.react"),{fallback:k,children:a}),b[0]=a,b[1]=e):e=b[1];return e}function k(){return i.jsx("div",babelHelpers["extends"]({className:"x6s0dn4 x78zum5 xl56j7k"},{children:i.jsx(c("IGDSGlimmer.react"),{index:0,xstyle:j.circle})}))}k.displayName=k.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisStoriesV3TrayItem_broadcast.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisStoriesV3TrayItem_broadcast",selections:[{args:null,kind:"FragmentSpread",name:"PolarisUserAvatarWithStories_broadcast"}],type:"XDTBroadcast",abstractKey:null};e.exports=a}),null);
__d("PolarisStoriesV3TrayItem_user.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisStoriesV3TrayItem_user",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},action:"THROW"},{args:null,kind:"FragmentSpread",name:"PolarisUserAvatarWithStories_user"}],type:"XDTUserDict",abstractKey:null};e.exports=a}),null);
__d("PolarisStoriesV3TrayItem.react",["CometPressable.react","CometRelay","IGDSTextVariants.react","PolarisStoriesV3TrayItem_broadcast.graphql","PolarisStoriesV3TrayItem_user.graphql","PolarisStoryStrings","PolarisUA","PolarisUserAvatarWithStories.next.react","react","react-compiler-runtime","shouldUseIGDSPrismStoriesTray","useSinglePartialViewImpression"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react"),l=56,m=74,n={mobilePadding:{paddingTop:"xexx8yu",paddingInlineEnd:"x11lfxj5",paddingBottom:"x18d9i69",paddingInlineStart:"x135b78x",$$css:!0},mobilePaddingPrism:{paddingTop:"xexx8yu",paddingInlineEnd:"x1icxu4v",paddingBottom:"x18d9i69",paddingInlineStart:"x25sj25",$$css:!0},muted:{opacity:"xbyyjgo",$$css:!0},pressable:{":active_transform":"x51sbo7",$$css:!0},root:{alignItems:"x6s0dn4",display:"x78zum5",flexDirection:"xdt5ytf",justifyContent:"xl56j7k",position:"x1n2onr6",$$css:!0},userAvatar:{cursor:"x1ypdohk",$$css:!0},userAvatarMobilePrism:{cursor:"x1ypdohk",paddingBottom:"x10b6aqq",$$css:!0}};function a(a){var e=d("react-compiler-runtime").c(28),f=a.broadcast,g=a.isLive,j=a.isLoading,o=a.isMuted,p=a.isSeen,q=a.label,r=a.onClick,s=a.onHoverIn,t=a.onPressIn,u=a.onVisible;a=a.user;g=g===void 0?!1:g;j=j===void 0?!1:j;a=d("CometRelay").useFragment(h!==void 0?h:h=b("PolarisStoriesV3TrayItem_user.graphql"),a);f=d("CometRelay").useFragment(i!==void 0?i:i=b("PolarisStoriesV3TrayItem_broadcast.graphql"),f);var v=a.username,w;e[0]!==p||e[1]!==v?(w=p?d("PolarisStoryStrings").seenStoryTrayItemAriaLabel(v):d("PolarisStoryStrings").unseenStoryTrayItemAriaLabel(v),e[0]=p,e[1]=v,e[2]=w):w=e[2];v=w;e[3]!==u?(w={onImpressionStart:u},e[3]=u,e[4]=w):w=e[4];u=c("useSinglePartialViewImpression")(w);e[5]===Symbol["for"]("react.memo_cache_sentinel")?(w=c("shouldUseIGDSPrismStoriesTray")(),e[5]=w):w=e[5];w=w;var x;e[6]===Symbol["for"]("react.memo_cache_sentinel")?(x=d("PolarisUA").isMobile()&&(w?n.mobilePaddingPrism:n.mobilePadding),e[6]=x):x=e[6];o=o===!0&&n.muted;e[7]!==o?(x=[n.root,w&&n.pressable,x,o],e[7]=o,e[8]=x):x=e[8];e[9]===Symbol["for"]("react.memo_cache_sentinel")?(o={className:"x6s0dn4 x78zum5 xl56j7k x1iorvi4 xf159sx xwib8y2 xmzvs34"},e[9]=o):o=e[9];e[10]!==f||e[11]!==g||e[12]!==j||e[13]!==a?(o=k.jsx("div",babelHelpers["extends"]({},o,{children:k.jsx(c("PolarisUserAvatarWithStories.next.react"),{animateOnLoad:!0,broadcast:f,entrypoint:"reel_feed_timeline",isClickable:!1,isLoading:j,showLivePulse:g,size:w?m:l,user:a,xstyle:d("PolarisUA").isMobile()&&w?n.userAvatarMobilePrism:n.userAvatar})})),e[10]=f,e[11]=g,e[12]=j,e[13]=a,e[14]=o):o=e[14];e[15]===Symbol["for"]("react.memo_cache_sentinel")?(w={className:"x4e6jrt"},e[15]=w):w=e[15];f=p?"secondaryText":"primaryText";e[16]!==q||e[17]!==f?(g=k.jsx("div",babelHelpers["extends"]({},w,{children:k.jsx(d("IGDSTextVariants.react").IGDSTextFootnote,{color:f,maxLines:1,zeroMargin:!0,children:q})})),e[16]=q,e[17]=f,e[18]=g):g=e[18];e[19]!==v||e[20]!==r||e[21]!==s||e[22]!==t||e[23]!==u||e[24]!==o||e[25]!==g||e[26]!==x?(j=k.jsxs(c("CometPressable.react"),{"aria-label":v,onHoverIn:s,onPress:r,onPressIn:t,overlayDisabled:!0,ref:u,testid:void 0,xstyle:x,children:[o,g]}),e[19]=v,e[20]=r,e[21]=s,e[22]=t,e[23]=u,e[24]=o,e[25]=g,e[26]=x,e[27]=j):j=e[27];return j}g["default"]=a}),98);
__d("PolarisStoriesV3TrayLiveItemLabel_broadcast.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisStoriesV3TrayLiveItemLabel_broadcast",selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"broadcast_owner",plural:!1,selections:[a],storageKey:null},action:"THROW"},{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"cobroadcasters",plural:!0,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],type:"XDTBroadcast",abstractKey:null}}();e.exports=a}),null);
__d("PolarisStoriesV3TrayLiveItemLabel.react",["fbt","CometRelay","PolarisStoriesV3TrayLiveItemLabel_broadcast.graphql","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react");function a(a){var c=d("react-compiler-runtime").c(6),e=a.broadcast;a=a.isBroadcastOwnerPrimaryDisplay;e=d("CometRelay").useFragment(i!==void 0?i:i=b("PolarisStoriesV3TrayLiveItemLabel_broadcast.graphql"),e);var f=e.broadcast_owner;f=f.username;if(c[0]!==e.cobroadcasters){var g;g=(g=e.cobroadcasters)!=null?g:[];c[0]=e.cobroadcasters;c[1]=g}else g=c[1];e=g;if(e.length===0)return f;g=a?f:e[0].username;c[2]===Symbol["for"]("react.memo_cache_sentinel")?(a={className:"x6s0dn4 x78zum5 xl56j7k"},c[2]=a):a=c[2];c[3]!==e.length||c[4]!==g?(f=k.jsx("div",babelHelpers["extends"]({},a,{children:h._(/*BTDS*/"{username} + {=m2}",[h._param("username",k.jsx("div",babelHelpers["extends"]({className:"x6ikm8r x10wlt62 xlyipyv xuxw1ft x2lah0s x2fvf9 xo92w5m"},{children:g}))),h._implicitParam("=m2",k.jsx("div",babelHelpers["extends"]({className:"x6ikm8r x10wlt62 xlyipyv xuxw1ft xdwrcjd"},{children:h._(/*BTDS*/"{cobroadcasters_count}",[h._param("cobroadcasters_count",e.length)])})))])})),c[3]=e.length,c[4]=g,c[5]=f):f=c[5];return f}g["default"]=a}),226);
__d("PolarisStoriesV3TrayLiveItem_broadcast.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={args:null,kind:"FragmentSpread",name:"PolarisStoriesV3TrayItem_user"};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisStoriesV3TrayLiveItem_broadcast",selections:[{alias:null,args:null,kind:"ScalarField",name:"muted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"media_id",storageKey:null},{kind:"RequiredField",field:{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"broadcast_owner",plural:!1,selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},action:"THROW"},{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},action:"THROW"},{alias:null,args:null,concreteType:"XDTRelationshipInfoDict",kind:"LinkedField",name:"friendship_status",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"following",storageKey:null}],storageKey:null},a],storageKey:null},action:"THROW"},{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"cobroadcasters",plural:!0,selections:[a],storageKey:null},{args:null,kind:"FragmentSpread",name:"PolarisStoriesV3TrayItem_broadcast"},{args:null,kind:"FragmentSpread",name:"PolarisStoriesV3TrayLiveItemLabel_broadcast"}],type:"XDTBroadcast",abstractKey:null}}();e.exports=a}),null);
__d("ReelTrayImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("5526");b=d("FalcoLoggerInternal").create("reel_tray_impression",a);e=b;g["default"]=e}),98);
__d("PolarisStoriesV3TrayLiveItem.react",["CometRelay","PolarisStoriesV3TrayContext","PolarisStoriesV3TrayItem.react","PolarisStoriesV3TrayLiveItemLabel.react","PolarisStoriesV3TrayLiveItem_broadcast.graphql","ReelPlaybackEntryFalcoEvent","ReelTrayImpressionFalcoEvent","XPolarisProfileLiveControllerRouteBuilder","react","react-compiler-runtime","useCometRouterDispatcher"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));e=i;var k=e.useContext,l=e.useState;function a(a){var e=d("react-compiler-runtime").c(31),f=a.broadcast,g=a.trayPosition,i=d("CometRelay").useFragment(h!==void 0?h:h=b("PolarisStoriesV3TrayLiveItem_broadcast.graphql"),f),m=i.broadcast_owner;a=i.muted;if(e[0]!==i.cobroadcasters){f=(f=i.cobroadcasters)!=null?f:[];e[0]=i.cobroadcasters;e[1]=f}else f=e[1];var n=f;f=((f=m.friendship_status)==null?void 0:f.following)===!0;var o;e[2]!==i||e[3]!==f?(o=j.jsx(c("PolarisStoriesV3TrayLiveItemLabel.react"),{broadcast:i,isBroadcastOwnerPrimaryDisplay:f}),e[2]=i,e[3]=f,e[4]=o):o=e[4];o=o;var p=k(c("PolarisStoriesV3TrayContext")),q=p.hasMyReel,r=p.newReelCount,s=p.seenReelCount,t=p.traySessionId;e[5]!==m.pk||e[6]!==n||e[7]!==q||e[8]!==r||e[9]!==s||e[10]!==g||e[11]!==t?(p=function(){c("ReelTrayImpressionFalcoEvent").log(function(){return{a_pk:m.pk,has_my_reel:q?"1":"0",is_new_reel:"0",new_reel_count:r.toString(),pigeon_reserved_keyword_module:"reel_feed_timeline",reel_type:n.length>0?"live_with":"live",tray_position:g.toString(),tray_session_id:t,viewed_reel_count:s.toString()}})},e[5]=m.pk,e[6]=n,e[7]=q,e[8]=r,e[9]=s,e[10]=g,e[11]=t,e[12]=p):p=e[12];p=p;var u=c("useCometRouterDispatcher")(),v=l(!1),w=v[0],x=v[1];e[13]!==i||e[14]!==m.pk||e[15]!==m.username||e[16]!==u||e[17]!==q||e[18]!==r||e[19]!==s||e[20]!==g||e[21]!==t?(v=function(){x(!0),u==null||u.go(c("XPolarisProfileLiveControllerRouteBuilder").buildUri({username:m.username}).toString(),{onNavigate_DEPRECATED_FIXME:function(){c("ReelPlaybackEntryFalcoEvent").log(function(){var a=i.media_id;a=a!=null&&a.indexOf("_")>0?a.substring(0,a.indexOf("_")):a!=null?a:"";return{a_pk:m.pk,has_my_reel:q?"1":"0",is_audience_close_friend:!1,m_pk:a+"_"+m.pk,module_name:"live_feed_timeline",new_reel_count:r.toString(),reel_type:"live",tray_position:g.toString(),tray_session_id:t,viewed_reel_count:s.toString(),viewer_session_id:""}}),x(!1)}})},e[13]=i,e[14]=m.pk,e[15]=m.username,e[16]=u,e[17]=q,e[18]=r,e[19]=s,e[20]=g,e[21]=t,e[22]=v):v=e[22];v=v;f=f||n.length===0?m:n[0];a=a===!0;var y;e[23]!==i||e[24]!==f||e[25]!==v||e[26]!==p||e[27]!==w||e[28]!==o||e[29]!==a?(y=j.jsx(c("PolarisStoriesV3TrayItem.react"),{broadcast:i,isLive:!0,isLoading:w,isMuted:a,isSeen:!1,label:o,onClick:v,onVisible:p,user:f}),e[23]=i,e[24]=f,e[25]=v,e[26]=p,e[27]=w,e[28]=o,e[29]=a,e[30]=y):y=e[30];return y}g["default"]=a}),98);
__d("PolarisStoriesV3TrayOwnReelItem_reel.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisStoriesV3TrayOwnReelItem_reel",selections:[{args:null,kind:"FragmentSpread",name:"PolarisStoriesV3TrayReelItem_reel"}],type:"XDTReelDict",abstractKey:null};e.exports=a}),null);
__d("PolarisStoriesV3TrayOwnReelItem_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisStoriesV3TrayOwnReelItem_viewer",selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},action:"THROW"}],storageKey:null},action:"THROW"},{args:null,kind:"FragmentSpread",name:"PolarisStoriesV3TrayCreateStoryItem_viewer"}],type:"XDTViewer",abstractKey:null};e.exports=a}),null);
__d("PolarisStoriesV3TrayReelItem_reel.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisStoriesV3TrayReelItem_reel",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{kind:"RequiredField",field:{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},action:"THROW"},{args:null,kind:"FragmentSpread",name:"PolarisStoriesV3TrayItem_user"}],storageKey:null},action:"THROW"},{alias:null,args:null,kind:"ScalarField",name:"muted",storageKey:null},{args:null,kind:"FragmentSpread",name:"usePolarisStoriesV3IsReelSeen_reel"}],type:"XDTReelDict",abstractKey:null};e.exports=a}),null);
__d("PolarisStoriesV3TrayReelItem.react",["CometRelay","PolarisDsaQEHelpers","PolarisStoriesStrings","PolarisStoriesV3TrayContext","PolarisStoriesV3TrayItem.react","PolarisStoriesV3TrayReelItem_reel.graphql","PolarisStoryState","PolarisUA","ReelTrayImpressionFalcoEvent","polarisLogAction","react","react-compiler-runtime","useCometRouterDispatcher","usePolarisGetStoryTrayVariant","usePolarisStoriesV3IsReelSeen","usePolarisStoriesV3UserReelRouteBuilder"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));e=i;var k=e.useContext,l=e.useState;function m(a){var b=d("react-compiler-runtime").c(4),e=c("useCometRouterDispatcher")(),f=c("usePolarisStoriesV3UserReelRouteBuilder")(),g;b[0]!==f||b[1]!==e||b[2]!==a?(g=function(){e==null||e.preloadRouteCode(f(a))},b[0]=f,b[1]=e,b[2]=a,b[3]=g):g=b[3];return g}function a(a){var e=d("react-compiler-runtime").c(34),f=a.isViewer,g=a.onClick,i=a.onPressIn,n=a.reel,o=a.trayPosition;a=f===void 0?!1:f;f=d("CometRelay").useFragment(h!==void 0?h:h=b("PolarisStoriesV3TrayReelItem_reel.graphql"),n);n=f.id;var p=f.muted,q=f.user,r=q.pk,s=q.username,t=c("usePolarisStoriesV3IsReelSeen")(f),u=c("usePolarisGetStoryTrayVariant")();f=l(!1);var v=f[0],w=f[1];f=p===!0;var x;e[0]!==n||e[1]!==t||e[2]!==f||e[3]!==s?(x={id:n,isMuted:f,isSeen:t,username:s},e[0]=n,e[1]=t,e[2]=f,e[3]=s,e[4]=x):x=e[4];var y=x,z=m(s);e[5]!==z?(n=function(){z()},e[5]=z,e[6]=n):n=e[6];f=n;e[7]!==i||e[8]!==z||e[9]!==y?(x=function(){d("PolarisUA").isMobile()&&z(),i==null||i(y)},e[7]=i,e[8]=z,e[9]=y,e[10]=x):x=e[10];n=x;e[11]!==g||e[12]!==y||e[13]!==u||e[14]!==o?(x=function(){w(!0),g==null||g(y,function(){return w(!1)}),d("PolarisDsaQEHelpers").hasNonProfiledExperienceEnabled()&&c("polarisLogAction")("reelPlaybackEntryDsaFeed",{implementation:"relay",reel_position:o,source:u===d("PolarisStoryState").PolarisStoryTrayVariants.HOME?"default":"non_profiled"})},e[11]=g,e[12]=y,e[13]=u,e[14]=o,e[15]=x):x=e[15];x=x;var A=k(c("PolarisStoriesV3TrayContext")),B=A.hasMyReel,C=A.newReelCount,D=A.seenReelCount,E=A.traySessionId;e[16]!==B||e[17]!==t||e[18]!==C||e[19]!==r||e[20]!==D||e[21]!==o||e[22]!==E?(A=function(){c("ReelTrayImpressionFalcoEvent").log(function(){return{a_pk:r,has_my_reel:B?"1":"0",is_new_reel:t?"0":"1",new_reel_count:C.toString(),pigeon_reserved_keyword_module:"reel_feed_timeline",reel_type:"story",tray_position:o.toString(),tray_session_id:E,viewed_reel_count:D.toString()}})},e[16]=B,e[17]=t,e[18]=C,e[19]=r,e[20]=D,e[21]=o,e[22]=E,e[23]=A):A=e[23];A=A;a=a?d("PolarisStoriesStrings").YOUR_STORY_TEXT:s;s=p===!0;e[24]!==x||e[25]!==f||e[26]!==n||e[27]!==A||e[28]!==v||e[29]!==t||e[30]!==a||e[31]!==s||e[32]!==q?(p=j.jsx(c("PolarisStoriesV3TrayItem.react"),{isLoading:v,isMuted:s,isSeen:t,label:a,onClick:x,onHoverIn:f,onPressIn:n,onVisible:A,user:q}),e[24]=x,e[25]=f,e[26]=n,e[27]=A,e[28]=v,e[29]=t,e[30]=a,e[31]=s,e[32]=q,e[33]=p):p=e[33];return p}g["default"]=a}),98);
__d("PolarisStoriesV3TrayOwnReelItem.react",["CometRelay","PolarisStoriesV3TrayOwnReelItem_reel.graphql","PolarisStoriesV3TrayOwnReelItem_viewer.graphql","PolarisStoriesV3TrayReelItem.react","cr:79","react","react-compiler-runtime","usePolarisStoriesV3OpenUserReel"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react");function a(a){var e=d("react-compiler-runtime").c(8),f=a.reel,g=a.trayPosition;a=a.viewer;f=d("CometRelay").useFragment(h!==void 0?h:h=b("PolarisStoriesV3TrayOwnReelItem_reel.graphql"),f);a=d("CometRelay").useFragment(i!==void 0?i:i=b("PolarisStoriesV3TrayOwnReelItem_viewer.graphql"),a);var j=c("usePolarisStoriesV3OpenUserReel")(a.user.username,"reel_feed_timeline");if(f==null){var l;e[0]!==a?(l=b("cr:79")!=null?k.jsx(b("cr:79"),{viewer:a}):null,e[0]=a,e[1]=l):l=e[1];return l}e[2]!==j?(a=function(a,b){return j(b)},e[2]=j,e[3]=a):a=e[3];l=a;e[4]!==l||e[5]!==f||e[6]!==g?(a=k.jsx(c("PolarisStoriesV3TrayReelItem.react"),{isViewer:!0,onClick:l,reel:f,trayPosition:g}),e[4]=l,e[5]=f,e[6]=g,e[7]=a):a=e[7];return a}g["default"]=a}),98);
__d("PolarisStoriesV3Tray_tray.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisStoriesV3Tray_tray",selections:[{alias:null,args:null,concreteType:"XDTBroadcast",kind:"LinkedField",name:"broadcasts",plural:!0,selections:[a,{args:null,kind:"FragmentSpread",name:"PolarisStoriesV3TrayLiveItem_broadcast"}],storageKey:null},{kind:"RequiredField",field:{alias:null,args:null,concreteType:"XDTReelDict",kind:"LinkedField",name:"tray",plural:!0,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"reel_type",storageKey:null},{args:null,kind:"FragmentSpread",name:"PolarisStoriesV3TrayOwnReelItem_reel"},{args:null,kind:"FragmentSpread",name:"PolarisStoriesV3TrayReelItem_reel"},{args:null,kind:"FragmentSpread",name:"usePolarisStoriesV3AdsPoolPrefetch_reels"},{args:null,kind:"FragmentSpread",name:"usePolarisStoriesV3OpenFromTrayRelay_reels"}],storageKey:null},action:"THROW"},{args:null,kind:"FragmentSpread",name:"usePolarisStoriesV3TrayHasViewerReel_tray"},{args:null,kind:"FragmentSpread",name:"usePolarisStoriesV3TrayOnRefreshEffect_tray"}],type:"XDTMaterialTray",abstractKey:null}}();e.exports=a}),null);
__d("PolarisStoriesV3Tray_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisStoriesV3Tray_viewer",selections:[{args:null,kind:"FragmentSpread",name:"PolarisStoriesV3TrayOwnReelItem_viewer"},{args:null,kind:"FragmentSpread",name:"usePolarisStoriesV3TrayHasViewerReel_viewer"}],type:"XDTViewer",abstractKey:null};e.exports=a}),null);
__d("usePolarisStoriesV3AdsPoolPrefetch_reels.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"usePolarisStoriesV3AdsPoolPrefetch_reels",selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},action:"THROW"}],storageKey:null},action:"THROW"}],type:"XDTReelDict",abstractKey:null};e.exports=a}),null);
__d("usePolarisStoriesV3AdsPoolPrefetch",["CometRelay","PolarisStoriesV3TrayContext","prefetchPolarisStoriesV3Ads","react","react-compiler-runtime","usePolarisStoriesV3AdsPoolPrefetch_reels.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e=i||d("react");e.useCallback;var j=e.useContext;function a(a){var e=d("react-compiler-runtime").c(5);a=d("CometRelay").useFragment(h!==void 0?h:h=b("usePolarisStoriesV3AdsPoolPrefetch_reels.graphql"),a);var f;e[0]!==a?(f=a.map(k),e[0]=a,e[1]=f):f=e[1];var g=f;a=j(c("PolarisStoriesV3TrayContext"));var i=a.traySessionId;e[2]!==i||e[3]!==g?(f=function(){c("prefetchPolarisStoriesV3Ads")(g,i)},e[2]=i,e[3]=g,e[4]=f):f=e[4];return f}function k(a){return a.user.pk}g["default"]=a}),98);
__d("usePolarisStoriesV3OpenFromTrayRelay_reels.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"muted",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"usePolarisStoriesV3OpenFromTrayRelay_reels",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{kind:"RequiredField",field:{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},action:"THROW"}],storageKey:null},action:"THROW"},a,{kind:"InlineDataFragmentSpread",name:"getPolarisStoriesV3IsReelSeen_reel",selections:[{alias:null,args:null,kind:"ScalarField",name:"latest_reel_media",storageKey:null},a,{alias:null,args:null,kind:"ScalarField",name:"seen",storageKey:null}],args:null,argumentDefinitions:[]}],type:"XDTReelDict",abstractKey:null}}();e.exports=a}),null);
__d("usePolarisStoriesV3OpenFromTrayRelay",["CometRelay","PolarisIGTheme.react","PolarisStoriesV3AdsPool","PolarisStoriesV3ContainerModule","PolarisStoriesV3TrayContext","getPolarisStoriesV3IsReelSeen","react","react-compiler-runtime","useCometRouterDispatcher","usePolarisIsSmallScreen","usePolarisStoriesV3OpenFromTrayRelay_reels.graphql","usePolarisStoriesV3PrefetchUserReelsRouteDefinitionsEffect","usePolarisStoriesV3UserReelRouteBuilder","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e=i||d("react");var j=e.use,k=e.useRef;function l(){var a=d("react-compiler-runtime").c(4),b=d("PolarisIGTheme.react").useTheme(),e=b.getTheme()===d("PolarisIGTheme.react").IGTheme.Dark,f=d("CometRelay").useRelayEnvironment();b=j(c("PolarisStoriesV3TrayContext"));var g=b.traySessionId;a[0]!==f||a[1]!==e||a[2]!==g?(b=function(a,b,d){var h=c("PolarisStoriesV3AdsPool").getInstance();a=b.indexOf(a);h.shouldFetch(a,d)&&h.fetch(f,{adRequestIndex:a,entryPointIndex:a,isDarkMode:e,isPrefetch:!1,traySessionId:g,trayUserIds:b,viewerSessionId:d})},a[0]=f,a[1]=e,a[2]=g,a[3]=b):b=a[3];return b}function a(a){var e=d("react-compiler-runtime").c(22),f=d("CometRelay").useFragment(h!==void 0?h:h=b("usePolarisStoriesV3OpenFromTrayRelay_reels.graphql"),a);e[0]!==f?(a=f.map(n),e[0]=f,e[1]=a):a=e[1];a=a;c("usePolarisStoriesV3PrefetchUserReelsRouteDefinitionsEffect")(a);var g=c("usePolarisIsSmallScreen")(),i=c("useCometRouterDispatcher")(),o=c("usePolarisStoriesV3UserReelRouteBuilder")();a=j(c("PolarisStoriesV3TrayContext"));var p=a.newReelCount,q=a.seenReelCount,r=a.traySessionId;e[2]!==f?(a=function(a){var b=a.id,d=a.isMuted,e=a.isSeen;return d?[b]:f.filter(function(a){return a.muted===!0?!1:e||!c("getPolarisStoriesV3IsReelSeen")(a)}).map(m)},e[2]=f,e[3]=a):a=e[3];var s=a,t=l(),u=k(),v=k();e[4]!==o||e[5]!==i||e[6]!==s||e[7]!==g||e[8]!==t?(a=function(a){var b=a.id,d=a.username;a=s(a);var e=c("uuidv4")();u.current=a;v.current=e;t(b,a,e);b=o(d);i==null||i.prefetchRouteQueries(b,{passthroughProps:{isSmallScreen:g,reelIds:a}})},e[4]=o,e[5]=i,e[6]=s,e[7]=g,e[8]=t,e[9]=a):a=e[9];a=a;var w;e[10]!==o||e[11]!==i||e[12]!==s||e[13]!==g||e[14]!==p||e[15]!==t||e[16]!==q||e[17]!==r?(w=function(a,b){var d,e,f=a.username;d=(d=u.current)!=null?d:s(a);e=(e=v.current)!=null?e:c("uuidv4")();t(a.id,d,e);a=o(f);i==null||i.go(a,{onNavigate_DEPRECATED_FIXME:b,passthroughProps:{isSmallScreen:g,loggingModule:c("PolarisStoriesV3ContainerModule").ReelFeedTimeline,reelIds:d,trayLoggingData:{newReelCount:p,traySessionId:r,viewedReelCount:q},viewerSessionId:e}})},e[10]=o,e[11]=i,e[12]=s,e[13]=g,e[14]=p,e[15]=t,e[16]=q,e[17]=r,e[18]=w):w=e[18];w=w;var x;e[19]!==w||e[20]!==a?(x={onReelPress:w,onReelPressIn:a},e[19]=w,e[20]=a,e[21]=x):x=e[21];return x}function m(a){return a.id}function n(a){return a.user.username}g["default"]=a}),98);
__d("usePolarisStoriesV3TrayHasViewerReel_tray.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePolarisStoriesV3TrayHasViewerReel_tray",selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:"XDTReelDict",kind:"LinkedField",name:"tray",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null}],storageKey:null}],storageKey:null},action:"THROW"}],type:"XDTMaterialTray",abstractKey:null};e.exports=a}),null);
__d("usePolarisStoriesV3TrayHasViewerReel_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePolarisStoriesV3TrayHasViewerReel_viewer",selections:[{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"XDTViewer",abstractKey:null};e.exports=a}),null);
__d("usePolarisStoriesV3TrayHasViewerReel",["CometRelay","usePolarisStoriesV3TrayHasViewerReel_tray.graphql","usePolarisStoriesV3TrayHasViewerReel_viewer.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,c){a=d("CometRelay").useFragment(h!==void 0?h:h=b("usePolarisStoriesV3TrayHasViewerReel_tray.graphql"),a);c=d("CometRelay").useFragment(i!==void 0?i:i=b("usePolarisStoriesV3TrayHasViewerReel_viewer.graphql"),c);return a.tray.length>0&&((a=a.tray[0].user)==null?void 0:a.pk)===((a=c.user)==null?void 0:a.id)}g["default"]=a}),98);
__d("usePolarisStoriesV3TrayOnRefreshEffect_tray.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePolarisStoriesV3TrayOnRefreshEffect_tray",selections:[{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"refresh_key",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"refresh_latency",storageKey:null}]}],type:"XDTMaterialTray",abstractKey:null};e.exports=a}),null);
__d("usePolarisStoriesV3TrayOnRefreshEffect",["CometRelay","react","react-compiler-runtime","usePolarisStoriesV3TrayOnRefreshEffect_tray.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i;c=i||d("react");var j=c.useEffect,k=c.useRef;function a(a,c){var e=d("react-compiler-runtime").c(5),f=d("CometRelay").useFragment(h!==void 0?h:h=b("usePolarisStoriesV3TrayOnRefreshEffect_tray.graphql"),a),g=f.refresh_key,i=k(g),l;e[0]!==c||e[1]!==g||e[2]!==f.refresh_latency?(a=function(){g!=null&&g!==i.current&&(i.current=g,c(f.refresh_latency))},l=[c,g,f.refresh_latency],e[0]=c,e[1]=g,e[2]=f.refresh_latency,e[3]=a,e[4]=l):(a=e[3],l=e[4]);j(a,l)}g["default"]=a}),98);
__d("PolarisStoriesV3Tray.react",["CometRelay","PolarisIGVirtualList.react","PolarisLoggerUtils","PolarisStoriesV3TrayContext","PolarisStoriesV3TrayItemErrorBoundary.react","PolarisStoriesV3TrayLiveItem.react","PolarisStoriesV3TrayOwnReelItem.react","PolarisStoriesV3TrayReelItem.react","PolarisStoriesV3Tray_tray.graphql","PolarisStoriesV3Tray_viewer.graphql","PolarisStoryState","PolarisUA","PolarisVirtualHSnapScroll.react","ReelTrayRefreshFalcoEvent","ReelType","react","react-compiler-runtime","shouldUseIGDSPrismStoriesTray","stylex","usePolarisGetStoryTrayVariant","usePolarisStoriesV3AdsPoolPrefetch","usePolarisStoriesV3OpenFromTrayRelay","usePolarisStoriesV3TrayHasViewerReel","usePolarisStoriesV3TrayOnRefreshEffect"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=k||(k=d("react"));e=k;var m=e.useContext,n=e.useEffect;e.useMemo;var o=e.useRef,p=80,q=104,r=4,s=5;f=6;var t=8,u=f+r,v=t+s,w=500,x=4,y={listContainer:{display:"x78zum5",paddingTop:"x1y1aw1k",paddingInlineEnd:"xyri2b",paddingBottom:"xwib8y2",paddingInlineStart:"x1c1uobl","::-webkit-scrollbar_display":"xfk6m8",$$css:!0},mobileRoot:{backgroundColor:"xnz67gz",$$css:!0},root:{height:"xpyat2d",$$css:!0}},z={listContainer:{display:"x78zum5",paddingTop:"x1y1aw1k",paddingInlineEnd:"xrw5ot4",paddingBottom:"xwib8y2",paddingInlineStart:"x7coems","::-webkit-scrollbar_display":"xfk6m8",$$css:!0},mobileRoot:{backgroundColor:"xvbhtw8",$$css:!0},root:{height:"x1njnjl6",$$css:!0}};function a(a){var e=d("react-compiler-runtime").c(55),f=a.hideOwnStory,g=a.tray;a=a.viewer;var k;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(k=c("shouldUseIGDSPrismStoriesTray")(),e[0]=k):k=e[0];k=k;g=d("CometRelay").useFragment(h!==void 0?h:h=b("PolarisStoriesV3Tray_tray.graphql"),g);a=d("CometRelay").useFragment(i!==void 0?i:i=b("PolarisStoriesV3Tray_viewer.graphql"),a);var B;e[1]!==g.tray?(B=g.tray.filter(A),e[1]=g.tray,e[2]=B):B=e[2];B=B;B=B;var C=c("usePolarisStoriesV3TrayHasViewerReel")(g,a),D=C?B[0]:null,E;e[3]!==C||e[4]!==B?(E=C?B.slice(1):B,e[3]=C,e[4]=B,e[5]=E):E=e[5];B=E;E=B;e[6]!==C||e[7]!==f?(B=(C||d("PolarisUA").isMobile())&&!f,e[6]=C,e[7]=f,e[8]=B):B=e[8];C=B;f=c("usePolarisGetStoryTrayVariant")();if(e[9]!==g.broadcasts||e[10]!==f){B=d("PolarisUA").isMobile()||f===d("PolarisStoryState").PolarisStoryTrayVariants.FOLLOWING?[]:(B=g.broadcasts)!=null?B:[];e[9]=g.broadcasts;e[10]=f;e[11]=B}else B=e[11];B=B;var F=C?1:0,G=B.length+F,H=c("usePolarisStoriesV3OpenFromTrayRelay")(E),I=H.onReelPress,J=H.onReelPressIn;H=m(c("PolarisStoriesV3TrayContext"));var K=H.hasMyReel,L=H.newReelCount,M=H.seenReelCount,N=H.traySessionId;e[12]!==I?(H=function(a,b){I(a,b)},e[12]=I,e[13]=H):H=e[13];var O=H,P=c("usePolarisStoriesV3AdsPoolPrefetch")(E),Q;e[14]!==P?(H=function(){d("PolarisUA").isDesktop()&&P()},Q=[P],e[14]=P,e[15]=Q,e[16]=H):(Q=e[15],H=e[16]);n(H,Q);e[17]!==J||e[18]!==P?(H=function(a){d("PolarisUA").isMobile()?P():J(a)},e[17]=J,e[18]=P,e[19]=H):H=e[19];var R=H;e[20]!==K||e[21]!==L||e[22]!==M||e[23]!==N?(Q=function(a){c("ReelTrayRefreshFalcoEvent").log(function(){return{has_my_reel:K?"1":"0",new_reel_count:L.toString(),tray_refresh_time:Number(d("PolarisLoggerUtils").msToLogSeconds(a!=null?a:0)),tray_refresh_type:"network",tray_session_id:N,viewed_reel_count:M.toString(),was_successful:!0}})},e[20]=K,e[21]=L,e[22]=M,e[23]=N,e[24]=Q):Q=e[24];c("usePolarisStoriesV3TrayOnRefreshEffect")(g,Q);e[25]!==C||e[26]!==a||e[27]!==D?(H=C?l.jsx(c("PolarisStoriesV3TrayItemErrorBoundary.react"),{children:l.jsx(c("PolarisStoriesV3TrayOwnReelItem.react"),{reel:D,trayPosition:0,viewer:a})},"viewerReel"):null,e[25]=C,e[26]=a,e[27]=D,e[28]=H):H=e[28];e[29]!==F||e[30]!==B?(g=B.map(function(a,b){return l.jsx(c("PolarisStoriesV3TrayItemErrorBoundary.react"),{children:l.jsx(c("PolarisStoriesV3TrayLiveItem.react"),{broadcast:a,trayPosition:F+b})},"broadcast_"+((a=a.id)!=null?a:b))}),e[29]=F,e[30]=B,e[31]=g):g=e[31];e[32]!==O||e[33]!==R||e[34]!==G||e[35]!==E?(Q=E.map(function(a,b){return l.jsx(c("PolarisStoriesV3TrayItemErrorBoundary.react"),{children:l.jsx(c("PolarisStoriesV3TrayReelItem.react"),{onClick:O,onPressIn:R,reel:a,trayPosition:G+b})},"reel_"+a.id)}),e[32]=O,e[33]=R,e[34]=G,e[35]=E,e[36]=Q):Q=e[36];e[37]!==H||e[38]!==g||e[39]!==Q?(C=[H].concat(g,Q).filter(Boolean),e[37]=H,e[38]=g,e[39]=Q,e[40]=C):C=e[40];var S=C;e[41]!==S?(a=function(a){a=a.index;return S[a]},e[41]=S,e[42]=a):a=e[42];D=a;var T=o();e[43]===Symbol["for"]("react.memo_cache_sentinel")?(B=function(){var a;return(a=T.current)==null?void 0:a.resetToIndex(0)},e[43]=B):B=e[43];e[44]!==f?(E=[f],e[44]=f,e[45]=E):E=e[45];n(B,E);if(d("PolarisUA").isDesktop()){e[46]===Symbol["for"]("react.memo_cache_sentinel")?(H=k?{className:"x1njnjl6"}:{className:"xpyat2d"},e[46]=H):H=e[46];g=S.length>t;e[47]!==S||e[48]!==g?(Q=l.jsx("div",babelHelpers["extends"]({},H,{children:l.jsx(c("PolarisVirtualHSnapScroll.react"),{animationDuration:w,autoScrollOnFocus:!1,disableScrollSnap:!0,initialNextPagerVisibleGuess:g,initialVisibleItemsGuess:v,itemWidth:k?q:p,listContainerXStyle:k?z.listContainer:y.listContainer,overscan:s,pagerVariant:"stories_v2",pageSize:x,scrollRef:T,children:S})})),e[47]=S,e[48]=g,e[49]=Q):Q=e[49];return Q}e[50]===Symbol["for"]("react.memo_cache_sentinel")?(C=(j||(j=c("stylex"))).props(k?[z.root,z.mobileRoot]:[y.root,y.mobileRoot]),e[50]=C):C=e[50];e[51]===Symbol["for"]("react.memo_cache_sentinel")?(a={0:"x78zum5 x1y1aw1k xyri2b xwib8y2 x1c1uobl xfk6m8",1:"x78zum5 x1y1aw1k xrw5ot4 xwib8y2 x7coems xfk6m8"}[!!k<<0],e[51]=a):a=e[51];e[52]!==S.length||e[53]!==D?(f=l.jsx("div",babelHelpers["extends"]({},C,{children:l.jsx(c("PolarisIGVirtualList.react"),{className:a,containerSize:"auto",direction:"horizontal",estimatedItemSize:p,initialRenderCount:u,itemCount:S.length,overscanCount:r,pageletName:"story_tray_inner",renderer:D})})),e[52]=S.length,e[53]=D,e[54]=f):f=e[54];return f}function A(a){return c("ReelType").cast(a.reel_type)==="user_reel"}g["default"]=a}),98);
__d("PolarisStoriesV3TrayContextProvider_tray.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisStoriesV3TrayContextProvider_tray",selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:"XDTReelDict",kind:"LinkedField",name:"tray",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},action:"THROW"},{args:null,kind:"FragmentSpread",name:"usePolarisStoriesV3TrayHasViewerReel_tray"},{args:null,kind:"FragmentSpread",name:"usePolarisStoriesV3TraySeenReelCount_tray"},{args:null,kind:"FragmentSpread",name:"usePolarisStoriesV3TraySessionId_tray"}],type:"XDTMaterialTray",abstractKey:null};e.exports=a}),null);
__d("PolarisStoriesV3TrayContextProvider_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisStoriesV3TrayContextProvider_viewer",selections:[{args:null,kind:"FragmentSpread",name:"usePolarisStoriesV3TrayHasViewerReel_viewer"}],type:"XDTViewer",abstractKey:null};e.exports=a}),null);
__d("usePolarisStoriesV3TraySeenReelCount_tray.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePolarisStoriesV3TraySeenReelCount_tray",selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:"XDTReelDict",kind:"LinkedField",name:"tray",plural:!0,selections:[{kind:"InlineDataFragmentSpread",name:"getPolarisStoriesV3IsReelSeen_reel",selections:[{alias:null,args:null,kind:"ScalarField",name:"latest_reel_media",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"muted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seen",storageKey:null}],args:null,argumentDefinitions:[]}],storageKey:null},action:"THROW"}],type:"XDTMaterialTray",abstractKey:null};e.exports=a}),null);
__d("usePolarisStoriesV3TraySeenReelCount",["CometRelay","getPolarisStoriesV3IsReelSeen","react","react-compiler-runtime","usePolarisStoriesV3TraySeenReelCount_tray.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i;(i||d("react")).useMemo;function a(a){var c=d("react-compiler-runtime").c(2);a=d("CometRelay").useFragment(h!==void 0?h:h=b("usePolarisStoriesV3TraySeenReelCount_tray.graphql"),a);var e;c[0]!==a.tray?(e=a.tray.filter(j),c[0]=a.tray,c[1]=e):e=c[1];a=e.length;return a}function j(a){return c("getPolarisStoriesV3IsReelSeen")(a)}g["default"]=a}),98);
__d("usePolarisStoriesV3TraySessionId_tray.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePolarisStoriesV3TraySessionId_tray",selections:[{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"tray_session_id",storageKey:null}]}],type:"XDTMaterialTray",abstractKey:null};e.exports=a}),null);
__d("usePolarisStoriesV3TraySessionId",["CometRelay","PolarisStoryState","polarisGetXDTMaterialTray","react","react-compiler-runtime","usePolarisGetStoryTrayVariant","usePolarisStoriesV3TraySessionId_tray.graphql","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e=i||d("react");var j=e.useEffect;e.useMemo;function a(a){var e=d("react-compiler-runtime").c(8),f=d("CometRelay").useFragment(h!==void 0?h:h=b("usePolarisStoriesV3TraySessionId_tray.graphql"),a);if(e[0]!==f.tray_session_id){a=(a=f.tray_session_id)!=null?a:c("uuidv4")();e[0]=f.tray_session_id;e[1]=a}else a=e[1];a=a;var g=a,i=d("CometRelay").useRelayEnvironment(),k=c("usePolarisGetStoryTrayVariant")(),l;e[2]!==i||e[3]!==f.tray_session_id||e[4]!==g||e[5]!==k?(a=function(){f.tray_session_id==null&&d("CometRelay").commitLocalUpdate(i,function(a){a=c("polarisGetXDTMaterialTray")(a,k===d("PolarisStoryState").PolarisStoryTrayVariants.FOLLOWING);a==null||a.setValue(g,"tray_session_id")})},l=[i,f.tray_session_id,g,k],e[2]=i,e[3]=f.tray_session_id,e[4]=g,e[5]=k,e[6]=a,e[7]=l):(a=e[6],l=e[7]);j(a,l);return g}g["default"]=a}),98);
__d("PolarisStoriesV3TrayContextProvider.react",["CometRelay","PolarisStoriesV3TrayContext","PolarisStoriesV3TrayContextProvider_tray.graphql","PolarisStoriesV3TrayContextProvider_viewer.graphql","react","react-compiler-runtime","usePolarisStoriesV3TrayHasViewerReel","usePolarisStoriesV3TraySeenReelCount","usePolarisStoriesV3TraySessionId"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react"));j.useMemo;function a(a){var e=d("react-compiler-runtime").c(8),f=a.children,g=a.hideOwnStory,j=a.tray;a=a.viewer;g=g===void 0?!1:g;j=d("CometRelay").useFragment(h!==void 0?h:h=b("PolarisStoriesV3TrayContextProvider_tray.graphql"),j);a=d("CometRelay").useFragment(i!==void 0?i:i=b("PolarisStoriesV3TrayContextProvider_viewer.graphql"),a);a=c("usePolarisStoriesV3TrayHasViewerReel")(j,a);var l=c("usePolarisStoriesV3TraySeenReelCount")(j),m=j.tray.length-l;j=c("usePolarisStoriesV3TraySessionId")(j);a=a&&!g;e[0]!==m||e[1]!==l||e[2]!==a||e[3]!==j?(g={hasMyReel:a,newReelCount:m,seenReelCount:l,traySessionId:j},e[0]=m,e[1]=l,e[2]=a,e[3]=j,e[4]=g):g=e[4];m=g;l=m;e[5]!==f||e[6]!==l?(a=k.jsx(c("PolarisStoriesV3TrayContext").Provider,{value:l,children:f}),e[5]=f,e[6]=l,e[7]=a):a=e[7];return a}g["default"]=a}),98);
__d("PolarisStoriesV3TrayContainer.react",["CometRelay","PolarisStoriesV3Tray.react","PolarisStoriesV3TrayContainerQuery","PolarisStoriesV3TrayContextProvider.react","PolarisUA","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(8),e=a.hideOwnStory;a=a.queryReference;e=e===void 0?!1:e;a=d("CometRelay").usePreloadedQuery(c("PolarisStoriesV3TrayContainerQuery"),a);var f=a.xdt_api__v1__feed__reels_tray;a=a.xdt_viewer;if(d("PolarisUA").isDesktop()&&f.tray.length===0)return null;var g;b[0]!==e||b[1]!==f||b[2]!==a?(g=i.jsx(c("PolarisStoriesV3Tray.react"),{hideOwnStory:e,tray:f,viewer:a}),b[0]=e,b[1]=f,b[2]=a,b[3]=g):g=b[3];b[4]!==g||b[5]!==f||b[6]!==a?(e=i.jsx(c("PolarisStoriesV3TrayContextProvider.react"),{tray:f,viewer:a,children:g}),b[4]=g,b[5]=f,b[6]=a,b[7]=e):e=b[7];return e}g["default"]=a}),98);