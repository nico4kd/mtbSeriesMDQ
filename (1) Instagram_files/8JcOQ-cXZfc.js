;/*FB_PKG_DELIM*/

__d("PolarisProfileStoryHighlightSectionText.react",["IGDSTextVariants.react","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={titleContainer:{cursor:"x1ypdohk",textAlign:"x2b8uid",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(8),e=a.highlightLabel,f=a.isSmallScreen;a=a.itemTitleXStyle;var g;b[0]!==a?(g=(h||(h=c("stylex"))).props(a,k.titleContainer),b[0]=a,b[1]=g):g=b[1];b[2]!==e||b[3]!==f?(a=f?j.jsx(d("IGDSTextVariants.react").IGDSTextBody2,{maxLines:1,zeroMargin:!0,children:e}):j.jsx(d("IGDSTextVariants.react").IGDSTextBody2Emphasized,{maxLines:1,zeroMargin:!0,children:e}),b[2]=e,b[3]=f,b[4]=a):a=b[4];b[5]!==g||b[6]!==a?(e=j.jsx("div",babelHelpers["extends"]({},g,{children:a})),b[5]=g,b[6]=a,b[7]=e):e=b[7];return e}g["default"]=a}),98);
__d("PolarisProfileNewHighlightTrayItem.react",["CometPressable.react","IGDSAddOutline24Icon.react","PolarisNewHighlightsStrings","PolarisProfileStoryHighlightSectionText.react","PolarisStoryRing.react","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={pressable:{alignItems:"x6s0dn4",display:"x78zum5",flexDirection:"xdt5ytf",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(26),e=a.avatarSize,f=a.isSmallScreen,g=a.itemTitleXStyle,i=a.itemXStyle;a=a.onClick;var l;b[0]!==e?(l={height:e,width:e},b[0]=e,b[1]=l):l=b[1];l=l;var m;b[2]!==i?(m=(h||(h=c("stylex"))).props(i),b[2]=i,b[3]=m):m=b[3];b[4]===Symbol["for"]("react.memo_cache_sentinel")?(i={className:"xamitd3 x1ypdohk x1lliihq x1n2onr6 x87ps6o"},b[4]=i):i=b[4];var n;b[5]!==e?(n=j.jsx(c("PolarisStoryRing.react"),{isCenterOnAvatar:!0,seen:!0,showRing:!0,size:e}),b[5]=e,b[6]=n):n=b[6];b[7]===Symbol["for"]("react.memo_cache_sentinel")?(e="xnz67gz x1c9tyrk xeusxvb x1pahc9y x1ertn4p x6ikm8r x10wlt62 x1n2onr6 x6s0dn4 x78zum5 xl56j7k",b[7]=e):e=b[7];var o=f?30:44,p;b[8]!==o?(p=j.jsx(c("IGDSAddOutline24Icon.react"),{alt:d("PolarisNewHighlightsStrings").NEW_HIGHLIGHT_BUTTON_ALT_TEXT,color:"ig-tertiary-icon",size:o}),b[8]=o,b[9]=p):p=b[9];b[10]!==l||b[11]!==p?(o=j.jsx("div",{className:e,style:l,children:p}),b[10]=l,b[11]=p,b[12]=o):o=b[12];b[13]!==n||b[14]!==o?(e=j.jsxs("div",babelHelpers["extends"]({},i,{children:[n,o]})),b[13]=n,b[14]=o,b[15]=e):e=b[15];b[16]!==f||b[17]!==g?(l=j.jsx(c("PolarisProfileStoryHighlightSectionText.react"),{highlightLabel:d("PolarisNewHighlightsStrings").NEW_HIGHLIGHT_BUTTON_TEXT,isSmallScreen:f,itemTitleXStyle:g}),b[16]=f,b[17]=g,b[18]=l):l=b[18];b[19]!==a||b[20]!==l||b[21]!==e?(p=j.jsxs(c("CometPressable.react"),{onPress:a,overlayDisabled:!0,xstyle:k.pressable,children:[e,l]}),b[19]=a,b[20]=l,b[21]=e,b[22]=p):p=b[22];b[23]!==p||b[24]!==m?(i=j.jsx("div",babelHelpers["extends"]({},m,{children:p})),b[23]=p,b[24]=m,b[25]=i):i=b[25];return i}g["default"]=a}),98);
__d("PolarisProfileStoryHighlightsTrayItem_reel.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisProfileStoryHighlightsTrayItem_reel",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},action:"THROW"},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,concreteType:"XDTReelCoverMediaClientDict",kind:"LinkedField",name:"cover_media",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTReelCoverMediaImageVersionClientDict",kind:"LinkedField",name:"cropped_image_version",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null}],type:"XDTReelDict",abstractKey:null};e.exports=a}),null);
__d("PolarisProfileStoryHighlightsTrayItem.next.react",["fbt","CometImage.react","CometPressable.react","CometRelay","PolarisAvatarWithStories.react","PolarisIsLoggedIn","PolarisProfileStoryHighlightSectionText.react","PolarisProfileStoryHighlightsTrayItem_reel.graphql","react","react-compiler-runtime","shouldShowProfileRedesign","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||d("react"),m={pressable:{alignItems:"x6s0dn4",display:"x78zum5",flexDirection:"xdt5ytf",$$css:!0},pressState:{":active_transform":"xk4oym4",$$css:!0}};function a(a){var e,f,g=d("react-compiler-runtime").c(35),k=a.avatarSize,n=a.isLoading,o=a.isSmallScreen,p=a.itemTitleXStyle,q=a.itemXStyle,r=a.onClick;a=a.reel$key;var s=d("CometRelay").useFragment(i!==void 0?i:i=b("PolarisProfileStoryHighlightsTrayItem_reel.graphql"),a);g[0]!==r||g[1]!==s.id?(a=function(a){a.stopPropagation(),r(s.id)},g[0]=r,g[1]=s.id,g[2]=a):a=g[2];a=a;var t;g[3]!==k?(t={height:k,width:k},g[3]=k,g[4]=t):t=g[4];t=t;e=(e=s.cover_media)==null||(e=e.cropped_image_version)==null?void 0:e.url;var u;g[5]===Symbol["for"]("react.memo_cache_sentinel")?(u=c("shouldShowProfileRedesign")(),g[5]=u):u=g[5];u=u;var v;g[6]!==q?(v=(j||(j=c("stylex"))).props(q),g[6]=q,g[7]=v):v=g[7];g[8]===Symbol["for"]("react.memo_cache_sentinel")?(q=[m.pressable,u&&m.pressState],g[8]=q):q=g[8];u=s.id;var w,x;g[9]===Symbol["for"]("react.memo_cache_sentinel")?(w=d("PolarisIsLoggedIn").isLoggedIn(),x="xnz67gz x1c9tyrk xeusxvb x1pahc9y x1ertn4p x1lliihq x6ikm8r x10wlt62 x1n2onr6",g[9]=w,g[10]=x):(w=g[9],x=g[10]);if(g[11]!==k||g[12]!==((f=s.user)==null?void 0:f.username)||g[13]!==e){var y;f=e!=null&&l.jsx(c("CometImage.react"),{alt:h._(/*BTDS*/"Foto de la historia destacada de {username}",[h._param("username",(f=s.user)==null?void 0:f.username)]),height:k,src:e,testid:void 0,width:k});g[11]=k;g[12]=(y=s.user)==null?void 0:y.username;g[13]=e;g[14]=f}else f=g[14];g[15]!==t||g[16]!==f?(y=l.jsx("div",{className:x,style:t,children:f}),g[15]=t,g[16]=f,g[17]=y):y=g[17];g[18]!==k||g[19]!==a||g[20]!==n||g[21]!==s.id||g[22]!==y?(e=l.jsx(c("PolarisAvatarWithStories.react"),{canTabFocus:!0,hasPrideMedia:!1,isLoading:n,isReelSeen:!0,onClick:a,reelId:u,showRing:!0,size:k,viewerLoggedIn:w,children:y}),g[18]=k,g[19]=a,g[20]=n,g[21]=s.id,g[22]=y,g[23]=e):e=g[23];g[24]!==o||g[25]!==p||g[26]!==s.title?(x=l.jsx(c("PolarisProfileStoryHighlightSectionText.react"),{highlightLabel:s.title,isSmallScreen:o,itemTitleXStyle:p}),g[24]=o,g[25]=p,g[26]=s.title,g[27]=x):x=g[27];g[28]!==a||g[29]!==e||g[30]!==x?(t=l.jsxs(c("CometPressable.react"),{onPress:a,overlayDisabled:!0,xstyle:q,children:[e,x]}),g[28]=a,g[29]=e,g[30]=x,g[31]=t):t=g[31];g[32]!==t||g[33]!==v?(f=l.jsx("div",babelHelpers["extends"]({},v,{children:t})),g[32]=t,g[33]=v,g[34]=f):f=g[34];return f}g["default"]=a}),226);
__d("useIsFixedStoryHighlightsTrayAnimation.react",["CometRelay","PolarisConfig","PolarisIsLoggedIn","PolarisUA","fetchPolarisLoggedOutExperiment","promiseDone","qex","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=d("react-compiler-runtime").c(3),e=d("CometRelay").useRelayEnvironment(),f;b[0]!==e||b[1]!==a?(f=a?function(){if(!d("PolarisUA").isDesktop())return!1;if(d("PolarisConfig").isLoggedOutUser()){c("promiseDone")(c("fetchPolarisLoggedOutExperiment")(e,{name:"ig_web_profile_lox_universe_desktop",param:"should_have_fixed_scroll_animation"}));return c("qex")._("991")===!0}else if(d("PolarisIsLoggedIn").isLoggedIn())return c("qex")._("1164")===!0;return!1}:h,b[0]=e,b[1]=a,b[2]=f):f=b[2];return f}function h(){if(!d("PolarisUA").isDesktop())return!1;if(d("PolarisConfig").isLoggedOutUser())return c("qex")._("1265")===!0;else if(d("PolarisIsLoggedIn").isLoggedIn())return c("qex")._("991")===!0;return!1}g["default"]=a}),98);
__d("PolarisProfileStoryHighlightsTrayContent.react",["CometRelay","IGDSBox.react","JSResourceForInteraction","PolarisConfig","PolarisProfileNewHighlightTrayItem.react","PolarisProfileStoryHighlightsTrayContentFragment","PolarisProfileStoryHighlightsTrayContentQuery","PolarisProfileStoryHighlightsTrayItem.next.react","PolarisReactRedux.react","PolarisStoryActions","PolarisUA","PolarisVirtualHSnapScroll.react","XPolarisStoriesHighlightsControllerRouteBuilder","cr:3285","cr:602","immutable-4.0.0-rc.9","polarisLogAction","react","stylex","useCometRouterDispatcher","useIGDSLazyDialog","useIsFixedStoryHighlightsTrayAnimation.react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));e=i;var k=e.useCallback,l=e.useMemo,m=e.useState,n=(e=b("cr:602"))!=null?e:b("cr:3285"),o=c("JSResourceForInteraction")("PolarisCreateAndAddHighlightsModal.react").__setRef("PolarisProfileStoryHighlightsTrayContent.react"),p=100,q=6,r=500;function a(a){var b=a.initialVisibleItems,e=a.isSmallScreen,f=a.itemTitleXStyle,g=a.itemXStyle,i=a.queryReference,s=a.sizes,t=a.userID;a=a.xstyle;i=d("CometRelay").usePreloadedQuery(c("PolarisProfileStoryHighlightsTrayContentQuery"),i);i=d("CometRelay").usePaginationFragment(c("PolarisProfileStoryHighlightsTrayContentFragment"),i);var u=i.data,v=i.hasNext,w=i.isLoadingNext,x=i.loadNext,y=i.refetch,z=d("PolarisReactRedux.react").useDispatch(),A=c("useIsFixedStoryHighlightsTrayAnimation.react")(!0);i=c("useIsFixedStoryHighlightsTrayAnimation.react")(!1);var B=l(function(){var a;return(a=(a=u.highlights)==null?void 0:a.edges.map(function(a){return a.node}))!=null?a:[]},[u.highlights]),C=l(function(){return B.map(function(a){return a.id}).filter(Boolean)},[B]),D=k(function(a){a=a.endPct;var b=B.length,c=Math.floor(a);b=b-c<=q;c=a>q+1;c&&A();b&&!w&&v&&x(p)},[B.length,w,v,A,x]),E=n(C);C=m(null);var F=C[0],G=C[1],H=c("useCometRouterDispatcher")(),I=k(function(a){H==null||H.go(c("XPolarisStoriesHighlightsControllerRouteBuilder").buildURL({highlight_reel_id:a}),{replace:!0})},[H]),J=k(function(a){G(a);if(E!=null){E(a,function(){G(null)});return}else z(d("PolarisStoryActions").openReelsMedia(d("immutable-4.0.0-rc.9").Seq.Indexed(B.map(function(a){return{id:a.id}})),"reel_highlight_profile",a,"",void 0,!0,function(){return I(a)}))},[z,I,E,B]);C=c("useIGDSLazyDialog")(o);var K=C[0],L=k(function(){c("polarisLogAction")("addHighlightIconClick"),K({onCreateSuccess:function(){y({user_id:t},{fetchPolicy:"network-only"})},userId:t})},[y,K,t]);C=i();i=l(function(){var a=B.map(function(a){return j.jsx(c("IGDSBox.react"),{alignItems:"center",justifyContent:"center",position:"relative",width:s.cardWidth+s.gapWidth/2,children:j.jsx(c("PolarisProfileStoryHighlightsTrayItem.next.react"),{avatarSize:s.avatarSize,isLoading:a.id===F,isSmallScreen:e,itemTitleXStyle:f,itemXStyle:g,onClick:J,reel$key:a})},a.id)}),b=j.jsx(c("IGDSBox.react"),{alignItems:"center",justifyContent:"center",position:"relative",width:s.cardWidth+s.gapWidth/2,children:j.jsx(c("PolarisProfileNewHighlightTrayItem.react"),{avatarSize:s.avatarSize,isSmallScreen:e,itemTitleXStyle:f,itemXStyle:g,onClick:L})},"newHighlight");return t===d("PolarisConfig").getViewerId()&&d("PolarisUA").isDesktop()?[].concat(a,[b]):a},[B,s.cardWidth,s.gapWidth,s.avatarSize,e,f,g,L,t,F,J]);return i.length===0?null:j.jsx("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(a),{children:j.jsx(c("PolarisVirtualHSnapScroll.react"),{animationDuration:C?r:void 0,gutterWidth:s.gutterWidth,initialVisibleItemsGuess:b,itemWidth:s.cardWidth+s.gutterWidth/2,onVisibilityChange:D,overscan:7,pagerDisabled:e,children:i},"highlights")}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);